<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:51,&quot;tests&quot;:130,&quot;passes&quot;:130,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-05-15T14:01:16.412Z&quot;,&quot;end&quot;:&quot;2020-05-15T14:01:16.477Z&quot;,&quot;duration&quot;:65,&quot;testsRegistered&quot;:130,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;9e8be3d4-9675-4f1c-a549-e5bf6a76e964&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;802be998-6061-4718-b2ad-e87e541fa95a&quot;,&quot;title&quot;:&quot;Bag&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/bag/Bag.spec.ts&quot;,&quot;file&quot;:&quot;/spec/bag/Bag.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not be affected by changes to the passed array of tokens&quot;,&quot;fullTitle&quot;:&quot;Bag should not be affected by changes to the passed array of tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var someTokens = [tokens_1.Token.ZERO, tokens_1.Token.MINUS_ONE];\nvar bag = new bag_1.Bag(someTokens);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ZERO, tokens_1.Token.MINUS_ONE]);\nsomeTokens.push(tokens_1.Token.AUTOFAIL);\nchai_1.expect(someTokens).to.deep.equal([\n    tokens_1.Token.ZERO,\n    tokens_1.Token.MINUS_ONE,\n    tokens_1.Token.AUTOFAIL\n]);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ZERO, tokens_1.Token.MINUS_ONE]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3e00f0f-7579-432f-a4f3-9f1b83b22621&quot;,&quot;parentUUID&quot;:&quot;802be998-6061-4718-b2ad-e87e541fa95a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f5354238-8f8e-4b4f-9150-3dea59b063a2&quot;,&quot;title&quot;:&quot;getTokens&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/bag/Bag.spec.ts&quot;,&quot;file&quot;:&quot;/spec/bag/Bag.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;modifications to the returned array should not affect the Bag&quot;,&quot;fullTitle&quot;:&quot;Bag getTokens modifications to the returned array should not affect the Bag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);\nvar tokens = bag.getTokens();\ntokens.push(tokens_1.Token.TABLET);\nchai_1.expect(tokens).to.deep.equal([\n    tokens_1.Token.ELDER_SIGN,\n    tokens_1.Token.AUTOFAIL,\n    tokens_1.Token.TABLET\n]);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc20d95e-261f-44cd-8faf-8f1b5cddc1f3&quot;,&quot;parentUUID&quot;:&quot;f5354238-8f8e-4b4f-9150-3dea59b063a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bc20d95e-261f-44cd-8faf-8f1b5cddc1f3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;47336b79-9725-4882-818e-efc84703eb0c&quot;,&quot;title&quot;:&quot;addTokens&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/bag/Bag.spec.ts&quot;,&quot;file&quot;:&quot;/spec/bag/Bag.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new Bag&quot;,&quot;fullTitle&quot;:&quot;Bag addTokens should return a new Bag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN]);\nvar added = bag.addTokens([tokens_1.Token.AUTOFAIL]);\nchai_1.expect(added).not.to.equal(bag);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab863921-ecfd-46e5-8d7d-72c31036b0aa&quot;,&quot;parentUUID&quot;:&quot;47336b79-9725-4882-818e-efc84703eb0c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add the tokens&quot;,&quot;fullTitle&quot;:&quot;Bag addTokens should add the tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN]);\nvar added = bag.addTokens([tokens_1.Token.AUTOFAIL, tokens_1.Token.TABLET]);\nchai_1.expect(added.getTokens()).to.deep.equal([\n    tokens_1.Token.ELDER_SIGN,\n    tokens_1.Token.AUTOFAIL,\n    tokens_1.Token.TABLET\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8da12cc8-69f4-46fe-b1fc-abbe66cd5e18&quot;,&quot;parentUUID&quot;:&quot;47336b79-9725-4882-818e-efc84703eb0c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leave the original Bag untouched&quot;,&quot;fullTitle&quot;:&quot;Bag addTokens should leave the original Bag untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN]);\nbag.addTokens([tokens_1.Token.AUTOFAIL]);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ELDER_SIGN]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7352e0e6-40de-4c1e-8b40-3639debc3ba5&quot;,&quot;parentUUID&quot;:&quot;47336b79-9725-4882-818e-efc84703eb0c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ab863921-ecfd-46e5-8d7d-72c31036b0aa&quot;,&quot;8da12cc8-69f4-46fe-b1fc-abbe66cd5e18&quot;,&quot;7352e0e6-40de-4c1e-8b40-3639debc3ba5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f25c7318-b56d-477c-a1d1-40d573b3e6df&quot;,&quot;title&quot;:&quot;removeToken&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/bag/Bag.spec.ts&quot;,&quot;file&quot;:&quot;/spec/bag/Bag.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new Bag&quot;,&quot;fullTitle&quot;:&quot;Bag removeToken should return a new Bag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);\nvar removed = bag.removeToken(tokens_1.Token.AUTOFAIL);\nchai_1.expect(removed).not.to.equal(bag);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40555b83-8a9d-412e-b880-dc67469f6e44&quot;,&quot;parentUUID&quot;:&quot;f25c7318-b56d-477c-a1d1-40d573b3e6df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove the token&quot;,&quot;fullTitle&quot;:&quot;Bag removeToken should remove the token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);\nvar removed = bag.removeToken(tokens_1.Token.AUTOFAIL);\nchai_1.expect(removed.getTokens()).to.deep.equal([tokens_1.Token.ELDER_SIGN]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1ee75be-350b-45ab-b9db-d06f9c660ced&quot;,&quot;parentUUID&quot;:&quot;f25c7318-b56d-477c-a1d1-40d573b3e6df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should the original Bag untouched&quot;,&quot;fullTitle&quot;:&quot;Bag removeToken should the original Bag untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);\nbag.removeToken(tokens_1.Token.AUTOFAIL);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;302eb016-6c5f-4bd1-a47f-a3854feaa733&quot;,&quot;parentUUID&quot;:&quot;f25c7318-b56d-477c-a1d1-40d573b3e6df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;40555b83-8a9d-412e-b880-dc67469f6e44&quot;,&quot;f1ee75be-350b-45ab-b9db-d06f9c660ced&quot;,&quot;302eb016-6c5f-4bd1-a47f-a3854feaa733&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;f3e00f0f-7579-432f-a4f3-9f1b83b22621&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5e3fca1e-54aa-4386-9fc4-6262139692d6&quot;,&quot;title&quot;:&quot;cards&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;cards \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.ZERO, new src_1.Modifier(0)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.MINUS_FOUR, new src_1.Modifier(-4)],\n    [src_1.Token.AUTOFAIL, new src_1.Autofail()],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)],\n    [src_1.Token.CURSE, new src_1.Modifier(-2, true)]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7f24029-5601-4437-a540-6209dd76ede8&quot;,&quot;parentUUID&quot;:&quot;5e3fca1e-54aa-4386-9fc4-6262139692d6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;281b4747-6f2b-4fbf-80e4-9cd5269dae27&quot;,&quot;title&quot;:&quot;success&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards success returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.success(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f7b924d-ec41-48fe-9818-6de9c98055f9&quot;,&quot;parentUUID&quot;:&quot;281b4747-6f2b-4fbf-80e4-9cd5269dae27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returned function determine success resolving all pulled tokens&quot;,&quot;fullTitle&quot;:&quot;cards success returned function determine success resolving all pulled tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.success(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be\n    .false;\nchai_1.expect(src_1.success(3)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be\n    .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1da5403a-cb51-4472-9831-59d608a681e3&quot;,&quot;parentUUID&quot;:&quot;281b4747-6f2b-4fbf-80e4-9cd5269dae27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7f7b924d-ec41-48fe-9818-6de9c98055f9&quot;,&quot;1da5403a-cb51-4472-9831-59d608a681e3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;729b7b43-8757-425e-8da2-b3468105fca7&quot;,&quot;title&quot;:&quot;successChoosingBest&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards successChoosingBest returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.successChoosingBest(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47327c45-0aa0-4487-8da5-23e5ff190c4a&quot;,&quot;parentUUID&quot;:&quot;729b7b43-8757-425e-8da2-b3468105fca7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty when applying the best token&quot;,&quot;fullTitle&quot;:&quot;cards successChoosingBest returns true if greater than difficulty when applying the best token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.successChoosingBest(1)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d317792a-d4ce-49b8-bad4-e1316a369833&quot;,&quot;parentUUID&quot;:&quot;729b7b43-8757-425e-8da2-b3468105fca7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty when applying the best token&quot;,&quot;fullTitle&quot;:&quot;cards successChoosingBest returns false if lesser than difficulty when applying the best token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.successChoosingBest(0)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61a08e64-4347-4226-8d70-7f56cadb2a5f&quot;,&quot;parentUUID&quot;:&quot;729b7b43-8757-425e-8da2-b3468105fca7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should assume that redraw tokens where pulled&quot;,&quot;fullTitle&quot;:&quot;cards successChoosingBest should assume that redraw tokens where pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.successChoosingBest(0)([src_1.Token.AUTOFAIL, src_1.Token.MINUS_FOUR, src_1.Token.BLESS], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cfd268a-6c55-4d34-8495-0f0760a907bd&quot;,&quot;parentUUID&quot;:&quot;729b7b43-8757-425e-8da2-b3468105fca7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;47327c45-0aa0-4487-8da5-23e5ff190c4a&quot;,&quot;d317792a-d4ce-49b8-bad4-e1316a369833&quot;,&quot;61a08e64-4347-4226-8d70-7f56cadb2a5f&quot;,&quot;2cfd268a-6c55-4d34-8495-0f0760a907bd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e90da7ec-c583-4d6d-b553-2b81aa1f1a75&quot;,&quot;title&quot;:&quot;oliveMcBride&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBride returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.oliveMcBride(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ef83f2f-79f6-40ac-9414-9491295dff9b&quot;,&quot;parentUUID&quot;:&quot;e90da7ec-c583-4d6d-b553-2b81aa1f1a75&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if higher than difficulty with the 2 best tokens&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBride returns true if higher than difficulty with the 2 best tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBride(1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a335f09-b25e-4c51-94a5-561ceff86b84&quot;,&quot;parentUUID&quot;:&quot;e90da7ec-c583-4d6d-b553-2b81aa1f1a75&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty with the 2 best tokens&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBride returns false if lesser than difficulty with the 2 best tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBride(0)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;653279d9-c063-42f7-af67-4a5c28a64f0f&quot;,&quot;parentUUID&quot;:&quot;e90da7ec-c583-4d6d-b553-2b81aa1f1a75&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should assume that redraw tokens where pulled&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBride should assume that redraw tokens where pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBride(-2)([src_1.Token.AUTOFAIL, src_1.Token.MINUS_FOUR, src_1.Token.BLESS, src_1.Token.ZERO], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e36af28-4122-4617-b1e4-b30a06c2e082&quot;,&quot;parentUUID&quot;:&quot;e90da7ec-c583-4d6d-b553-2b81aa1f1a75&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6ef83f2f-79f6-40ac-9414-9491295dff9b&quot;,&quot;0a335f09-b25e-4c51-94a5-561ceff86b84&quot;,&quot;653279d9-c063-42f7-af67-4a5c28a64f0f&quot;,&quot;6e36af28-4122-4617-b1e4-b30a06c2e082&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a115e61e-2a4b-4532-bf74-6def41cfcadb&quot;,&quot;title&quot;:&quot;oliveMcBrideWithSkull&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.oliveMcBrideWithSkull(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e86514fd-65da-4ec7-a7bd-d8d4b919dfe2&quot;,&quot;parentUUID&quot;:&quot;a115e61e-2a4b-4532-bf74-6def41cfcadb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if there is no Skull token in the tokens pulled&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull returns false if there is no Skull token in the tokens pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideWithSkull(0)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af3cd1e5-bbe7-43d8-9310-0ad304af9b76&quot;,&quot;parentUUID&quot;:&quot;a115e61e-2a4b-4532-bf74-6def41cfcadb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not modify the combination&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull should not modify the combination&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var myComb = [src_1.Token.SKULL, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO];\nsrc_1.oliveMcBrideWithSkull(2)(myComb, effects.merge(new src_1.TokenEffects([[src_1.Token.SKULL, new src_1.Modifier(-1)]])));\nchai_1.expect(myComb).to.deep.equal([\n    src_1.Token.SKULL,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78dfebc8-e1cf-47b6-a83c-b9e63813c8be&quot;,&quot;parentUUID&quot;:&quot;a115e61e-2a4b-4532-bf74-6def41cfcadb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if there is a Skull token in the tokens pulled and if adding best of remaining tokens is still higher than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull returns true if there is a Skull token in the tokens pulled and if adding best of remaining tokens is still higher than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideWithSkull(2)([src_1.Token.SKULL, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects.merge(new src_1.TokenEffects([[src_1.Token.SKULL, new src_1.Modifier(-1)]])))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;deaa2142-8b65-4fce-a882-07509c77ea19&quot;,&quot;parentUUID&quot;:&quot;a115e61e-2a4b-4532-bf74-6def41cfcadb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if there is a Skull token in the tokens pulled and if adding best of remaining tokens is lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull returns false if there is a Skull token in the tokens pulled and if adding best of remaining tokens is lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideWithSkull(1)([src_1.Token.SKULL, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects.merge(new src_1.TokenEffects([[src_1.Token.SKULL, new src_1.Modifier(-1)]])))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5c0e0f7-09e1-4d62-a8a5-9fe9dfef6953&quot;,&quot;parentUUID&quot;:&quot;a115e61e-2a4b-4532-bf74-6def41cfcadb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should assume that redraw tokens where pulled&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull should assume that redraw tokens where pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideWithSkull(3)([src_1.Token.AUTOFAIL, src_1.Token.SKULL, src_1.Token.BLESS, src_1.Token.MINUS_TWO], effects.merge(new src_1.TokenEffects([[src_1.Token.SKULL, new src_1.Modifier(-4)]])))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;426fae58-5c28-4053-b6f0-b695b0aaf2ae&quot;,&quot;parentUUID&quot;:&quot;a115e61e-2a4b-4532-bf74-6def41cfcadb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e86514fd-65da-4ec7-a7bd-d8d4b919dfe2&quot;,&quot;af3cd1e5-bbe7-43d8-9310-0ad304af9b76&quot;,&quot;78dfebc8-e1cf-47b6-a83c-b9e63813c8be&quot;,&quot;deaa2142-8b65-4fce-a882-07509c77ea19&quot;,&quot;c5c0e0f7-09e1-4d62-a8a5-9fe9dfef6953&quot;,&quot;426fae58-5c28-4053-b6f0-b695b0aaf2ae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;012c3225-19fe-4475-a20e-7fa8b3878877&quot;,&quot;title&quot;:&quot;recallTheFuture&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.recallTheFuture(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;361f8c74-672f-47c1-ba56-24d117af668b&quot;,&quot;parentUUID&quot;:&quot;012c3225-19fe-4475-a20e-7fa8b3878877&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns true if greater than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(0)([src_1.Token.ZERO], effects, new src_1.Bag([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE]))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b565351-13b9-4045-af17-c974e4c3cca5&quot;,&quot;parentUUID&quot;:&quot;012c3225-19fe-4475-a20e-7fa8b3878877&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if lesser than difficulty but drew the token which has the most chances to be turned into success using the +2 bonus&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns true if lesser than difficulty but drew the token which has the most chances to be turned into success using the +2 bonus&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-1)([src_1.Token.MINUS_ONE], effects, new src_1.Bag([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE]))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3af33a8e-c390-4eb8-9d88-f3d6e003e777&quot;,&quot;parentUUID&quot;:&quot;012c3225-19fe-4475-a20e-7fa8b3878877&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty and did not drew the token which has the most chances to be turned into success using the +2 bonus&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns false if lesser than difficulty and did not drew the token which has the most chances to be turned into success using the +2 bonus&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-1)([src_1.Token.ZERO], effects, new src_1.Bag([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE]))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68306885-c9b0-4dc9-a4fb-f5eb24539b9b&quot;,&quot;parentUUID&quot;:&quot;012c3225-19fe-4475-a20e-7fa8b3878877&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if still lesser than difficulty applying the +2 bonus&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns false if still lesser than difficulty applying the +2 bonus&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-2)([src_1.Token.MINUS_ONE], effects, new src_1.Bag([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE]))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ec2b97c-36bf-41e2-9fff-dbe9f1462343&quot;,&quot;parentUUID&quot;:&quot;012c3225-19fe-4475-a20e-7fa8b3878877&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can handle the case where several tokens where drawn&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture can handle the case where several tokens where drawn&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE], effects, new src_1.Bag([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO\n]))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99089869-80d2-46c3-837d-74679471e62b&quot;,&quot;parentUUID&quot;:&quot;012c3225-19fe-4475-a20e-7fa8b3878877&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can handle redraw tokens&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture can handle redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-1)([src_1.Token.MINUS_ONE, src_1.Token.CURSE], effects, new src_1.Bag([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO,\n    src_1.Token.CURSE\n]))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a342cb98-6bf2-43b0-a8f7-c17f671ee314&quot;,&quot;parentUUID&quot;:&quot;012c3225-19fe-4475-a20e-7fa8b3878877&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;361f8c74-672f-47c1-ba56-24d117af668b&quot;,&quot;1b565351-13b9-4045-af17-c974e4c3cca5&quot;,&quot;3af33a8e-c390-4eb8-9d88-f3d6e003e777&quot;,&quot;68306885-c9b0-4dc9-a4fb-f5eb24539b9b&quot;,&quot;5ec2b97c-36bf-41e2-9fff-dbe9f1462343&quot;,&quot;99089869-80d2-46c3-837d-74679471e62b&quot;,&quot;a342cb98-6bf2-43b0-a8f7-c17f671ee314&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f86c8dc9-70d5-46c6-b261-5178ee9286ec&quot;,&quot;title&quot;:&quot;darkProphecy&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.darkProphecy(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;096a7898-5645-4e6b-9eb0-ec89ba17e674&quot;,&quot;parentUUID&quot;:&quot;f86c8dc9-70d5-46c6-b261-5178ee9286ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;return true if greater than difficulty using the \&quot;best\&quot; bad token pulled&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy return true if greater than difficulty using the \&quot;best\&quot; bad token pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(2)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.CULTIST,\n    src_1.Token.ELDER_THING\n], effects.merge(new src_1.TokenEffects([\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)],\n    [src_1.Token.ELDER_THING, new src_1.Modifier(-4)]\n])))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5020c28b-2567-4492-9141-39fd324974aa&quot;,&quot;parentUUID&quot;:&quot;f86c8dc9-70d5-46c6-b261-5178ee9286ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;return false if lesser than difficulty using the \&quot;best\&quot; bad token pulled&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy return false if lesser than difficulty using the \&quot;best\&quot; bad token pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(1)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.CULTIST,\n    src_1.Token.ELDER_THING\n], effects.merge(new src_1.TokenEffects([\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)],\n    [src_1.Token.ELDER_THING, new src_1.Modifier(-4)]\n])))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13dfb52a-aafd-4caa-bd5e-8cd6fde9302e&quot;,&quot;parentUUID&quot;:&quot;f86c8dc9-70d5-46c6-b261-5178ee9286ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;return true if greater than difficulty using best token when no bad tokens were pulled&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy return true if greater than difficulty using best token when no bad tokens were pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(0)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_TWO\n], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c414bbe2-9733-408f-8d69-1e7bd849c7ef&quot;,&quot;parentUUID&quot;:&quot;f86c8dc9-70d5-46c6-b261-5178ee9286ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;return false if lesser than difficulty using best token when no bad tokens were pulled&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy return false if lesser than difficulty using best token when no bad tokens were pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(-1)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_TWO\n], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;580ee29f-19ea-45f4-b969-ceda354c704e&quot;,&quot;parentUUID&quot;:&quot;f86c8dc9-70d5-46c6-b261-5178ee9286ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens (assuming they were pulled)&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy takes into account redraw tokens (assuming they were pulled)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(0)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_TWO,\n    src_1.Token.CURSE\n], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48e1c51d-3c17-4b01-aee3-cdbb9ec75044&quot;,&quot;parentUUID&quot;:&quot;f86c8dc9-70d5-46c6-b261-5178ee9286ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;096a7898-5645-4e6b-9eb0-ec89ba17e674&quot;,&quot;5020c28b-2567-4492-9141-39fd324974aa&quot;,&quot;13dfb52a-aafd-4caa-bd5e-8cd6fde9302e&quot;,&quot;c414bbe2-9733-408f-8d69-1e7bd849c7ef&quot;,&quot;580ee29f-19ea-45f4-b969-ceda354c704e&quot;,&quot;48e1c51d-3c17-4b01-aee3-cdbb9ec75044&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5a770c13-6da8-4fb5-9f47-c0c8c50f6606&quot;,&quot;title&quot;:&quot;winchesterDoing1Damage&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing1Damage returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.winchesterDoing1Damage(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9ba5654-7849-4743-a059-fa28b28e1959&quot;,&quot;parentUUID&quot;:&quot;5a770c13-6da8-4fb5-9f47-c0c8c50f6606&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing1Damage returns true if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing1Damage(1)([src_1.Token.MINUS_ONE], effects)).to.be.true;\nchai_1.expect(src_1.winchesterDoing1Damage(2)([src_1.Token.MINUS_TWO], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7aabae5d-9016-48ce-9428-6f10f7d99890&quot;,&quot;parentUUID&quot;:&quot;5a770c13-6da8-4fb5-9f47-c0c8c50f6606&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing1Damage returns false if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing1Damage(0)([src_1.Token.ELDER_SIGN], effects)).to.be\n    .false;\nchai_1.expect(src_1.winchesterDoing1Damage(0)([src_1.Token.ZERO], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing1Damage(-1)([src_1.Token.PLUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fe612a1-fc2b-4b1f-8872-3a232ee00d99&quot;,&quot;parentUUID&quot;:&quot;5a770c13-6da8-4fb5-9f47-c0c8c50f6606&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing1Damage returns false if lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing1Damage(-2)([src_1.Token.ELDER_SIGN], effects)).to.be\n    .false;\nchai_1.expect(src_1.winchesterDoing1Damage(-1)([src_1.Token.ZERO], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing1Damage(-2)([src_1.Token.PLUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing1Damage(0)([src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing1Damage(1)([src_1.Token.MINUS_TWO], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e90d8834-6bc5-4481-827c-12d8327b66e5&quot;,&quot;parentUUID&quot;:&quot;5a770c13-6da8-4fb5-9f47-c0c8c50f6606&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c9ba5654-7849-4743-a059-fa28b28e1959&quot;,&quot;7aabae5d-9016-48ce-9428-6f10f7d99890&quot;,&quot;1fe612a1-fc2b-4b1f-8872-3a232ee00d99&quot;,&quot;e90d8834-6bc5-4481-827c-12d8327b66e5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;813f70cf-1621-4bc6-9512-c690bc0cd0f7&quot;,&quot;title&quot;:&quot;winchesterDoing3Damage&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing3Damage returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.winchesterDoing3Damage(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3195b201-f5c0-42ad-82e3-734ad66e2670&quot;,&quot;parentUUID&quot;:&quot;813f70cf-1621-4bc6-9512-c690bc0cd0f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing3Damage returns true if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing3Damage(0)([src_1.Token.ELDER_SIGN], effects)).to.be.true;\nchai_1.expect(src_1.winchesterDoing3Damage(0)([src_1.Token.ZERO], effects)).to.be.true;\nchai_1.expect(src_1.winchesterDoing3Damage(-1)([src_1.Token.PLUS_ONE], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7793bfe-fd90-4e3b-8d9a-10c25446fcde&quot;,&quot;parentUUID&quot;:&quot;813f70cf-1621-4bc6-9512-c690bc0cd0f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing3Damage returns false if lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing3Damage(-2)([src_1.Token.ELDER_SIGN], effects)).to.be\n    .false;\nchai_1.expect(src_1.winchesterDoing3Damage(-1)([src_1.Token.ZERO], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing3Damage(-2)([src_1.Token.PLUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d94df1d-0bcc-400f-8d35-5eaedb2331d8&quot;,&quot;parentUUID&quot;:&quot;813f70cf-1621-4bc6-9512-c690bc0cd0f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing3Damage returns false if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing3Damage(1)([src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7947981-287a-41b8-8a8f-acf81d32088c&quot;,&quot;parentUUID&quot;:&quot;813f70cf-1621-4bc6-9512-c690bc0cd0f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3195b201-f5c0-42ad-82e3-734ad66e2670&quot;,&quot;a7793bfe-fd90-4e3b-8d9a-10c25446fcde&quot;,&quot;0d94df1d-0bcc-400f-8d35-5eaedb2331d8&quot;,&quot;a7947981-287a-41b8-8a8f-acf81d32088c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2c47d58f-fab3-412e-b202-8b9a0c56cfa4&quot;,&quot;title&quot;:&quot;oliveMcBrideAndWinchesterDoing1Damage&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.oliveMcBrideAndWinchesterDoing1Damage(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2aa40599-9daf-4798-8469-8906575852f9&quot;,&quot;parentUUID&quot;:&quot;2c47d58f-fab3-412e-b202-8b9a0c56cfa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage returns true if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(2)([src_1.Token.MINUS_TWO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1de41942-bb2c-47f3-b287-19be798f4872&quot;,&quot;parentUUID&quot;:&quot;2c47d58f-fab3-412e-b202-8b9a0c56cfa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage returns false if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(0)([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(0)([src_1.Token.PLUS_ONE, , src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7aa52e26-597a-4115-96df-4215d637c7bd&quot;,&quot;parentUUID&quot;:&quot;2c47d58f-fab3-412e-b202-8b9a0c56cfa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage returns false if lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(-1)([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(1)([src_1.Token.MINUS_TWO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f032c8e-756a-44dc-b595-97bf3e76b797&quot;,&quot;parentUUID&quot;:&quot;2c47d58f-fab3-412e-b202-8b9a0c56cfa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage takes into account redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO, src_1.Token.CURSE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00c9b9f3-993c-4417-813f-f22ac5dbbb1a&quot;,&quot;parentUUID&quot;:&quot;2c47d58f-fab3-412e-b202-8b9a0c56cfa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2aa40599-9daf-4798-8469-8906575852f9&quot;,&quot;1de41942-bb2c-47f3-b287-19be798f4872&quot;,&quot;7aa52e26-597a-4115-96df-4215d637c7bd&quot;,&quot;8f032c8e-756a-44dc-b595-97bf3e76b797&quot;,&quot;00c9b9f3-993c-4417-813f-f22ac5dbbb1a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4dc64ac7-8af6-4d03-9639-84d6c42f17d6&quot;,&quot;title&quot;:&quot;oliveMcBrideAndWinchesterDoing3Damage&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.oliveMcBrideAndWinchesterDoing3Damage(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22184c2c-0066-4fec-b4ad-1569709a35df&quot;,&quot;parentUUID&quot;:&quot;4dc64ac7-8af6-4d03-9639-84d6c42f17d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage returns true if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(0)([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(0)([src_1.Token.PLUS_ONE, , src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4022be3-9140-4285-abd4-be589d6ed7c2&quot;,&quot;parentUUID&quot;:&quot;4dc64ac7-8af6-4d03-9639-84d6c42f17d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage returns false if lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(-1)([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(0)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(-1)([src_1.Token.PLUS_ONE, , src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37a44d3b-6cf6-4fcc-8b68-e30840911dbe&quot;,&quot;parentUUID&quot;:&quot;4dc64ac7-8af6-4d03-9639-84d6c42f17d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage returns false if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b65ac26-4e2e-4f4c-9f7e-6ae42926b82d&quot;,&quot;parentUUID&quot;:&quot;4dc64ac7-8af6-4d03-9639-84d6c42f17d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage takes into account redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO, src_1.Token.CURSE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6db6e1ed-0e41-4bd3-9c6c-a73454d7a90a&quot;,&quot;parentUUID&quot;:&quot;4dc64ac7-8af6-4d03-9639-84d6c42f17d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;22184c2c-0066-4fec-b4ad-1569709a35df&quot;,&quot;f4022be3-9140-4285-abd4-be589d6ed7c2&quot;,&quot;37a44d3b-6cf6-4fcc-8b68-e30840911dbe&quot;,&quot;8b65ac26-4e2e-4f4c-9f7e-6ae42926b82d&quot;,&quot;6db6e1ed-0e41-4bd3-9c6c-a73454d7a90a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6b7820ab-6323-4aed-812f-9ff0a654244a&quot;,&quot;title&quot;:&quot;jacqueline&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.jacqueline(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;096d8115-3a9d-49c9-b27d-04ebfd77a0c5&quot;,&quot;parentUUID&quot;:&quot;6b7820ab-6323-4aed-812f-9ff0a654244a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty when cancelling 2 non-tentacle tokens&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns true if greater than difficulty when cancelling 2 non-tentacle tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(1)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d57cc12-f25c-4d5e-8071-db79739b9707&quot;,&quot;parentUUID&quot;:&quot;6b7820ab-6323-4aed-812f-9ff0a654244a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty when cancelling tentacle&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns true if greater than difficulty when cancelling tentacle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f65002a4-d8e6-475f-b32d-b0446600fced&quot;,&quot;parentUUID&quot;:&quot;6b7820ab-6323-4aed-812f-9ff0a654244a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty when cancelling 2 non-tentacle tokens&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns false if lesser than difficulty when cancelling 2 non-tentacle tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(0)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9eee50a-6e6c-47f5-8acb-e398ac8fe67f&quot;,&quot;parentUUID&quot;:&quot;6b7820ab-6323-4aed-812f-9ff0a654244a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty when cancelling tentacle&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns false if lesser than difficulty when cancelling tentacle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(1)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b866e006-b462-4b22-8fe6-c89df41a76a1&quot;,&quot;parentUUID&quot;:&quot;6b7820ab-6323-4aed-812f-9ff0a654244a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens when ignoring 2 tokens&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline takes into account redraw tokens when ignoring 2 tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO, src_1.Token.CURSE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;315d10c8-1983-4327-986f-f1e62a07a283&quot;,&quot;parentUUID&quot;:&quot;6b7820ab-6323-4aed-812f-9ff0a654244a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens when cancelling tentacle&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline takes into account redraw tokens when cancelling tentacle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL, src_1.Token.CURSE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f747f435-f266-454a-ba94-92820f11ad96&quot;,&quot;parentUUID&quot;:&quot;6b7820ab-6323-4aed-812f-9ff0a654244a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;096d8115-3a9d-49c9-b27d-04ebfd77a0c5&quot;,&quot;2d57cc12-f25c-4d5e-8071-db79739b9707&quot;,&quot;f65002a4-d8e6-475f-b32d-b0446600fced&quot;,&quot;c9eee50a-6e6c-47f5-8acb-e398ac8fe67f&quot;,&quot;b866e006-b462-4b22-8fe6-c89df41a76a1&quot;,&quot;315d10c8-1983-4327-986f-f1e62a07a283&quot;,&quot;f747f435-f266-454a-ba94-92820f11ad96&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;41c2c46e-46dd-4a95-8b24-1d805a3d6948&quot;,&quot;title&quot;:&quot;exports&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/exports.spec.ts&quot;,&quot;file&quot;:&quot;/spec/exports.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;exports the `odds` function&quot;,&quot;fullTitle&quot;:&quot;exports exports the `odds` function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(ArkhamOdds.odds).to.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5bb1a959-eecf-491e-83ac-fe0294908019&quot;,&quot;parentUUID&quot;:&quot;41c2c46e-46dd-4a95-8b24-1d805a3d6948&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5bb1a959-eecf-491e-83ac-fe0294908019&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e5275df2-ca3f-41a1-84b5-ff1b62a30b85&quot;,&quot;title&quot;:&quot;Odds functions&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/index.spec.ts&quot;,&quot;file&quot;:&quot;/spec/index.spec.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Odds functions \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-1, true)]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5085f05-c77c-4f20-8867-fde0ba68cd30&quot;,&quot;parentUUID&quot;:&quot;e5275df2-ca3f-41a1-84b5-ff1b62a30b85&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;798c5842-9310-4f90-8e20-330b8ed98ef1&quot;,&quot;title&quot;:&quot;odds&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/index.spec.ts&quot;,&quot;file&quot;:&quot;/spec/index.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns 0.5 when pulling 1 token if half the tokens results in a success&quot;,&quot;fullTitle&quot;:&quot;Odds functions odds returns 0.5 when pulling 1 token if half the tokens results in a success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE]);\nvar oddsOfSuccess = src_1.odds(1, bag, effects, src_1.success(0));\nchai_1.expect(oddsOfSuccess).to.equal(0.5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a53f451f-836e-4d58-badd-947e37b8a68f&quot;,&quot;parentUUID&quot;:&quot;798c5842-9310-4f90-8e20-330b8ed98ef1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can compute odds even when there are no successful combinations&quot;,&quot;fullTitle&quot;:&quot;Odds functions odds can compute odds even when there are no successful combinations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE]);\nvar oddsOfSuccess = src_1.odds(1, bag, effects, src_1.success(-4));\nchai_1.expect(oddsOfSuccess).to.equal(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;264cbfc3-4222-47c4-ad20-d25892f6cac9&quot;,&quot;parentUUID&quot;:&quot;798c5842-9310-4f90-8e20-330b8ed98ef1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account tokens with a redraw effect&quot;,&quot;fullTitle&quot;:&quot;Odds functions odds takes into account tokens with a redraw effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.CULTIST]);\nvar oddsOfSuccess = src_1.odds(1, bag, effects, src_1.success(-1));\n/* Possible draws are :\n * - +1 with a probability of 1/3\n * - -1 with a probability of 1/3\n * - Cultist and +1 with a probability of 1/6 (1/3 x 1/2)\n * - Cultist and -1 with a probability of 1/6 (1/3 x 1/2)\n * If testing at -1, only +1 result in a success.\n */\nchai_1.expect(oddsOfSuccess).to.be.closeTo(0.33, 0.1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f9833dc-fb6c-4bb6-85eb-62e22f92423a&quot;,&quot;parentUUID&quot;:&quot;798c5842-9310-4f90-8e20-330b8ed98ef1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account tokens with a redraw effect when pulling multiple tokens&quot;,&quot;fullTitle&quot;:&quot;Odds functions odds takes into account tokens with a redraw effect when pulling multiple tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO,\n    src_1.Token.CULTIST\n]);\n/* Possible draws are in the table below\n *\n * | 1st pull | 2nd pull | 3rd pull | Result | Probability |\n * | +1       | -1       |          | +0     | 1/12        |\n * | +1       | -2       |          | -1     | 1/12        |\n * | +1       | Cultist  | -1       | -1     | 1/24        |\n * | +1       | Cultist  | -2       | -2     | 1/24        |\n * | -1       | +1       |          | +0     | 1/12        |\n * | -1       | -2       |          | -3     | 1/12        |\n * | -1       | Cultist  | +1       | -1     | 1/24        |\n * | -1       | Cultist  | -2       | -4     | 1/24        |\n * | -2       | +1       |          | -1     | 1/12        |\n * | -2       | -1       |          | -3     | 1/12        |\n * | -2       | Cultist  | +1       | -2     | 1/24        |\n * | -2       | Cultist  | -1       | -4     | 1/24        |\n * | Cultist  | +1       | -1       | -1     | 1/24        |\n * | Cultist  | +1       | -2       | -2     | 1/24        |\n * | Cultist  | -1       | +1       | -1     | 1/24        |\n * | Cultist  | -1       | -2       | -4     | 1/24        |\n * | Cultist  | -2       | +1       | -2     | 1/24        |\n * | Cultist  | -2       | -1       | -4     | 1/24        |\n *\n * Odds of success depending on difficulty is then :\n *\n * | Result | Probability |\n * | -4     | 4/24        |\n * | -3     | 4/24        |\n * | -2     | 4/24        |\n * | -1     | 8/24        |\n * | 0      | 4/24        |\n */\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(0))).to.be.closeTo(4 / 24, 0.01, \&quot;when equal\&quot;);\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(1))).to.be.closeTo(4 / 24 + 8 / 24, 0.01, \&quot;when over by 1\&quot;);\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(2))).to.be.closeTo(4 / 24 + 8 / 24 + 4 / 24, 0.01, \&quot;when over by 2\&quot;);\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(3))).to.equal(4 / 24 + 8 / 24 + 4 / 24 + 4 / 24, \&quot;when over by 3\&quot;);\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(4))).to.be.closeTo(1, 0.01, \&quot;when over by 4\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fac5c4a-6488-40e4-bf86-e9fe253fa803&quot;,&quot;parentUUID&quot;:&quot;798c5842-9310-4f90-8e20-330b8ed98ef1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a53f451f-836e-4d58-badd-947e37b8a68f&quot;,&quot;264cbfc3-4222-47c4-ad20-d25892f6cac9&quot;,&quot;6f9833dc-fb6c-4bb6-85eb-62e22f92423a&quot;,&quot;6fac5c4a-6488-40e4-bf86-e9fe253fa803&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;629d67de-2fcb-4c9a-9b96-9cef3bd378e5&quot;,&quot;title&quot;:&quot;oddsWithRedraw&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/index.spec.ts&quot;,&quot;file&quot;:&quot;/spec/index.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns 0.5 when pulling 1 token if half the tokens results in a success&quot;,&quot;fullTitle&quot;:&quot;Odds functions oddsWithRedraw returns 0.5 when pulling 1 token if half the tokens results in a success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE]);\nvar oddsOfSuccess = src_1.oddsWithRedraw(1, bag, effects, src_1.success(0));\nchai_1.expect(oddsOfSuccess).to.equal(0.5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3e3725c-4da8-4dc6-abb7-0cce3b58fcf9&quot;,&quot;parentUUID&quot;:&quot;629d67de-2fcb-4c9a-9b96-9cef3bd378e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns 0.75 when pulling 2 tokens (putting back first token before second draw) if half the tokens results in a success&quot;,&quot;fullTitle&quot;:&quot;Odds functions oddsWithRedraw returns 0.75 when pulling 2 tokens (putting back first token before second draw) if half the tokens results in a success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE]);\nvar oddsOfSuccess = src_1.oddsWithRedraw(2, bag, effects, src_1.successChoosingBest(0));\nchai_1.expect(oddsOfSuccess).to.equal(0.75);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f402627-c8c5-4972-9399-cb5a1e9aa178&quot;,&quot;parentUUID&quot;:&quot;629d67de-2fcb-4c9a-9b96-9cef3bd378e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f3e3725c-4da8-4dc6-abb7-0cce3b58fcf9&quot;,&quot;0f402627-c8c5-4972-9399-cb5a1e9aa178&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;de601db7-bb32-4bba-9ec8-587b896bb0fe&quot;,&quot;title&quot;:&quot;Autofail&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autofail.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autofail.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;88223b8e-f2df-4a5d-af8e-d9e0e6f650f1&quot;,&quot;title&quot;:&quot;getOutcome&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autofail.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autofail.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;outcome is of type AUTOFAIL&quot;,&quot;fullTitle&quot;:&quot;Autofail getOutcome outcome is of type AUTOFAIL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Autofail().getOutcome()).to.equal(src_1.TokenEffectType.AUTOFAIL);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d33db2f-1100-4f94-87be-caac43a9b0e4&quot;,&quot;parentUUID&quot;:&quot;88223b8e-f2df-4a5d-af8e-d9e0e6f650f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4d33db2f-1100-4f94-87be-caac43a9b0e4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a15f9194-856a-477c-b987-250d9c9cdf75&quot;,&quot;title&quot;:&quot;isRedraw&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autofail.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autofail.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is not a redraw token&quot;,&quot;fullTitle&quot;:&quot;Autofail isRedraw is not a redraw token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Autofail().isRedraw()).to.equal(false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8ee5437-d675-4efd-a536-e4b596ebce95&quot;,&quot;parentUUID&quot;:&quot;a15f9194-856a-477c-b987-250d9c9cdf75&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d8ee5437-d675-4efd-a536-e4b596ebce95&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2a5fd54a-cd42-4c1f-a427-2bb384fc1a38&quot;,&quot;title&quot;:&quot;sameAs&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autofail.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autofail.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when compared to another Auofail&quot;,&quot;fullTitle&quot;:&quot;Autofail sameAs is true when compared to another Auofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Autofail(), new src_1.Autofail()], fail1 = _a[0], fail2 = _a[1];\nchai_1.expect(fail1.sameAs(fail2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6ca2d8f-d3f1-4f5f-afbd-5b2099fd7125&quot;,&quot;parentUUID&quot;:&quot;2a5fd54a-cd42-4c1f-a427-2bb384fc1a38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when compared to another type of effect&quot;,&quot;fullTitle&quot;:&quot;Autofail sameAs is false when compared to another type of effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var fail = new src_1.Autofail();\nchai_1.expect(fail.sameAs(new src_1.Modifier(-1))).to.be.false;\nchai_1.expect(fail.sameAs(new src_1.Autosuccess())).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc9cfa22-6399-4d66-99b2-21680e2db8f0&quot;,&quot;parentUUID&quot;:&quot;2a5fd54a-cd42-4c1f-a427-2bb384fc1a38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c6ca2d8f-d3f1-4f5f-afbd-5b2099fd7125&quot;,&quot;fc9cfa22-6399-4d66-99b2-21680e2db8f0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3ad723a7-d713-4ada-9770-077fe01e07fc&quot;,&quot;title&quot;:&quot;Autofail&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autosuccess.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autosuccess.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2397b609-9f93-4510-bc7e-53a03f0b3ea5&quot;,&quot;title&quot;:&quot;getOutcome&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autosuccess.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autosuccess.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;outcome is of type AUTOSUCCESS&quot;,&quot;fullTitle&quot;:&quot;Autofail getOutcome outcome is of type AUTOSUCCESS&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Autosuccess().getOutcome()).to.equal(src_1.TokenEffectType.AUTOSUCCESS);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc95d4cd-2685-4300-9a5c-9d4d3875be97&quot;,&quot;parentUUID&quot;:&quot;2397b609-9f93-4510-bc7e-53a03f0b3ea5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bc95d4cd-2685-4300-9a5c-9d4d3875be97&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;79f1e4fa-bafb-4a4d-a875-f91f0f13dbd9&quot;,&quot;title&quot;:&quot;isRedraw&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autosuccess.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autosuccess.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is not a redraw token&quot;,&quot;fullTitle&quot;:&quot;Autofail isRedraw is not a redraw token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Autosuccess().isRedraw()).to.equal(false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a148ade3-5c42-42fa-ad67-e96dfccaacd5&quot;,&quot;parentUUID&quot;:&quot;79f1e4fa-bafb-4a4d-a875-f91f0f13dbd9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a148ade3-5c42-42fa-ad67-e96dfccaacd5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ee6ad690-289d-43e4-a4e6-fb24b921b571&quot;,&quot;title&quot;:&quot;sameAs&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autosuccess.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autosuccess.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when compared to another Auofail&quot;,&quot;fullTitle&quot;:&quot;Autofail sameAs is true when compared to another Auofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Autosuccess(), new src_1.Autosuccess()], succ1 = _a[0], succ2 = _a[1];\nchai_1.expect(succ1.sameAs(succ2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b2e857b-685e-4b5b-ba63-ef9cd28f833a&quot;,&quot;parentUUID&quot;:&quot;ee6ad690-289d-43e4-a4e6-fb24b921b571&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when compared to another type of effect&quot;,&quot;fullTitle&quot;:&quot;Autofail sameAs is false when compared to another type of effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var succ = new src_1.Autosuccess();\nchai_1.expect(succ.sameAs(new src_1.Modifier(-1))).to.be.false;\nchai_1.expect(succ.sameAs(new src_1.Autofail())).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;428df9f0-aa34-4494-a540-fcbcb720092b&quot;,&quot;parentUUID&quot;:&quot;ee6ad690-289d-43e4-a4e6-fb24b921b571&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6b2e857b-685e-4b5b-ba63-ef9cd28f833a&quot;,&quot;428df9f0-aa34-4494-a540-fcbcb720092b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cbc25772-8c37-4dff-9247-81f5007aad93&quot;,&quot;title&quot;:&quot;Modifier&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Modifier.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Modifier.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;80251cba-e51f-4e34-8088-55e771b2edc4&quot;,&quot;title&quot;:&quot;getOutcome&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Modifier.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Modifier.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;outcome is of type MODIFIER&quot;,&quot;fullTitle&quot;:&quot;Modifier getOutcome outcome is of type MODIFIER&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Modifier(0).getOutcome()).to.equal(src_1.TokenEffectType.MODIFIER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f483f92b-6425-43e0-80d8-17e04ade52fb&quot;,&quot;parentUUID&quot;:&quot;80251cba-e51f-4e34-8088-55e771b2edc4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f483f92b-6425-43e0-80d8-17e04ade52fb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f304123e-8802-4c3f-837b-8666bff37f29&quot;,&quot;title&quot;:&quot;isRedraw&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Modifier.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Modifier.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns true if it is a redraw token&quot;,&quot;fullTitle&quot;:&quot;Modifier isRedraw returns true if it is a redraw token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Modifier(0, true).isRedraw()).to.equal(true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a1bb370-e6a6-45fc-96cc-9b7486477611&quot;,&quot;parentUUID&quot;:&quot;f304123e-8802-4c3f-837b-8666bff37f29&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if it is not a redraw token&quot;,&quot;fullTitle&quot;:&quot;Modifier isRedraw returns false if it is not a redraw token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Modifier(0).isRedraw()).to.equal(false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7750432-6b62-4132-be35-aa7e61d3439d&quot;,&quot;parentUUID&quot;:&quot;f304123e-8802-4c3f-837b-8666bff37f29&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6a1bb370-e6a6-45fc-96cc-9b7486477611&quot;,&quot;c7750432-6b62-4132-be35-aa7e61d3439d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c02579ae-303e-40cd-adbe-8f50e8fd2842&quot;,&quot;title&quot;:&quot;sameAs&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Modifier.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Modifier.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when representing a modifier with same value and redraw effect&quot;,&quot;fullTitle&quot;:&quot;Modifier sameAs is true when representing a modifier with same value and redraw effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Modifier(1), new src_1.Modifier(1)], mod1 = _a[0], mod2 = _a[1];\nchai_1.expect(mod1.sameAs(mod2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9269f74-106c-48b8-aece-61a2198c764f&quot;,&quot;parentUUID&quot;:&quot;c02579ae-303e-40cd-adbe-8f50e8fd2842&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when representing a modifier with different value&quot;,&quot;fullTitle&quot;:&quot;Modifier sameAs is false when representing a modifier with different value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Modifier(1), new src_1.Modifier(2)], mod1 = _a[0], mod2 = _a[1];\nchai_1.expect(mod1.sameAs(mod2)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c0c9ada3-fc63-4766-ab97-92b5de2dd871&quot;,&quot;parentUUID&quot;:&quot;c02579ae-303e-40cd-adbe-8f50e8fd2842&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when representing a modifier with same value but different redraw effect&quot;,&quot;fullTitle&quot;:&quot;Modifier sameAs is false when representing a modifier with same value but different redraw effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Modifier(1), new src_1.Modifier(1, true)], mod1 = _a[0], mod2 = _a[1];\nchai_1.expect(mod1.sameAs(mod2)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef846584-a403-4304-9cd8-30f399487769&quot;,&quot;parentUUID&quot;:&quot;c02579ae-303e-40cd-adbe-8f50e8fd2842&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when compared to another type of effect&quot;,&quot;fullTitle&quot;:&quot;Modifier sameAs is false when compared to another type of effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var mod1 = new src_1.Modifier(1);\nchai_1.expect(mod1.sameAs(new src_1.Autofail())).to.be.false;\nchai_1.expect(mod1.sameAs(new src_1.Autosuccess())).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d878c9dd-e2fe-4d23-b997-58b0ac35b49f&quot;,&quot;parentUUID&quot;:&quot;c02579ae-303e-40cd-adbe-8f50e8fd2842&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a9269f74-106c-48b8-aece-61a2198c764f&quot;,&quot;c0c9ada3-fc63-4766-ab97-92b5de2dd871&quot;,&quot;ef846584-a403-4304-9cd8-30f399487769&quot;,&quot;d878c9dd-e2fe-4d23-b997-58b0ac35b49f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3ba4efa8-451d-4ad7-815c-6694433283c4&quot;,&quot;title&quot;:&quot;TokenEffects&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;can be created from mapping&quot;,&quot;fullTitle&quot;:&quot;TokenEffects can be created from mapping&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nchai_1.expect(effects.getEffect(src_1.Token.ELDER_SIGN)).to.exist;\nchai_1.expect(effects.getEffect(src_1.Token.AUTOFAIL)).to.not.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66b8e90e-6842-4122-98ff-1822a5ff5d56&quot;,&quot;parentUUID&quot;:&quot;3ba4efa8-451d-4ad7-815c-6694433283c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is not affected by changes to provided mapping&quot;,&quot;fullTitle&quot;:&quot;TokenEffects is not affected by changes to provided mapping&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var mapping = [\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n];\nvar effects = new src_1.TokenEffects(mapping);\nchai_1.expect(effects.getEffect(src_1.Token.AUTOFAIL)).to.not.exist;\nmapping.push([src_1.Token.AUTOFAIL, new src_1.Autofail()]);\nchai_1.expect(effects.getEffect(src_1.Token.AUTOFAIL)).to.not.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;859dd93c-ad45-4d2c-8fe6-ff95c7c8209b&quot;,&quot;parentUUID&quot;:&quot;3ba4efa8-451d-4ad7-815c-6694433283c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can be created empty&quot;,&quot;fullTitle&quot;:&quot;TokenEffects can be created empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects();\nchai_1.expect(effects.getEffect(src_1.Token.ELDER_SIGN)).to.not.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d11e9b5-d90f-4668-a7e3-17f377f64e5d&quot;,&quot;parentUUID&quot;:&quot;3ba4efa8-451d-4ad7-815c-6694433283c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7e5eee1c-8062-47ad-b39a-db2ca873066e&quot;,&quot;title&quot;:&quot;setEffect&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new TokenEffects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffect should return a new TokenEffects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar modifiedEffects = effects.setEffect(src_1.Token.CULTIST, new src_1.Autofail());\nchai_1.expect(modifiedEffects).to.not.equal(effects);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41f2629b-b359-46f7-9749-d60c03c6b002&quot;,&quot;parentUUID&quot;:&quot;7e5eee1c-8062-47ad-b39a-db2ca873066e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should set the new effect&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffect should set the new effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar modifiedEffects = effects.setEffect(src_1.Token.CULTIST, new src_1.Autofail());\nchai_1.expect(modifiedEffects.getEffect(src_1.Token.CULTIST).sameAs(new src_1.Autofail())).to\n    .be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0bd56da-baf4-460f-8d4d-8100fcb34e84&quot;,&quot;parentUUID&quot;:&quot;7e5eee1c-8062-47ad-b39a-db2ca873066e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leave the original effects untouched&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffect should leave the original effects untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\neffects.setEffect(src_1.Token.CULTIST, new src_1.Autofail());\nchai_1.expect(effects.getEffect(src_1.Token.CULTIST).sameAs(new src_1.Modifier(-2))).to.be\n    .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;223e0766-b912-4429-bba5-695c85e95d67&quot;,&quot;parentUUID&quot;:&quot;7e5eee1c-8062-47ad-b39a-db2ca873066e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;41f2629b-b359-46f7-9749-d60c03c6b002&quot;,&quot;a0bd56da-baf4-460f-8d4d-8100fcb34e84&quot;,&quot;223e0766-b912-4429-bba5-695c85e95d67&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d10b8741-0c47-492f-b140-7356c672bb66&quot;,&quot;title&quot;:&quot;setEffects&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new TokenEffects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffects should return a new TokenEffects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar modifiedEffects = effects.setEffects([\n    [src_1.Token.AUTOFAIL, new src_1.Autofail()]\n]);\nchai_1.expect(modifiedEffects).to.not.equal(effects);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cc4ded7-3fde-4dea-92f9-335d7860b743&quot;,&quot;parentUUID&quot;:&quot;d10b8741-0c47-492f-b140-7356c672bb66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should set the new effects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffects should set the new effects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar modifiedEffects = effects.setEffects([\n    [src_1.Token.TABLET, new src_1.Modifier(-3)],\n    [src_1.Token.ELDER_THING, new src_1.Modifier(-4)]\n]);\nchai_1.expect(modifiedEffects.getEffect(src_1.Token.TABLET).sameAs(new src_1.Modifier(-3)))\n    .to.be.true;\nchai_1.expect(modifiedEffects.getEffect(src_1.Token.ELDER_THING).sameAs(new src_1.Modifier(-4))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2098f809-7d09-44a2-b152-b7aacac9168c&quot;,&quot;parentUUID&quot;:&quot;d10b8741-0c47-492f-b140-7356c672bb66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leave the original effects untouched&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffects should leave the original effects untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\neffects.setEffects([\n    [src_1.Token.CULTIST, new src_1.Modifier(-3)],\n    [src_1.Token.TABLET, new src_1.Modifier(-4)]\n]);\nchai_1.expect(effects.getEffect(src_1.Token.CULTIST).sameAs(new src_1.Modifier(-2))).to.be\n    .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99565dc7-d57b-4583-9587-3b0b8876cb7d&quot;,&quot;parentUUID&quot;:&quot;d10b8741-0c47-492f-b140-7356c672bb66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2cc4ded7-3fde-4dea-92f9-335d7860b743&quot;,&quot;2098f809-7d09-44a2-b152-b7aacac9168c&quot;,&quot;99565dc7-d57b-4583-9587-3b0b8876cb7d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;522fc7c4-9066-4a4c-8311-85c8398ccfc7&quot;,&quot;title&quot;:&quot;merge&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new TokenEffects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects merge should return a new TokenEffects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects1 = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar effects2 = new src_1.TokenEffects([\n    [src_1.Token.TABLET, new src_1.Modifier(-3)],\n    [src_1.Token.ELDER_THING, new src_1.Modifier(-4)]\n]);\nvar merged = effects1.merge(effects2);\nchai_1.expect(merged).to.not.equal(effects1);\nchai_1.expect(merged).to.not.equal(effects2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d68feb7-0906-4d4b-8f1f-dcb0b47ec938&quot;,&quot;parentUUID&quot;:&quot;522fc7c4-9066-4a4c-8311-85c8398ccfc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should merge effects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects merge should merge effects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects1 = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar effects2 = new src_1.TokenEffects([\n    [src_1.Token.CULTIST, new src_1.Modifier(-3)],\n    [src_1.Token.TABLET, new src_1.Modifier(-4)]\n]);\nvar merged = effects1.merge(effects2);\nchai_1.expect(merged.getEffect(src_1.Token.ELDER_SIGN).sameAs(new src_1.Modifier(1))).to.be\n    .true;\nchai_1.expect(merged.getEffect(src_1.Token.CULTIST).sameAs(new src_1.Modifier(-3))).to.be\n    .true;\nchai_1.expect(merged.getEffect(src_1.Token.TABLET).sameAs(new src_1.Modifier(-4))).to.be\n    .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e45e224-1fc9-4cd5-abfe-9c88a56087d3&quot;,&quot;parentUUID&quot;:&quot;522fc7c4-9066-4a4c-8311-85c8398ccfc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d68feb7-0906-4d4b-8f1f-dcb0b47ec938&quot;,&quot;2e45e224-1fc9-4cd5-abfe-9c88a56087d3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;efb84c60-42fe-4cf9-923d-58273cc21919&quot;,&quot;title&quot;:&quot;isTokenAutoSuccess&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when token is autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isTokenAutoSuccess is true when token is autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Autosuccess()]]);\nchai_1.expect(effects.isTokenAutoSuccess(src_1.Token.ELDER_SIGN)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45c68819-4efb-46bd-9448-7f4158f4c73c&quot;,&quot;parentUUID&quot;:&quot;efb84c60-42fe-4cf9-923d-58273cc21919&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when token is not autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isTokenAutoSuccess is false when token is not autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Modifier(1)]]);\nchai_1.expect(effects.isTokenAutoSuccess(src_1.Token.ELDER_SIGN)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b6340b6-5608-4cad-8376-c02584d2eb8e&quot;,&quot;parentUUID&quot;:&quot;efb84c60-42fe-4cf9-923d-58273cc21919&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;45c68819-4efb-46bd-9448-7f4158f4c73c&quot;,&quot;4b6340b6-5608-4cad-8376-c02584d2eb8e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;217a5552-659f-4bc1-86a3-2f2acab30cb9&quot;,&quot;title&quot;:&quot;isTokenAutoFail&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when token is autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isTokenAutoFail is true when token is autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.AUTOFAIL, new src_1.Autofail()]]);\nchai_1.expect(effects.isTokenAutoFail(src_1.Token.AUTOFAIL)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af9a6bd4-045e-4da6-9c21-a259a7ac7770&quot;,&quot;parentUUID&quot;:&quot;217a5552-659f-4bc1-86a3-2f2acab30cb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when token is not autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isTokenAutoFail is false when token is not autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Modifier(1)]]);\nchai_1.expect(effects.isTokenAutoFail(src_1.Token.ELDER_SIGN)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3560cc0d-1898-49bd-81f5-9a3fcc09fc6b&quot;,&quot;parentUUID&quot;:&quot;217a5552-659f-4bc1-86a3-2f2acab30cb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;af9a6bd4-045e-4da6-9c21-a259a7ac7770&quot;,&quot;3560cc0d-1898-49bd-81f5-9a3fcc09fc6b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;69fec6b2-7e0e-48ec-b432-a2f1b08b4ba4&quot;,&quot;title&quot;:&quot;getTokenModifier&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns the token modifier if the token is a modifier token&quot;,&quot;fullTitle&quot;:&quot;TokenEffects getTokenModifier returns the token modifier if the token is a modifier token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Modifier(2)]]);\nchai_1.expect(effects.getTokenModifier(src_1.Token.ELDER_SIGN)).to.equal(2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a44c1f93-5a42-48f5-ac0a-7ad506ea2861&quot;,&quot;parentUUID&quot;:&quot;69fec6b2-7e0e-48ec-b432-a2f1b08b4ba4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns an error if the token effect is not a modifier token&quot;,&quot;fullTitle&quot;:&quot;TokenEffects getTokenModifier returns an error if the token effect is not a modifier token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Autosuccess()]]);\nchai_1.expect(function () {\n    effects.getTokenModifier(src_1.Token.ELDER_SIGN);\n}).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;efd8cee3-a525-4d8b-b872-5e13eec9e850&quot;,&quot;parentUUID&quot;:&quot;69fec6b2-7e0e-48ec-b432-a2f1b08b4ba4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a44c1f93-5a42-48f5-ac0a-7ad506ea2861&quot;,&quot;efd8cee3-a525-4d8b-b872-5e13eec9e850&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;13979d26-10f4-477a-be4e-d78c6d35391d&quot;,&quot;title&quot;:&quot;sortByBestOutcomeDesc&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Autosuccess comes first&quot;,&quot;fullTitle&quot;:&quot;TokenEffects sortByBestOutcomeDesc Autosuccess comes first&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Autosuccess()],\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)]\n]);\nvar tokens = [\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.ELDER_SIGN,\n    src_1.Token.PLUS_ONE\n];\nchai_1.expect(effects.sortByBestOutcomeDesc(tokens)[0]).to.equal(src_1.Token.ELDER_SIGN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f436753-412d-4b78-91d4-680fe176c20e&quot;,&quot;parentUUID&quot;:&quot;13979d26-10f4-477a-be4e-d78c6d35391d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Autofail comes last&quot;,&quot;fullTitle&quot;:&quot;TokenEffects sortByBestOutcomeDesc Autofail comes last&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.AUTOFAIL, new src_1.Autofail()]\n]);\nvar tokens = [\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.AUTOFAIL,\n    src_1.Token.PLUS_ONE\n];\nchai_1.expect(effects.sortByBestOutcomeDesc(tokens)[tokens.length - 1]).to.equal(src_1.Token.AUTOFAIL);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51a72978-93a9-4657-8f10-0f0a70a6fc94&quot;,&quot;parentUUID&quot;:&quot;13979d26-10f4-477a-be4e-d78c6d35391d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Modifier tokens are sorted by their modifier value from highest to lowest&quot;,&quot;fullTitle&quot;:&quot;TokenEffects sortByBestOutcomeDesc Modifier tokens are sorted by their modifier value from highest to lowest&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.MINUS_FIVE, new src_1.Modifier(-5)]\n]);\nvar tokens = [\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_FIVE,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_TWO\n];\nvar sorted = [\n    src_1.Token.PLUS_ONE,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO,\n    src_1.Token.MINUS_FIVE\n];\nchai_1.expect(effects.sortByBestOutcomeDesc(tokens)).to.deep.equal(sorted);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ababe6af-b81d-4880-84b4-590b66949d5a&quot;,&quot;parentUUID&quot;:&quot;13979d26-10f4-477a-be4e-d78c6d35391d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8f436753-412d-4b78-91d4-680fe176c20e&quot;,&quot;51a72978-93a9-4657-8f10-0f0a70a6fc94&quot;,&quot;ababe6af-b81d-4880-84b4-590b66949d5a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b89cf2f0-4094-450a-a87c-8be97f39a1ff&quot;,&quot;title&quot;:&quot;isSuccess&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sharedEffects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Autosuccess()],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.AUTOFAIL, new src_1.Autofail()]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02671b0d-df42-4739-9903-67739ce913d9&quot;,&quot;parentUUID&quot;:&quot;b89cf2f0-4094-450a-a87c-8be97f39a1ff&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1fb4a8a3-85fa-4801-b535-b9e6e29370b8&quot;,&quot;title&quot;:&quot;with a single token&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns true whatever the difficulty if the token is an autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with a single token returns true whatever the difficulty if the token is an autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN], 3)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN], -3)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN], -20)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72091988-d51c-4760-b785-6aac214a0655&quot;,&quot;parentUUID&quot;:&quot;1fb4a8a3-85fa-4801-b535-b9e6e29370b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false whatever the difficulty if the token is an autofail&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with a single token returns false whatever the difficulty if the token is an autofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.AUTOFAIL], 3)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.AUTOFAIL], -3)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.AUTOFAIL], -20)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30ae7ef9-3db9-4b46-950f-7d3ba408ce04&quot;,&quot;parentUUID&quot;:&quot;1fb4a8a3-85fa-4801-b535-b9e6e29370b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if the sum of (skill - difficulty) and modifier value is greater than or equal to 0&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with a single token returns true if the sum of (skill - difficulty) and modifier value is greater than or equal to 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE], 3)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE], 1)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_TWO], 2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9250deb3-9427-44e3-affe-c756a5a53baf&quot;,&quot;parentUUID&quot;:&quot;1fb4a8a3-85fa-4801-b535-b9e6e29370b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if the sum of (skill - difficulty) and modifier value is lesser than 0&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with a single token returns false if the sum of (skill - difficulty) and modifier value is lesser than 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE], -3)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE], 0)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_TWO], 1)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51b00efe-5dfd-4b53-ae86-2fb202e86df3&quot;,&quot;parentUUID&quot;:&quot;1fb4a8a3-85fa-4801-b535-b9e6e29370b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;72091988-d51c-4760-b785-6aac214a0655&quot;,&quot;30ae7ef9-3db9-4b46-950f-7d3ba408ce04&quot;,&quot;9250deb3-9427-44e3-affe-c756a5a53baf&quot;,&quot;51b00efe-5dfd-4b53-ae86-2fb202e86df3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;12811fb7-ef8a-4481-96b0-ad52bb8e47fb&quot;,&quot;title&quot;:&quot;with multiple tokens&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns true when 1 of the tokens is an autosuccess and there are no autofail&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns true when 1 of the tokens is an autosuccess and there are no autofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_TWO], -8))\n    .to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d241fb9-cc40-400e-954b-c68c403c3159&quot;,&quot;parentUUID&quot;:&quot;12811fb7-ef8a-4481-96b0-ad52bb8e47fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true when 1 of the tokens is an autofail&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns true when 1 of the tokens is an autofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.AUTOFAIL, src_1.Token.MINUS_TWO], 10))\n    .to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67d18a49-13e1-44dd-8566-7b1461d201c7&quot;,&quot;parentUUID&quot;:&quot;12811fb7-ef8a-4481-96b0-ad52bb8e47fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false when there are both an autosuccess and an autofail among the tokens&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns false when there are both an autosuccess and an autofail among the tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_TWO, src_1.Token.AUTOFAIL], 10)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;609fcd98-8686-4d92-95ef-daac5c4fa932&quot;,&quot;parentUUID&quot;:&quot;12811fb7-ef8a-4481-96b0-ad52bb8e47fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if the sum of (skill - difficulty) and all modifier values is lesser than 0&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns true if the sum of (skill - difficulty) and all modifier values is lesser than 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], 6)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO, src_1.Token.MINUS_ONE], 4)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_TWO, src_1.Token.MINUS_TWO, src_1.Token.MINUS_TWO], 6)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dfdaa3b8-11ce-4df3-9b63-bb4e8588e78c&quot;,&quot;parentUUID&quot;:&quot;12811fb7-ef8a-4481-96b0-ad52bb8e47fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if the sum of (skill - difficulty) and all modifier values is lesser than 0&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns false if the sum of (skill - difficulty) and all modifier values is lesser than 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], 0)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], 2)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], 3)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63719a45-59c6-4fe6-9c2b-4e5099bf1f10&quot;,&quot;parentUUID&quot;:&quot;12811fb7-ef8a-4481-96b0-ad52bb8e47fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7d241fb9-cc40-400e-954b-c68c403c3159&quot;,&quot;67d18a49-13e1-44dd-8566-7b1461d201c7&quot;,&quot;609fcd98-8686-4d92-95ef-daac5c4fa932&quot;,&quot;dfdaa3b8-11ce-4df3-9b63-bb4e8588e78c&quot;,&quot;63719a45-59c6-4fe6-9c2b-4e5099bf1f10&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e5793b89-78a0-42f4-98ef-48da39bf196e&quot;,&quot;title&quot;:&quot;separateRedrawTokens&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;separates redraw tokens from non-redraw tokens&quot;,&quot;fullTitle&quot;:&quot;TokenEffects separateRedrawTokens separates redraw tokens from non-redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.ZERO, new src_1.Modifier(0)],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)],\n    [src_1.Token.CURSE, new src_1.Modifier(-2, true)]\n]);\nvar _a = effects.separateRedrawTokens([\n    src_1.Token.ZERO,\n    src_1.Token.BLESS,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.CURSE,\n    src_1.Token.ZERO\n]), nonRedrawTokens = _a.nonRedrawTokens, redrawTokens = _a.redrawTokens;\nchai_1.expect(nonRedrawTokens).to.deep.equal([\n    src_1.Token.ZERO,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.ZERO\n]);\nchai_1.expect(redrawTokens).to.deep.equal([src_1.Token.BLESS, src_1.Token.CURSE]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f38f3867-e89a-4596-b8da-1cfdb5e2c360&quot;,&quot;parentUUID&quot;:&quot;e5793b89-78a0-42f4-98ef-48da39bf196e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;separates redraw tokens from non-redraw tokens when there are no redraw tokens&quot;,&quot;fullTitle&quot;:&quot;TokenEffects separateRedrawTokens separates redraw tokens from non-redraw tokens when there are no redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.ZERO, new src_1.Modifier(0)],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)],\n    [src_1.Token.CURSE, new src_1.Modifier(-2, true)]\n]);\nvar _a = effects.separateRedrawTokens([\n    src_1.Token.ZERO,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.ZERO\n]), nonRedrawTokens = _a.nonRedrawTokens, redrawTokens = _a.redrawTokens;\nchai_1.expect(nonRedrawTokens).to.deep.equal([\n    src_1.Token.ZERO,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.ZERO\n]);\nchai_1.expect(redrawTokens).to.deep.equal([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3457a6f-ac4e-42b4-bce8-226a4e0ef98a&quot;,&quot;parentUUID&quot;:&quot;e5793b89-78a0-42f4-98ef-48da39bf196e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;separates redraw tokens from non-redraw tokens when there are no non-redraw tokens&quot;,&quot;fullTitle&quot;:&quot;TokenEffects separateRedrawTokens separates redraw tokens from non-redraw tokens when there are no non-redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.ZERO, new src_1.Modifier(0)],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)],\n    [src_1.Token.CURSE, new src_1.Modifier(-2, true)]\n]);\nvar _a = effects.separateRedrawTokens([\n    src_1.Token.BLESS,\n    src_1.Token.CURSE\n]), nonRedrawTokens = _a.nonRedrawTokens, redrawTokens = _a.redrawTokens;\nchai_1.expect(nonRedrawTokens).to.deep.equal([]);\nchai_1.expect(redrawTokens).to.deep.equal([src_1.Token.BLESS, src_1.Token.CURSE]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ba605bf-ecc2-40b4-980f-1440614b5459&quot;,&quot;parentUUID&quot;:&quot;e5793b89-78a0-42f4-98ef-48da39bf196e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;leaves the original token array untouched&quot;,&quot;fullTitle&quot;:&quot;TokenEffects separateRedrawTokens leaves the original token array untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)]\n]);\nvar tokens = [src_1.Token.BLESS, src_1.Token.PLUS_ONE];\neffects.separateRedrawTokens(tokens);\nchai_1.expect(tokens).to.deep.equal([src_1.Token.BLESS, src_1.Token.PLUS_ONE]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a19469b0-42dd-4349-a582-1f31eee8a1db&quot;,&quot;parentUUID&quot;:&quot;e5793b89-78a0-42f4-98ef-48da39bf196e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f38f3867-e89a-4596-b8da-1cfdb5e2c360&quot;,&quot;c3457a6f-ac4e-42b4-bce8-226a4e0ef98a&quot;,&quot;2ba605bf-ecc2-40b4-980f-1440614b5459&quot;,&quot;a19469b0-42dd-4349-a582-1f31eee8a1db&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;66b8e90e-6842-4122-98ff-1822a5ff5d56&quot;,&quot;859dd93c-ad45-4d2c-8fe6-ff95c7c8209b&quot;,&quot;0d11e9b5-d90f-4668-a7e3-17f377f64e5d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a9bb3d7b-6196-4d75-be36-99ae8d17c081&quot;,&quot;title&quot;:&quot;utils&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b79f249d-0ee9-4bf0-a8a0-01681b680a9b&quot;,&quot;title&quot;:&quot;removeFirst&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove the first occurrence&quot;,&quot;fullTitle&quot;:&quot;utils removeFirst should remove the first occurrence&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar removed = utils.removeFirst(arr, 2);\nchai_1.expect(removed).to.deep.equal([1, 3]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb6c4350-4d6e-4f93-88c5-5bdf6ccfb5f5&quot;,&quot;parentUUID&quot;:&quot;b79f249d-0ee9-4bf0-a8a0-01681b680a9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not remove other occurrences&quot;,&quot;fullTitle&quot;:&quot;utils removeFirst should not remove other occurrences&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 2, 2, 3];\nvar removed = utils.removeFirst(arr, 2);\nchai_1.expect(removed).to.deep.equal([1, 2, 2, 3]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35e98065-e2fe-486b-b455-118a62e3fb39&quot;,&quot;parentUUID&quot;:&quot;b79f249d-0ee9-4bf0-a8a0-01681b680a9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not modify the original array&quot;,&quot;fullTitle&quot;:&quot;utils removeFirst should not modify the original array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nutils.removeFirst(arr, 2);\nchai_1.expect(arr).to.deep.equal([1, 2, 3]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d793e84c-ff43-4e8c-886b-cf9383ee7711&quot;,&quot;parentUUID&quot;:&quot;b79f249d-0ee9-4bf0-a8a0-01681b680a9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should do nothing if the array does not contain the element&quot;,&quot;fullTitle&quot;:&quot;utils removeFirst should do nothing if the array does not contain the element&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar removed = utils.removeFirst(arr, 4);\nchai_1.expect(arr).to.deep.equal([1, 2, 3]);\nchai_1.expect(removed).to.deep.equal([1, 2, 3]);\nchai_1.expect(arr).to.not.equal(removed);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eed7ac58-372a-4d7a-8560-965ac83f8aa2&quot;,&quot;parentUUID&quot;:&quot;b79f249d-0ee9-4bf0-a8a0-01681b680a9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eb6c4350-4d6e-4f93-88c5-5bdf6ccfb5f5&quot;,&quot;35e98065-e2fe-486b-b455-118a62e3fb39&quot;,&quot;d793e84c-ff43-4e8c-886b-cf9383ee7711&quot;,&quot;eed7ac58-372a-4d7a-8560-965ac83f8aa2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;da9c53d4-4fe2-4f09-984a-cec8f0c3be1b&quot;,&quot;title&quot;:&quot;flatten&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;flattens an array&quot;,&quot;fullTitle&quot;:&quot;utils flatten flattens an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(utils.flatten([[], [1], [2]])).to.deep.equal([1, 2]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8e311c8-145f-4660-8228-789bc9b0c88d&quot;,&quot;parentUUID&quot;:&quot;da9c53d4-4fe2-4f09-984a-cec8f0c3be1b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a8e311c8-145f-4660-8228-789bc9b0c88d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3b478eb7-0452-4493-832c-0791e7025ec4&quot;,&quot;title&quot;:&quot;combinations&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an empty array if K &gt; N&quot;,&quot;fullTitle&quot;:&quot;utils combinations should return an empty array if K &gt; N&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar comb = utils.combinations(4, arr);\nchai_1.expect(comb).to.deep.equals([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d85fe25-e933-4eff-8af9-bfd2ba478901&quot;,&quot;parentUUID&quot;:&quot;3b478eb7-0452-4493-832c-0791e7025ec4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return [[]] if K &lt;= 0&quot;,&quot;fullTitle&quot;:&quot;utils combinations should return [[]] if K &lt;= 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nchai_1.expect(utils.combinations(0, arr)).to.deep.equals([[]]);\nchai_1.expect(utils.combinations(-5, arr)).to.deep.equals([[]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24797c5c-af0e-4df7-b8bb-94794e4492a3&quot;,&quot;parentUUID&quot;:&quot;3b478eb7-0452-4493-832c-0791e7025ec4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the combinations&quot;,&quot;fullTitle&quot;:&quot;utils combinations should return the combinations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar expected = [\n    [1, 2],\n    [1, 3],\n    [2, 3]\n];\nchai_1.expect(utils.combinations(2, arr)).to.deep.equals(expected);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d261c4cb-f83d-42c3-b76c-50948f4c6c25&quot;,&quot;parentUUID&quot;:&quot;3b478eb7-0452-4493-832c-0791e7025ec4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9d85fe25-e933-4eff-8af9-bfd2ba478901&quot;,&quot;24797c5c-af0e-4df7-b8bb-94794e4492a3&quot;,&quot;d261c4cb-f83d-42c3-b76c-50948f4c6c25&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;18159b62-f27f-4347-b39c-352591aed43d&quot;,&quot;title&quot;:&quot;allCombinations&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return [[]] if provided an empty array of elements&quot;,&quot;fullTitle&quot;:&quot;utils allCombinations should return [[]] if provided an empty array of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var allComb = utils.allCombinations([]);\nchai_1.expect(allComb).to.deep.equals([[]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0c24929-db7c-47b9-bc91-ad053bd23901&quot;,&quot;parentUUID&quot;:&quot;18159b62-f27f-4347-b39c-352591aed43d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return all combinations of provided elements including empty and full sets&quot;,&quot;fullTitle&quot;:&quot;utils allCombinations should return all combinations of provided elements including empty and full sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar expected = [[], [1], [2], [3], [1, 2], [1, 3], [2, 3], [1, 2, 3]];\nvar allComb = utils.allCombinations(arr);\nchai_1.expect(allComb).to.deep.equals(expected);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3674eea2-db9b-4cad-bf11-550a8d0f2792&quot;,&quot;parentUUID&quot;:&quot;18159b62-f27f-4347-b39c-352591aed43d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f0c24929-db7c-47b9-bc91-ad053bd23901&quot;,&quot;3674eea2-db9b-4cad-bf11-550a8d0f2792&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f529dce2-3124-45ec-be75-b8ad8121abd9&quot;,&quot;title&quot;:&quot;cartesianProduct&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should compute cartesian product of 2 arrays&quot;,&quot;fullTitle&quot;:&quot;utils cartesianProduct should compute cartesian product of 2 arrays&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr1 = [1, 2];\nvar arr2 = [3, 4];\nvar expected = [\n    [1, 3],\n    [1, 4],\n    [2, 3],\n    [2, 4]\n];\nchai_1.expect(utils.cartesianProduct(arr1, arr2)).to.deep.equals(expected);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83f541d7-5ce6-47b0-acca-5fb951efefcb&quot;,&quot;parentUUID&quot;:&quot;f529dce2-3124-45ec-be75-b8ad8121abd9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;83f541d7-5ce6-47b0-acca-5fb951efefcb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;16a4cfac-d6b3-45c1-9b9d-1038ca2645a7&quot;,&quot;title&quot;:&quot;factorial&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns 1 for 0!&quot;,&quot;fullTitle&quot;:&quot;utils factorial returns 1 for 0!&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(utils.factorial(0)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23100fa2-3a5e-48ed-bd71-2d58adb7685c&quot;,&quot;parentUUID&quot;:&quot;16a4cfac-d6b3-45c1-9b9d-1038ca2645a7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns 6 for 3!&quot;,&quot;fullTitle&quot;:&quot;utils factorial returns 6 for 3!&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(utils.factorial(3)).to.equal(6);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8dad4b92-6ec4-4396-b7f0-519b35c82b71&quot;,&quot;parentUUID&quot;:&quot;16a4cfac-d6b3-45c1-9b9d-1038ca2645a7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;23100fa2-3a5e-48ed-bd71-2d58adb7685c&quot;,&quot;8dad4b92-6ec4-4396-b7f0-519b35c82b71&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.1.0&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;reports/tests&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;4.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;reports/tests&quot;,&quot;reportTitle&quot;:&quot;arkham-odds&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;reports/tests/assets&quot;,&quot;jsonFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/reports/tests/index.json&quot;,&quot;htmlFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/reports/tests/index.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>