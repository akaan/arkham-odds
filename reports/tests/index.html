<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:52,&quot;tests&quot;:135,&quot;passes&quot;:135,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-10-09T12:23:20.243Z&quot;,&quot;end&quot;:&quot;2020-10-09T12:23:20.307Z&quot;,&quot;duration&quot;:64,&quot;testsRegistered&quot;:135,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;848e6ab4-2294-445e-bf32-15034f8d7c19&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c1bcb67e-49ee-4c15-87c9-3a95b01d547c&quot;,&quot;title&quot;:&quot;Bag&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/bag/Bag.spec.ts&quot;,&quot;file&quot;:&quot;/spec/bag/Bag.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not be affected by changes to the passed array of tokens&quot;,&quot;fullTitle&quot;:&quot;Bag should not be affected by changes to the passed array of tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var someTokens = [tokens_1.Token.ZERO, tokens_1.Token.MINUS_ONE];\nvar bag = new bag_1.Bag(someTokens);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ZERO, tokens_1.Token.MINUS_ONE]);\nsomeTokens.push(tokens_1.Token.AUTOFAIL);\nchai_1.expect(someTokens).to.deep.equal([\n    tokens_1.Token.ZERO,\n    tokens_1.Token.MINUS_ONE,\n    tokens_1.Token.AUTOFAIL\n]);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ZERO, tokens_1.Token.MINUS_ONE]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c383729-80eb-4775-b7e5-131674a1e813&quot;,&quot;parentUUID&quot;:&quot;c1bcb67e-49ee-4c15-87c9-3a95b01d547c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;eef72f67-9c70-486a-887f-fdfe6433ddb7&quot;,&quot;title&quot;:&quot;getTokens&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/bag/Bag.spec.ts&quot;,&quot;file&quot;:&quot;/spec/bag/Bag.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;modifications to the returned array should not affect the Bag&quot;,&quot;fullTitle&quot;:&quot;Bag getTokens modifications to the returned array should not affect the Bag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);\nvar tokens = bag.getTokens();\ntokens.push(tokens_1.Token.TABLET);\nchai_1.expect(tokens).to.deep.equal([\n    tokens_1.Token.ELDER_SIGN,\n    tokens_1.Token.AUTOFAIL,\n    tokens_1.Token.TABLET\n]);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70dc62d2-5b3d-458e-85aa-9ba44e1de573&quot;,&quot;parentUUID&quot;:&quot;eef72f67-9c70-486a-887f-fdfe6433ddb7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;70dc62d2-5b3d-458e-85aa-9ba44e1de573&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;602942fa-3510-4979-b02d-150bac239843&quot;,&quot;title&quot;:&quot;addTokens&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/bag/Bag.spec.ts&quot;,&quot;file&quot;:&quot;/spec/bag/Bag.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new Bag&quot;,&quot;fullTitle&quot;:&quot;Bag addTokens should return a new Bag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN]);\nvar added = bag.addTokens([tokens_1.Token.AUTOFAIL]);\nchai_1.expect(added).not.to.equal(bag);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32b9d4ef-4820-40c8-8341-cafb9de287b5&quot;,&quot;parentUUID&quot;:&quot;602942fa-3510-4979-b02d-150bac239843&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add the tokens&quot;,&quot;fullTitle&quot;:&quot;Bag addTokens should add the tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN]);\nvar added = bag.addTokens([tokens_1.Token.AUTOFAIL, tokens_1.Token.TABLET]);\nchai_1.expect(added.getTokens()).to.deep.equal([\n    tokens_1.Token.ELDER_SIGN,\n    tokens_1.Token.AUTOFAIL,\n    tokens_1.Token.TABLET\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;127a74e1-6fa1-460f-bef0-5ecf6eb1651c&quot;,&quot;parentUUID&quot;:&quot;602942fa-3510-4979-b02d-150bac239843&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leave the original Bag untouched&quot;,&quot;fullTitle&quot;:&quot;Bag addTokens should leave the original Bag untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN]);\nbag.addTokens([tokens_1.Token.AUTOFAIL]);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ELDER_SIGN]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;210a5c55-c865-4af4-848d-eae31b808f85&quot;,&quot;parentUUID&quot;:&quot;602942fa-3510-4979-b02d-150bac239843&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;32b9d4ef-4820-40c8-8341-cafb9de287b5&quot;,&quot;127a74e1-6fa1-460f-bef0-5ecf6eb1651c&quot;,&quot;210a5c55-c865-4af4-848d-eae31b808f85&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;48d81981-0ad1-43e0-9d68-34407b1db2e3&quot;,&quot;title&quot;:&quot;removeToken&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/bag/Bag.spec.ts&quot;,&quot;file&quot;:&quot;/spec/bag/Bag.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new Bag&quot;,&quot;fullTitle&quot;:&quot;Bag removeToken should return a new Bag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);\nvar removed = bag.removeToken(tokens_1.Token.AUTOFAIL);\nchai_1.expect(removed).not.to.equal(bag);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16800aaf-0d5c-4ad3-83f1-189d48bad4a0&quot;,&quot;parentUUID&quot;:&quot;48d81981-0ad1-43e0-9d68-34407b1db2e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove the token&quot;,&quot;fullTitle&quot;:&quot;Bag removeToken should remove the token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);\nvar removed = bag.removeToken(tokens_1.Token.AUTOFAIL);\nchai_1.expect(removed.getTokens()).to.deep.equal([tokens_1.Token.ELDER_SIGN]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33191e4f-38a6-49de-9f48-8a682575ca17&quot;,&quot;parentUUID&quot;:&quot;48d81981-0ad1-43e0-9d68-34407b1db2e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should the original Bag untouched&quot;,&quot;fullTitle&quot;:&quot;Bag removeToken should the original Bag untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);\nbag.removeToken(tokens_1.Token.AUTOFAIL);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62fafc39-0b30-4b14-a425-32a0d5875472&quot;,&quot;parentUUID&quot;:&quot;48d81981-0ad1-43e0-9d68-34407b1db2e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;16800aaf-0d5c-4ad3-83f1-189d48bad4a0&quot;,&quot;33191e4f-38a6-49de-9f48-8a682575ca17&quot;,&quot;62fafc39-0b30-4b14-a425-32a0d5875472&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;3c383729-80eb-4775-b7e5-131674a1e813&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2ff10e7f-674f-4c8f-8acb-6212b671257d&quot;,&quot;title&quot;:&quot;cards&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;cards \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.ZERO, new src_1.Modifier(0)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.MINUS_FOUR, new src_1.Modifier(-4)],\n    [src_1.Token.AUTOFAIL, new src_1.Autofail()],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)],\n    [src_1.Token.CURSE, new src_1.Modifier(-2, true)]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb4ad1f6-d90e-4374-b366-4899caceaf7d&quot;,&quot;parentUUID&quot;:&quot;2ff10e7f-674f-4c8f-8acb-6212b671257d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;aa69d141-a191-45e6-8cf0-9de6ea07a811&quot;,&quot;title&quot;:&quot;success&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards success returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.success(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6023dac-52d9-48ea-b89d-c268e43775c2&quot;,&quot;parentUUID&quot;:&quot;aa69d141-a191-45e6-8cf0-9de6ea07a811&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returned function determine success resolving all pulled tokens&quot;,&quot;fullTitle&quot;:&quot;cards success returned function determine success resolving all pulled tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.success(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be\n    .false;\nchai_1.expect(src_1.success(3)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be\n    .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e0a3c39-f235-49c8-a0d2-4e19026377f5&quot;,&quot;parentUUID&quot;:&quot;aa69d141-a191-45e6-8cf0-9de6ea07a811&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a6023dac-52d9-48ea-b89d-c268e43775c2&quot;,&quot;9e0a3c39-f235-49c8-a0d2-4e19026377f5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1fbc744d-34fc-499f-8d0f-19bbd079fc99&quot;,&quot;title&quot;:&quot;successChoosingBest&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards successChoosingBest returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.successChoosingBest(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;725d0eb6-88c3-471b-857e-5928ebe98aec&quot;,&quot;parentUUID&quot;:&quot;1fbc744d-34fc-499f-8d0f-19bbd079fc99&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty when applying the best token&quot;,&quot;fullTitle&quot;:&quot;cards successChoosingBest returns true if greater than difficulty when applying the best token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.successChoosingBest(1)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61c22e05-d6eb-440d-a9fb-e571fc08f2b2&quot;,&quot;parentUUID&quot;:&quot;1fbc744d-34fc-499f-8d0f-19bbd079fc99&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty when applying the best token&quot;,&quot;fullTitle&quot;:&quot;cards successChoosingBest returns false if lesser than difficulty when applying the best token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.successChoosingBest(0)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4e05df2-d5ef-4efb-b277-e0b3aab3b0d9&quot;,&quot;parentUUID&quot;:&quot;1fbc744d-34fc-499f-8d0f-19bbd079fc99&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should assume that redraw tokens where pulled&quot;,&quot;fullTitle&quot;:&quot;cards successChoosingBest should assume that redraw tokens where pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.successChoosingBest(0)([src_1.Token.AUTOFAIL, src_1.Token.MINUS_FOUR, src_1.Token.BLESS], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e32594a2-f692-4fac-8712-a276eeeb114f&quot;,&quot;parentUUID&quot;:&quot;1fbc744d-34fc-499f-8d0f-19bbd079fc99&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;725d0eb6-88c3-471b-857e-5928ebe98aec&quot;,&quot;61c22e05-d6eb-440d-a9fb-e571fc08f2b2&quot;,&quot;e4e05df2-d5ef-4efb-b277-e0b3aab3b0d9&quot;,&quot;e32594a2-f692-4fac-8712-a276eeeb114f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;115ddba4-354f-407b-aebf-11db82fe53d9&quot;,&quot;title&quot;:&quot;oliveMcBride&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBride returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.oliveMcBride(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1bd2d672-b543-49de-9043-4498115d86ea&quot;,&quot;parentUUID&quot;:&quot;115ddba4-354f-407b-aebf-11db82fe53d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if higher than difficulty with the 2 best tokens&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBride returns true if higher than difficulty with the 2 best tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBride(1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0af86afe-3de4-48d7-8f3b-285beacbeb8c&quot;,&quot;parentUUID&quot;:&quot;115ddba4-354f-407b-aebf-11db82fe53d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty with the 2 best tokens&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBride returns false if lesser than difficulty with the 2 best tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBride(0)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08c70f92-c5fa-4d4e-87a5-37249ec6fdb2&quot;,&quot;parentUUID&quot;:&quot;115ddba4-354f-407b-aebf-11db82fe53d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should assume that redraw tokens where pulled&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBride should assume that redraw tokens where pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBride(-2)([src_1.Token.AUTOFAIL, src_1.Token.MINUS_FOUR, src_1.Token.BLESS, src_1.Token.ZERO], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73e85593-1a2f-480a-b1bd-f6f3a01ac601&quot;,&quot;parentUUID&quot;:&quot;115ddba4-354f-407b-aebf-11db82fe53d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1bd2d672-b543-49de-9043-4498115d86ea&quot;,&quot;0af86afe-3de4-48d7-8f3b-285beacbeb8c&quot;,&quot;08c70f92-c5fa-4d4e-87a5-37249ec6fdb2&quot;,&quot;73e85593-1a2f-480a-b1bd-f6f3a01ac601&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a2b802bd-912f-41f2-9ec2-9006a5d37b89&quot;,&quot;title&quot;:&quot;oliveMcBrideWithSkull&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.oliveMcBrideWithSkull(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;408d2594-54b6-46cc-9388-e1296f03c5b1&quot;,&quot;parentUUID&quot;:&quot;a2b802bd-912f-41f2-9ec2-9006a5d37b89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if there is no Skull token in the tokens pulled&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull returns false if there is no Skull token in the tokens pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideWithSkull(0)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98c6aad0-0996-4e26-9f38-5cc82d0f3b6d&quot;,&quot;parentUUID&quot;:&quot;a2b802bd-912f-41f2-9ec2-9006a5d37b89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not modify the combination&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull should not modify the combination&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var myComb = [src_1.Token.SKULL, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO];\nsrc_1.oliveMcBrideWithSkull(2)(myComb, effects.merge(new src_1.TokenEffects([[src_1.Token.SKULL, new src_1.Modifier(-1)]])));\nchai_1.expect(myComb).to.deep.equal([\n    src_1.Token.SKULL,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13bf71b4-1afe-49ad-b533-81a3d0f9b5f1&quot;,&quot;parentUUID&quot;:&quot;a2b802bd-912f-41f2-9ec2-9006a5d37b89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if there is a Skull token in the tokens pulled and if adding best of remaining tokens is still higher than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull returns true if there is a Skull token in the tokens pulled and if adding best of remaining tokens is still higher than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideWithSkull(2)([src_1.Token.SKULL, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects.merge(new src_1.TokenEffects([[src_1.Token.SKULL, new src_1.Modifier(-1)]])))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b589085c-532f-4bef-b8e4-be978105ca83&quot;,&quot;parentUUID&quot;:&quot;a2b802bd-912f-41f2-9ec2-9006a5d37b89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if there is a Skull token in the tokens pulled and if adding best of remaining tokens is lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull returns false if there is a Skull token in the tokens pulled and if adding best of remaining tokens is lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideWithSkull(1)([src_1.Token.SKULL, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects.merge(new src_1.TokenEffects([[src_1.Token.SKULL, new src_1.Modifier(-1)]])))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16b46b56-25c2-41dd-a13b-4bf3b632042e&quot;,&quot;parentUUID&quot;:&quot;a2b802bd-912f-41f2-9ec2-9006a5d37b89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should assume that redraw tokens where pulled&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull should assume that redraw tokens where pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideWithSkull(3)([src_1.Token.AUTOFAIL, src_1.Token.SKULL, src_1.Token.BLESS, src_1.Token.MINUS_TWO], effects.merge(new src_1.TokenEffects([[src_1.Token.SKULL, new src_1.Modifier(-4)]])))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f16a8e9-282b-495c-9b79-7d91d1500ca8&quot;,&quot;parentUUID&quot;:&quot;a2b802bd-912f-41f2-9ec2-9006a5d37b89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;408d2594-54b6-46cc-9388-e1296f03c5b1&quot;,&quot;98c6aad0-0996-4e26-9f38-5cc82d0f3b6d&quot;,&quot;13bf71b4-1afe-49ad-b533-81a3d0f9b5f1&quot;,&quot;b589085c-532f-4bef-b8e4-be978105ca83&quot;,&quot;16b46b56-25c2-41dd-a13b-4bf3b632042e&quot;,&quot;4f16a8e9-282b-495c-9b79-7d91d1500ca8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d3134d17-b7d8-4bf8-b1f0-827617584a2e&quot;,&quot;title&quot;:&quot;recallTheFuture&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.recallTheFuture(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3acab53-2501-4f2d-9076-b70aa0936dfb&quot;,&quot;parentUUID&quot;:&quot;d3134d17-b7d8-4bf8-b1f0-827617584a2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns true if greater than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(0)([src_1.Token.ZERO], effects, new src_1.Bag([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE]))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;738a0e74-b7d3-4d6c-940f-ba45c485482a&quot;,&quot;parentUUID&quot;:&quot;d3134d17-b7d8-4bf8-b1f0-827617584a2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if lesser than difficulty but drew the token which has the most chances to be turned into success using the +2 bonus&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns true if lesser than difficulty but drew the token which has the most chances to be turned into success using the +2 bonus&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-1)([src_1.Token.MINUS_ONE], effects, new src_1.Bag([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE]))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b456c842-1103-4aa8-9928-2c36f755830e&quot;,&quot;parentUUID&quot;:&quot;d3134d17-b7d8-4bf8-b1f0-827617584a2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty and did not drew the token which has the most chances to be turned into success using the +2 bonus&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns false if lesser than difficulty and did not drew the token which has the most chances to be turned into success using the +2 bonus&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-1)([src_1.Token.ZERO], effects, new src_1.Bag([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE]))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2e96eec-5def-4988-8e72-cf234ae934f5&quot;,&quot;parentUUID&quot;:&quot;d3134d17-b7d8-4bf8-b1f0-827617584a2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if still lesser than difficulty applying the +2 bonus&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns false if still lesser than difficulty applying the +2 bonus&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-2)([src_1.Token.MINUS_ONE], effects, new src_1.Bag([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE]))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdd9f681-bd9d-470c-9ac8-849a79913ce3&quot;,&quot;parentUUID&quot;:&quot;d3134d17-b7d8-4bf8-b1f0-827617584a2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can handle the case where several tokens where drawn&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture can handle the case where several tokens where drawn&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE], effects, new src_1.Bag([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO\n]))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a108a74c-b2d0-4f52-bd44-7637e08e5161&quot;,&quot;parentUUID&quot;:&quot;d3134d17-b7d8-4bf8-b1f0-827617584a2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can handle redraw tokens&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture can handle redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-1)([src_1.Token.MINUS_ONE, src_1.Token.CURSE], effects, new src_1.Bag([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO,\n    src_1.Token.CURSE\n]))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e5904ad-4d30-4f37-9928-9d084047642a&quot;,&quot;parentUUID&quot;:&quot;d3134d17-b7d8-4bf8-b1f0-827617584a2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f3acab53-2501-4f2d-9076-b70aa0936dfb&quot;,&quot;738a0e74-b7d3-4d6c-940f-ba45c485482a&quot;,&quot;b456c842-1103-4aa8-9928-2c36f755830e&quot;,&quot;e2e96eec-5def-4988-8e72-cf234ae934f5&quot;,&quot;bdd9f681-bd9d-470c-9ac8-849a79913ce3&quot;,&quot;a108a74c-b2d0-4f52-bd44-7637e08e5161&quot;,&quot;3e5904ad-4d30-4f37-9928-9d084047642a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5c66e4f9-d778-4dff-ae91-402f0f5878bd&quot;,&quot;title&quot;:&quot;darkProphecy&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.darkProphecy(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5205292-bc92-4f7f-a131-91b420a13efb&quot;,&quot;parentUUID&quot;:&quot;5c66e4f9-d778-4dff-ae91-402f0f5878bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;return true if greater than difficulty using the \&quot;best\&quot; bad token pulled&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy return true if greater than difficulty using the \&quot;best\&quot; bad token pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(2)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.CULTIST,\n    src_1.Token.ELDER_THING\n], effects.merge(new src_1.TokenEffects([\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)],\n    [src_1.Token.ELDER_THING, new src_1.Modifier(-4)]\n])))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8626dd04-d554-4290-bd80-ee91c49fb00f&quot;,&quot;parentUUID&quot;:&quot;5c66e4f9-d778-4dff-ae91-402f0f5878bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;return false if lesser than difficulty using the \&quot;best\&quot; bad token pulled&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy return false if lesser than difficulty using the \&quot;best\&quot; bad token pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(1)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.CULTIST,\n    src_1.Token.ELDER_THING\n], effects.merge(new src_1.TokenEffects([\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)],\n    [src_1.Token.ELDER_THING, new src_1.Modifier(-4)]\n])))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70d7001d-e1a0-46d2-841f-1b5c22e5d3bf&quot;,&quot;parentUUID&quot;:&quot;5c66e4f9-d778-4dff-ae91-402f0f5878bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;return true if greater than difficulty using best token when no bad tokens were pulled&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy return true if greater than difficulty using best token when no bad tokens were pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(0)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_TWO\n], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da2f3eef-7e05-4016-a0ee-8990cdd6cc52&quot;,&quot;parentUUID&quot;:&quot;5c66e4f9-d778-4dff-ae91-402f0f5878bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;return false if lesser than difficulty using best token when no bad tokens were pulled&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy return false if lesser than difficulty using best token when no bad tokens were pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(-1)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_TWO\n], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aec6b923-6239-457b-a50b-a9adc497f81a&quot;,&quot;parentUUID&quot;:&quot;5c66e4f9-d778-4dff-ae91-402f0f5878bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens (assuming they were pulled)&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy takes into account redraw tokens (assuming they were pulled)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(0)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_TWO,\n    src_1.Token.CURSE\n], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2aa945fc-b1d3-41a0-843a-63546edf1b97&quot;,&quot;parentUUID&quot;:&quot;5c66e4f9-d778-4dff-ae91-402f0f5878bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c5205292-bc92-4f7f-a131-91b420a13efb&quot;,&quot;8626dd04-d554-4290-bd80-ee91c49fb00f&quot;,&quot;70d7001d-e1a0-46d2-841f-1b5c22e5d3bf&quot;,&quot;da2f3eef-7e05-4016-a0ee-8990cdd6cc52&quot;,&quot;aec6b923-6239-457b-a50b-a9adc497f81a&quot;,&quot;2aa945fc-b1d3-41a0-843a-63546edf1b97&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f18da767-502a-4451-bc7f-86b24deffc80&quot;,&quot;title&quot;:&quot;winchesterDoing1Damage&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing1Damage returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.winchesterDoing1Damage(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d7a2c08-955e-4816-88b8-c015dde09e50&quot;,&quot;parentUUID&quot;:&quot;f18da767-502a-4451-bc7f-86b24deffc80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing1Damage returns true if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing1Damage(1)([src_1.Token.MINUS_ONE], effects)).to.be.true;\nchai_1.expect(src_1.winchesterDoing1Damage(2)([src_1.Token.MINUS_TWO], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;155b7ebb-493c-4c5a-9da4-ac47531a8ffc&quot;,&quot;parentUUID&quot;:&quot;f18da767-502a-4451-bc7f-86b24deffc80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing1Damage returns false if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing1Damage(0)([src_1.Token.ELDER_SIGN], effects)).to.be\n    .false;\nchai_1.expect(src_1.winchesterDoing1Damage(0)([src_1.Token.ZERO], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing1Damage(-1)([src_1.Token.PLUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5988604-ca8f-4cf9-a8ca-623dbb057625&quot;,&quot;parentUUID&quot;:&quot;f18da767-502a-4451-bc7f-86b24deffc80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing1Damage returns false if lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing1Damage(-2)([src_1.Token.ELDER_SIGN], effects)).to.be\n    .false;\nchai_1.expect(src_1.winchesterDoing1Damage(-1)([src_1.Token.ZERO], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing1Damage(-2)([src_1.Token.PLUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing1Damage(0)([src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing1Damage(1)([src_1.Token.MINUS_TWO], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9cb971b-d365-423f-be5c-b1d2e2cb1e29&quot;,&quot;parentUUID&quot;:&quot;f18da767-502a-4451-bc7f-86b24deffc80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3d7a2c08-955e-4816-88b8-c015dde09e50&quot;,&quot;155b7ebb-493c-4c5a-9da4-ac47531a8ffc&quot;,&quot;b5988604-ca8f-4cf9-a8ca-623dbb057625&quot;,&quot;c9cb971b-d365-423f-be5c-b1d2e2cb1e29&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8218ca9e-75bf-42d0-a83d-7feb188c0853&quot;,&quot;title&quot;:&quot;winchesterDoing3Damage&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing3Damage returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.winchesterDoing3Damage(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fec6683a-075e-4e70-9e74-61ccc34f799f&quot;,&quot;parentUUID&quot;:&quot;8218ca9e-75bf-42d0-a83d-7feb188c0853&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing3Damage returns true if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing3Damage(0)([src_1.Token.ELDER_SIGN], effects)).to.be.true;\nchai_1.expect(src_1.winchesterDoing3Damage(0)([src_1.Token.ZERO], effects)).to.be.true;\nchai_1.expect(src_1.winchesterDoing3Damage(-1)([src_1.Token.PLUS_ONE], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f77e844-4427-4b10-ae4e-b65da3351a71&quot;,&quot;parentUUID&quot;:&quot;8218ca9e-75bf-42d0-a83d-7feb188c0853&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing3Damage returns false if lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing3Damage(-2)([src_1.Token.ELDER_SIGN], effects)).to.be\n    .false;\nchai_1.expect(src_1.winchesterDoing3Damage(-1)([src_1.Token.ZERO], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing3Damage(-2)([src_1.Token.PLUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d80387c-1a4d-4581-9e40-82fc908351ab&quot;,&quot;parentUUID&quot;:&quot;8218ca9e-75bf-42d0-a83d-7feb188c0853&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing3Damage returns false if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing3Damage(1)([src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24e48df5-e435-4007-bd09-68e2a8eca641&quot;,&quot;parentUUID&quot;:&quot;8218ca9e-75bf-42d0-a83d-7feb188c0853&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fec6683a-075e-4e70-9e74-61ccc34f799f&quot;,&quot;5f77e844-4427-4b10-ae4e-b65da3351a71&quot;,&quot;7d80387c-1a4d-4581-9e40-82fc908351ab&quot;,&quot;24e48df5-e435-4007-bd09-68e2a8eca641&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3410d3aa-7a2e-40b1-b5f6-a8732e804494&quot;,&quot;title&quot;:&quot;oliveMcBrideAndWinchesterDoing1Damage&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.oliveMcBrideAndWinchesterDoing1Damage(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7c73fba-0297-416b-b86e-52966a95dadb&quot;,&quot;parentUUID&quot;:&quot;3410d3aa-7a2e-40b1-b5f6-a8732e804494&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage returns true if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(2)([src_1.Token.MINUS_TWO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b42decf-647a-4207-bc67-a50e7c1d1371&quot;,&quot;parentUUID&quot;:&quot;3410d3aa-7a2e-40b1-b5f6-a8732e804494&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage returns false if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(0)([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(0)([src_1.Token.PLUS_ONE, , src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25c7aebe-c743-43a6-a135-133da565d0c0&quot;,&quot;parentUUID&quot;:&quot;3410d3aa-7a2e-40b1-b5f6-a8732e804494&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage returns false if lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(-1)([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(1)([src_1.Token.MINUS_TWO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;045cac64-f07d-4a47-9bd7-42615e48fd5a&quot;,&quot;parentUUID&quot;:&quot;3410d3aa-7a2e-40b1-b5f6-a8732e804494&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage takes into account redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO, src_1.Token.CURSE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e62a7264-63cb-4739-abad-450e65ab8769&quot;,&quot;parentUUID&quot;:&quot;3410d3aa-7a2e-40b1-b5f6-a8732e804494&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f7c73fba-0297-416b-b86e-52966a95dadb&quot;,&quot;8b42decf-647a-4207-bc67-a50e7c1d1371&quot;,&quot;25c7aebe-c743-43a6-a135-133da565d0c0&quot;,&quot;045cac64-f07d-4a47-9bd7-42615e48fd5a&quot;,&quot;e62a7264-63cb-4739-abad-450e65ab8769&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a0729a92-4794-4506-973e-472976a25f69&quot;,&quot;title&quot;:&quot;oliveMcBrideAndWinchesterDoing3Damage&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.oliveMcBrideAndWinchesterDoing3Damage(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf2a84ad-b067-4cb6-abe6-5f1609b86630&quot;,&quot;parentUUID&quot;:&quot;a0729a92-4794-4506-973e-472976a25f69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage returns true if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(0)([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(0)([src_1.Token.PLUS_ONE, , src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e9fb8bc-7130-4b03-9c2d-72876793779f&quot;,&quot;parentUUID&quot;:&quot;a0729a92-4794-4506-973e-472976a25f69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage returns false if lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(-1)([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(0)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(-1)([src_1.Token.PLUS_ONE, , src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbe25b62-a38c-431f-a68a-35ceaadd2e68&quot;,&quot;parentUUID&quot;:&quot;a0729a92-4794-4506-973e-472976a25f69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage returns false if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff48e0a6-0605-41b4-99a2-d1bb6b9c7d36&quot;,&quot;parentUUID&quot;:&quot;a0729a92-4794-4506-973e-472976a25f69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage takes into account redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO, src_1.Token.CURSE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f67508ee-0424-47fd-b3a7-24b7aafbed9c&quot;,&quot;parentUUID&quot;:&quot;a0729a92-4794-4506-973e-472976a25f69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cf2a84ad-b067-4cb6-abe6-5f1609b86630&quot;,&quot;8e9fb8bc-7130-4b03-9c2d-72876793779f&quot;,&quot;dbe25b62-a38c-431f-a68a-35ceaadd2e68&quot;,&quot;ff48e0a6-0605-41b4-99a2-d1bb6b9c7d36&quot;,&quot;f67508ee-0424-47fd-b3a7-24b7aafbed9c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9bcfa842-1a39-4859-beb1-179445156dc6&quot;,&quot;title&quot;:&quot;jacqueline&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.jacqueline(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82451df7-24e5-4d59-a740-1da965fdf74a&quot;,&quot;parentUUID&quot;:&quot;9bcfa842-1a39-4859-beb1-179445156dc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty when cancelling 2 non-tentacle tokens&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns true if greater than difficulty when cancelling 2 non-tentacle tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(1)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4e23023-a42a-4bf4-865e-e29c05b91987&quot;,&quot;parentUUID&quot;:&quot;9bcfa842-1a39-4859-beb1-179445156dc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty when cancelling tentacle&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns true if greater than difficulty when cancelling tentacle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92692d9b-b35e-4a32-9b50-f16969510bb8&quot;,&quot;parentUUID&quot;:&quot;9bcfa842-1a39-4859-beb1-179445156dc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty when cancelling 2 non-tentacle tokens&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns false if lesser than difficulty when cancelling 2 non-tentacle tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(0)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a651c66-416a-44ee-bf16-801b94921add&quot;,&quot;parentUUID&quot;:&quot;9bcfa842-1a39-4859-beb1-179445156dc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty when cancelling tentacle&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns false if lesser than difficulty when cancelling tentacle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(1)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c4902af-8712-4b31-9489-6b60881b6ee1&quot;,&quot;parentUUID&quot;:&quot;9bcfa842-1a39-4859-beb1-179445156dc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens when ignoring 2 tokens&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline takes into account redraw tokens when ignoring 2 tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO, src_1.Token.CURSE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2041d3fe-658d-4821-ae6b-66cf81e5f244&quot;,&quot;parentUUID&quot;:&quot;9bcfa842-1a39-4859-beb1-179445156dc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens when cancelling tentacle&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline takes into account redraw tokens when cancelling tentacle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL, src_1.Token.CURSE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4410c5c0-6109-4695-9db3-e00437f4f0e7&quot;,&quot;parentUUID&quot;:&quot;9bcfa842-1a39-4859-beb1-179445156dc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;82451df7-24e5-4d59-a740-1da965fdf74a&quot;,&quot;c4e23023-a42a-4bf4-865e-e29c05b91987&quot;,&quot;92692d9b-b35e-4a32-9b50-f16969510bb8&quot;,&quot;3a651c66-416a-44ee-bf16-801b94921add&quot;,&quot;1c4902af-8712-4b31-9489-6b60881b6ee1&quot;,&quot;2041d3fe-658d-4821-ae6b-66cf81e5f244&quot;,&quot;4410c5c0-6109-4695-9db3-e00437f4f0e7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8da31e9c-731f-48e9-8be8-f24790ae1198&quot;,&quot;title&quot;:&quot;exports&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/exports.spec.ts&quot;,&quot;file&quot;:&quot;/spec/exports.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;exports the `odds` function&quot;,&quot;fullTitle&quot;:&quot;exports exports the `odds` function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(ArkhamOdds.odds).to.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;280aa820-7b4d-4940-bc3b-12d295f1eebe&quot;,&quot;parentUUID&quot;:&quot;8da31e9c-731f-48e9-8be8-f24790ae1198&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;280aa820-7b4d-4940-bc3b-12d295f1eebe&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;02988157-f3a0-4714-9f19-8f36aa0c9666&quot;,&quot;title&quot;:&quot;Odds functions&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/index.spec.ts&quot;,&quot;file&quot;:&quot;/spec/index.spec.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Odds functions \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-1, true)]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7759c67-a778-478c-b568-196154d41deb&quot;,&quot;parentUUID&quot;:&quot;02988157-f3a0-4714-9f19-8f36aa0c9666&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3e1875f8-33bd-4118-82c8-37b0390a01e4&quot;,&quot;title&quot;:&quot;odds&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/index.spec.ts&quot;,&quot;file&quot;:&quot;/spec/index.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns 0.5 when pulling 1 token if half the tokens results in a success&quot;,&quot;fullTitle&quot;:&quot;Odds functions odds returns 0.5 when pulling 1 token if half the tokens results in a success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE]);\nvar oddsOfSuccess = src_1.odds(1, bag, effects, src_1.success(0));\nchai_1.expect(oddsOfSuccess).to.equal(0.5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db19d5f7-c6e8-4d1b-ba63-d704af224c9c&quot;,&quot;parentUUID&quot;:&quot;3e1875f8-33bd-4118-82c8-37b0390a01e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can compute odds even when there are no successful combinations&quot;,&quot;fullTitle&quot;:&quot;Odds functions odds can compute odds even when there are no successful combinations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE]);\nvar oddsOfSuccess = src_1.odds(1, bag, effects, src_1.success(-4));\nchai_1.expect(oddsOfSuccess).to.equal(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49d8a3e9-63d4-455a-b855-992e4efc6957&quot;,&quot;parentUUID&quot;:&quot;3e1875f8-33bd-4118-82c8-37b0390a01e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account tokens with a redraw effect&quot;,&quot;fullTitle&quot;:&quot;Odds functions odds takes into account tokens with a redraw effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.CULTIST]);\nvar oddsOfSuccess = src_1.odds(1, bag, effects, src_1.success(-1));\n/* Possible draws are :\n * - +1 with a probability of 1/3\n * - -1 with a probability of 1/3\n * - Cultist and +1 with a probability of 1/6 (1/3 x 1/2)\n * - Cultist and -1 with a probability of 1/6 (1/3 x 1/2)\n * If testing at -1, only +1 result in a success.\n */\nchai_1.expect(oddsOfSuccess).to.be.closeTo(1 / 3, PRECISION);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0ceeed6-3c13-409c-b033-b54ed8501979&quot;,&quot;parentUUID&quot;:&quot;3e1875f8-33bd-4118-82c8-37b0390a01e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account tokens with a redraw effect when pulling multiple tokens&quot;,&quot;fullTitle&quot;:&quot;Odds functions odds takes into account tokens with a redraw effect when pulling multiple tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO,\n    src_1.Token.CULTIST\n]);\n/* Possible draws are in the table below\n *\n * | 1st pull | 2nd pull | 3rd pull | Result | Probability |\n * | +1       | -1       |          | +0     | 1/12        |\n * | +1       | -2       |          | -1     | 1/12        |\n * | +1       | Cultist  | -1       | -1     | 1/24        |\n * | +1       | Cultist  | -2       | -2     | 1/24        |\n * | -1       | +1       |          | +0     | 1/12        |\n * | -1       | -2       |          | -3     | 1/12        |\n * | -1       | Cultist  | +1       | -1     | 1/24        |\n * | -1       | Cultist  | -2       | -4     | 1/24        |\n * | -2       | +1       |          | -1     | 1/12        |\n * | -2       | -1       |          | -3     | 1/12        |\n * | -2       | Cultist  | +1       | -2     | 1/24        |\n * | -2       | Cultist  | -1       | -4     | 1/24        |\n * | Cultist  | +1       | -1       | -1     | 1/24        |\n * | Cultist  | +1       | -2       | -2     | 1/24        |\n * | Cultist  | -1       | +1       | -1     | 1/24        |\n * | Cultist  | -1       | -2       | -4     | 1/24        |\n * | Cultist  | -2       | +1       | -2     | 1/24        |\n * | Cultist  | -2       | -1       | -4     | 1/24        |\n *\n * Odds of success depending on difficulty is then :\n *\n * | Result | Probability |\n * | -4     | 4/24        |\n * | -3     | 4/24        |\n * | -2     | 4/24        |\n * | -1     | 8/24        |\n * | 0      | 4/24        |\n */\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(0))).to.be.closeTo(4 / 24, PRECISION, \&quot;when equal\&quot;);\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(1))).to.be.closeTo(12 / 24, // 4 / 24 + 8 / 24\nPRECISION, \&quot;when over by 1\&quot;);\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(2))).to.be.closeTo(16 / 24, // 4 / 24 + 8 / 24 + 4 / 24\nPRECISION, \&quot;when over by 2\&quot;);\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(3))).to.closeTo(20 / 24, // 4 / 24 + 8 / 24 + 4 / 24 + 4 / 24\nPRECISION, \&quot;when over by 3\&quot;);\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(4))).to.be.closeTo(1, PRECISION, \&quot;when over by 4\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81cb686f-ae58-4d19-9481-ad623dd629dc&quot;,&quot;parentUUID&quot;:&quot;3e1875f8-33bd-4118-82c8-37b0390a01e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;db19d5f7-c6e8-4d1b-ba63-d704af224c9c&quot;,&quot;49d8a3e9-63d4-455a-b855-992e4efc6957&quot;,&quot;f0ceeed6-3c13-409c-b033-b54ed8501979&quot;,&quot;81cb686f-ae58-4d19-9481-ad623dd629dc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d3b61382-b7ac-4e0a-92b1-5e3bfc2b43b0&quot;,&quot;title&quot;:&quot;oddsWithRedraw&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/index.spec.ts&quot;,&quot;file&quot;:&quot;/spec/index.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns 0.5 when pulling 1 token if half the tokens results in a success&quot;,&quot;fullTitle&quot;:&quot;Odds functions oddsWithRedraw returns 0.5 when pulling 1 token if half the tokens results in a success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE]);\nvar oddsOfSuccess = src_1.oddsWithRedraw(1, bag, effects, src_1.success(0));\nchai_1.expect(oddsOfSuccess).to.equal(0.5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ad439f1-293b-4bf7-ab55-904f23e28f8f&quot;,&quot;parentUUID&quot;:&quot;d3b61382-b7ac-4e0a-92b1-5e3bfc2b43b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns 0.75 when pulling 2 tokens (putting back first token before second draw) if half the tokens results in a success&quot;,&quot;fullTitle&quot;:&quot;Odds functions oddsWithRedraw returns 0.75 when pulling 2 tokens (putting back first token before second draw) if half the tokens results in a success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE]);\nvar oddsOfSuccess = src_1.oddsWithRedraw(2, bag, effects, src_1.successChoosingBest(0));\nchai_1.expect(oddsOfSuccess).to.equal(0.75);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77f7c304-fcbe-42a3-a55b-5acd1971cd13&quot;,&quot;parentUUID&quot;:&quot;d3b61382-b7ac-4e0a-92b1-5e3bfc2b43b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1ad439f1-293b-4bf7-ab55-904f23e28f8f&quot;,&quot;77f7c304-fcbe-42a3-a55b-5acd1971cd13&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1ac6e688-c594-4a78-aadf-b6f31b5a6d17&quot;,&quot;title&quot;:&quot;Precise calculations with fraction&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/precise_calculations.spec.ts&quot;,&quot;file&quot;:&quot;/spec/precise_calculations.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;fractions with same numerator and denominator are equal&quot;,&quot;fullTitle&quot;:&quot;Precise calculations with fraction fractions with same numerator and denominator are equal&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var frac1 = new Fraction_1.Fraction(1, 3);\nvar frac2 = new Fraction_1.Fraction(1, 3);\nchai_1.expect(frac1.sameAs(frac2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04c38772-f8a7-46da-a66e-998b18b757c5&quot;,&quot;parentUUID&quot;:&quot;1ac6e688-c594-4a78-aadf-b6f31b5a6d17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;fractions with same numerator and different denominator are not equal&quot;,&quot;fullTitle&quot;:&quot;Precise calculations with fraction fractions with same numerator and different denominator are not equal&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var frac1 = new Fraction_1.Fraction(1, 3);\nvar frac2 = new Fraction_1.Fraction(1, 4);\nchai_1.expect(frac1.sameAs(frac2)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;558a7f63-5cf4-4835-9b25-a7a7f4376709&quot;,&quot;parentUUID&quot;:&quot;1ac6e688-c594-4a78-aadf-b6f31b5a6d17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;fractions reducing to the same fraction are equal&quot;,&quot;fullTitle&quot;:&quot;Precise calculations with fraction fractions reducing to the same fraction are equal&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var frac1 = new Fraction_1.Fraction(1, 2);\nvar frac2 = new Fraction_1.Fraction(2, 4);\nchai_1.expect(frac1.sameAs(frac2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;869da685-1de0-4877-b1dd-6897fff17d6f&quot;,&quot;parentUUID&quot;:&quot;1ac6e688-c594-4a78-aadf-b6f31b5a6d17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can add fractions&quot;,&quot;fullTitle&quot;:&quot;Precise calculations with fraction can add fractions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var frac1 = new Fraction_1.Fraction(1, 3);\nvar frac2 = new Fraction_1.Fraction(1, 4);\nvar expected = new Fraction_1.Fraction(7, 12);\nchai_1.expect(frac1.add(frac2).sameAs(expected)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f5ba8c2-03a4-4131-9c43-20bcb5f39a56&quot;,&quot;parentUUID&quot;:&quot;1ac6e688-c594-4a78-aadf-b6f31b5a6d17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can compute to float&quot;,&quot;fullTitle&quot;:&quot;Precise calculations with fraction can compute to float&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var frac = new Fraction_1.Fraction(1, 2);\nchai_1.expect(frac.valueOf()).to.equal(0.5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b60e312-f892-4083-bc38-17fa29ba8180&quot;,&quot;parentUUID&quot;:&quot;1ac6e688-c594-4a78-aadf-b6f31b5a6d17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;04c38772-f8a7-46da-a66e-998b18b757c5&quot;,&quot;558a7f63-5cf4-4835-9b25-a7a7f4376709&quot;,&quot;869da685-1de0-4877-b1dd-6897fff17d6f&quot;,&quot;8f5ba8c2-03a4-4131-9c43-20bcb5f39a56&quot;,&quot;5b60e312-f892-4083-bc38-17fa29ba8180&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6a34852e-e67e-4098-8cc1-5fc4d02830b5&quot;,&quot;title&quot;:&quot;Autofail&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autofail.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autofail.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b667b0bb-7c26-4c4c-afff-406a0eef27ff&quot;,&quot;title&quot;:&quot;getOutcome&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autofail.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autofail.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;outcome is of type AUTOFAIL&quot;,&quot;fullTitle&quot;:&quot;Autofail getOutcome outcome is of type AUTOFAIL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Autofail().getOutcome()).to.equal(src_1.TokenEffectType.AUTOFAIL);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd1f2845-d7fc-482b-b573-2c494c1be922&quot;,&quot;parentUUID&quot;:&quot;b667b0bb-7c26-4c4c-afff-406a0eef27ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cd1f2845-d7fc-482b-b573-2c494c1be922&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9b0f67b3-e8f6-47d5-94a4-46d8914f4e68&quot;,&quot;title&quot;:&quot;isRedraw&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autofail.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autofail.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is not a redraw token&quot;,&quot;fullTitle&quot;:&quot;Autofail isRedraw is not a redraw token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Autofail().isRedraw()).to.equal(false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c42cc98e-938a-4c59-b034-f76c580306f6&quot;,&quot;parentUUID&quot;:&quot;9b0f67b3-e8f6-47d5-94a4-46d8914f4e68&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c42cc98e-938a-4c59-b034-f76c580306f6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ee5fd0e3-f457-4500-b17e-e59055555426&quot;,&quot;title&quot;:&quot;sameAs&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autofail.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autofail.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when compared to another Auofail&quot;,&quot;fullTitle&quot;:&quot;Autofail sameAs is true when compared to another Auofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Autofail(), new src_1.Autofail()], fail1 = _a[0], fail2 = _a[1];\nchai_1.expect(fail1.sameAs(fail2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2dbd845b-8d33-4830-bc6a-44464a258667&quot;,&quot;parentUUID&quot;:&quot;ee5fd0e3-f457-4500-b17e-e59055555426&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when compared to another type of effect&quot;,&quot;fullTitle&quot;:&quot;Autofail sameAs is false when compared to another type of effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var fail = new src_1.Autofail();\nchai_1.expect(fail.sameAs(new src_1.Modifier(-1))).to.be.false;\nchai_1.expect(fail.sameAs(new src_1.Autosuccess())).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85d3a467-e85b-4a81-8145-62494dc0c6cd&quot;,&quot;parentUUID&quot;:&quot;ee5fd0e3-f457-4500-b17e-e59055555426&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2dbd845b-8d33-4830-bc6a-44464a258667&quot;,&quot;85d3a467-e85b-4a81-8145-62494dc0c6cd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d32f1241-7d6c-4d2f-b692-02fd325f7ae7&quot;,&quot;title&quot;:&quot;Autofail&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autosuccess.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autosuccess.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;272cffa0-a381-46ec-a8d8-6a456c39a970&quot;,&quot;title&quot;:&quot;getOutcome&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autosuccess.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autosuccess.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;outcome is of type AUTOSUCCESS&quot;,&quot;fullTitle&quot;:&quot;Autofail getOutcome outcome is of type AUTOSUCCESS&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Autosuccess().getOutcome()).to.equal(src_1.TokenEffectType.AUTOSUCCESS);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c0ed0d6c-152a-45f6-becf-c41efb3f4144&quot;,&quot;parentUUID&quot;:&quot;272cffa0-a381-46ec-a8d8-6a456c39a970&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c0ed0d6c-152a-45f6-becf-c41efb3f4144&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f0974bd5-9aca-4f97-92e7-82ccf552cb91&quot;,&quot;title&quot;:&quot;isRedraw&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autosuccess.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autosuccess.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is not a redraw token&quot;,&quot;fullTitle&quot;:&quot;Autofail isRedraw is not a redraw token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Autosuccess().isRedraw()).to.equal(false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c5aef32-00d2-4343-b8b1-491c07b1c2ef&quot;,&quot;parentUUID&quot;:&quot;f0974bd5-9aca-4f97-92e7-82ccf552cb91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6c5aef32-00d2-4343-b8b1-491c07b1c2ef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e2b33853-504d-432d-8712-7467e80aeaf0&quot;,&quot;title&quot;:&quot;sameAs&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autosuccess.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autosuccess.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when compared to another Auofail&quot;,&quot;fullTitle&quot;:&quot;Autofail sameAs is true when compared to another Auofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Autosuccess(), new src_1.Autosuccess()], succ1 = _a[0], succ2 = _a[1];\nchai_1.expect(succ1.sameAs(succ2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;293b71d2-55b4-4679-8685-24959fe4e042&quot;,&quot;parentUUID&quot;:&quot;e2b33853-504d-432d-8712-7467e80aeaf0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when compared to another type of effect&quot;,&quot;fullTitle&quot;:&quot;Autofail sameAs is false when compared to another type of effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var succ = new src_1.Autosuccess();\nchai_1.expect(succ.sameAs(new src_1.Modifier(-1))).to.be.false;\nchai_1.expect(succ.sameAs(new src_1.Autofail())).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95879e89-7991-4148-be0c-b7107b747199&quot;,&quot;parentUUID&quot;:&quot;e2b33853-504d-432d-8712-7467e80aeaf0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;293b71d2-55b4-4679-8685-24959fe4e042&quot;,&quot;95879e89-7991-4148-be0c-b7107b747199&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;97ad5bd0-9d66-491b-b205-19d52e42a901&quot;,&quot;title&quot;:&quot;Modifier&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Modifier.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Modifier.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7cbc6261-d3df-4839-974c-b16b4b4963c0&quot;,&quot;title&quot;:&quot;getOutcome&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Modifier.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Modifier.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;outcome is of type MODIFIER&quot;,&quot;fullTitle&quot;:&quot;Modifier getOutcome outcome is of type MODIFIER&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Modifier(0).getOutcome()).to.equal(src_1.TokenEffectType.MODIFIER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0644fb62-c066-4e8e-89d5-3fe87361b0b0&quot;,&quot;parentUUID&quot;:&quot;7cbc6261-d3df-4839-974c-b16b4b4963c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0644fb62-c066-4e8e-89d5-3fe87361b0b0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f8916e36-0976-49cd-9320-427541f6ba00&quot;,&quot;title&quot;:&quot;isRedraw&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Modifier.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Modifier.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns true if it is a redraw token&quot;,&quot;fullTitle&quot;:&quot;Modifier isRedraw returns true if it is a redraw token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Modifier(0, true).isRedraw()).to.equal(true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7c53ed6-5db0-483f-8699-c1ff9703ac43&quot;,&quot;parentUUID&quot;:&quot;f8916e36-0976-49cd-9320-427541f6ba00&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if it is not a redraw token&quot;,&quot;fullTitle&quot;:&quot;Modifier isRedraw returns false if it is not a redraw token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Modifier(0).isRedraw()).to.equal(false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27acaa80-ad11-410f-a493-410e5896d32c&quot;,&quot;parentUUID&quot;:&quot;f8916e36-0976-49cd-9320-427541f6ba00&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c7c53ed6-5db0-483f-8699-c1ff9703ac43&quot;,&quot;27acaa80-ad11-410f-a493-410e5896d32c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3daa48a6-392e-4f01-b1c8-155bcd0854e8&quot;,&quot;title&quot;:&quot;sameAs&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Modifier.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Modifier.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when representing a modifier with same value and redraw effect&quot;,&quot;fullTitle&quot;:&quot;Modifier sameAs is true when representing a modifier with same value and redraw effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Modifier(1), new src_1.Modifier(1)], mod1 = _a[0], mod2 = _a[1];\nchai_1.expect(mod1.sameAs(mod2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6358b1f6-3d8d-43aa-8e18-05ef79ce6106&quot;,&quot;parentUUID&quot;:&quot;3daa48a6-392e-4f01-b1c8-155bcd0854e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when representing a modifier with different value&quot;,&quot;fullTitle&quot;:&quot;Modifier sameAs is false when representing a modifier with different value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Modifier(1), new src_1.Modifier(2)], mod1 = _a[0], mod2 = _a[1];\nchai_1.expect(mod1.sameAs(mod2)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5588693-1948-4de9-a000-f5003301ca8b&quot;,&quot;parentUUID&quot;:&quot;3daa48a6-392e-4f01-b1c8-155bcd0854e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when representing a modifier with same value but different redraw effect&quot;,&quot;fullTitle&quot;:&quot;Modifier sameAs is false when representing a modifier with same value but different redraw effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Modifier(1), new src_1.Modifier(1, true)], mod1 = _a[0], mod2 = _a[1];\nchai_1.expect(mod1.sameAs(mod2)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07ed37be-57ea-443b-9c01-acd825f70694&quot;,&quot;parentUUID&quot;:&quot;3daa48a6-392e-4f01-b1c8-155bcd0854e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when compared to another type of effect&quot;,&quot;fullTitle&quot;:&quot;Modifier sameAs is false when compared to another type of effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var mod1 = new src_1.Modifier(1);\nchai_1.expect(mod1.sameAs(new src_1.Autofail())).to.be.false;\nchai_1.expect(mod1.sameAs(new src_1.Autosuccess())).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8c48f90-c034-4eb4-bc05-9e1442316be5&quot;,&quot;parentUUID&quot;:&quot;3daa48a6-392e-4f01-b1c8-155bcd0854e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6358b1f6-3d8d-43aa-8e18-05ef79ce6106&quot;,&quot;b5588693-1948-4de9-a000-f5003301ca8b&quot;,&quot;07ed37be-57ea-443b-9c01-acd825f70694&quot;,&quot;f8c48f90-c034-4eb4-bc05-9e1442316be5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;98256dd4-4a11-45c6-9ac0-360bbfefd06a&quot;,&quot;title&quot;:&quot;TokenEffects&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;can be created from mapping&quot;,&quot;fullTitle&quot;:&quot;TokenEffects can be created from mapping&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nchai_1.expect(effects.getEffect(src_1.Token.ELDER_SIGN)).to.exist;\nchai_1.expect(effects.getEffect(src_1.Token.AUTOFAIL)).to.not.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15de2f18-fa81-4547-b17f-e16489aaa576&quot;,&quot;parentUUID&quot;:&quot;98256dd4-4a11-45c6-9ac0-360bbfefd06a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is not affected by changes to provided mapping&quot;,&quot;fullTitle&quot;:&quot;TokenEffects is not affected by changes to provided mapping&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var mapping = [\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n];\nvar effects = new src_1.TokenEffects(mapping);\nchai_1.expect(effects.getEffect(src_1.Token.AUTOFAIL)).to.not.exist;\nmapping.push([src_1.Token.AUTOFAIL, new src_1.Autofail()]);\nchai_1.expect(effects.getEffect(src_1.Token.AUTOFAIL)).to.not.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d75821e6-054f-41ec-b323-2a7ccea7e0a4&quot;,&quot;parentUUID&quot;:&quot;98256dd4-4a11-45c6-9ac0-360bbfefd06a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can be created empty&quot;,&quot;fullTitle&quot;:&quot;TokenEffects can be created empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects();\nchai_1.expect(effects.getEffect(src_1.Token.ELDER_SIGN)).to.not.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a14d3dce-dca7-496f-a5ef-e50248f326fa&quot;,&quot;parentUUID&quot;:&quot;98256dd4-4a11-45c6-9ac0-360bbfefd06a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f77b1956-571b-4dd1-8786-b866ed651ae7&quot;,&quot;title&quot;:&quot;setEffect&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new TokenEffects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffect should return a new TokenEffects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar modifiedEffects = effects.setEffect(src_1.Token.CULTIST, new src_1.Autofail());\nchai_1.expect(modifiedEffects).to.not.equal(effects);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67405c12-568e-459f-92c1-b5c68130567f&quot;,&quot;parentUUID&quot;:&quot;f77b1956-571b-4dd1-8786-b866ed651ae7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should set the new effect&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffect should set the new effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar modifiedEffects = effects.setEffect(src_1.Token.CULTIST, new src_1.Autofail());\nchai_1.expect(modifiedEffects.getEffect(src_1.Token.CULTIST).sameAs(new src_1.Autofail())).to\n    .be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3061e7e3-d362-4009-810a-96da577d98f1&quot;,&quot;parentUUID&quot;:&quot;f77b1956-571b-4dd1-8786-b866ed651ae7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leave the original effects untouched&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffect should leave the original effects untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\neffects.setEffect(src_1.Token.CULTIST, new src_1.Autofail());\nchai_1.expect(effects.getEffect(src_1.Token.CULTIST).sameAs(new src_1.Modifier(-2))).to.be\n    .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9d557ed-23e2-401a-b8db-f716fc78c738&quot;,&quot;parentUUID&quot;:&quot;f77b1956-571b-4dd1-8786-b866ed651ae7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;67405c12-568e-459f-92c1-b5c68130567f&quot;,&quot;3061e7e3-d362-4009-810a-96da577d98f1&quot;,&quot;a9d557ed-23e2-401a-b8db-f716fc78c738&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b4d81152-e05c-47df-bead-8228f167303e&quot;,&quot;title&quot;:&quot;setEffects&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new TokenEffects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffects should return a new TokenEffects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar modifiedEffects = effects.setEffects([\n    [src_1.Token.AUTOFAIL, new src_1.Autofail()]\n]);\nchai_1.expect(modifiedEffects).to.not.equal(effects);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23d2b847-eaeb-46d5-8d9d-de9de0e8648c&quot;,&quot;parentUUID&quot;:&quot;b4d81152-e05c-47df-bead-8228f167303e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should set the new effects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffects should set the new effects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar modifiedEffects = effects.setEffects([\n    [src_1.Token.TABLET, new src_1.Modifier(-3)],\n    [src_1.Token.ELDER_THING, new src_1.Modifier(-4)]\n]);\nchai_1.expect(modifiedEffects.getEffect(src_1.Token.TABLET).sameAs(new src_1.Modifier(-3)))\n    .to.be.true;\nchai_1.expect(modifiedEffects.getEffect(src_1.Token.ELDER_THING).sameAs(new src_1.Modifier(-4))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66e75668-bebd-4568-b63b-4ac5ecac0767&quot;,&quot;parentUUID&quot;:&quot;b4d81152-e05c-47df-bead-8228f167303e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leave the original effects untouched&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffects should leave the original effects untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\neffects.setEffects([\n    [src_1.Token.CULTIST, new src_1.Modifier(-3)],\n    [src_1.Token.TABLET, new src_1.Modifier(-4)]\n]);\nchai_1.expect(effects.getEffect(src_1.Token.CULTIST).sameAs(new src_1.Modifier(-2))).to.be\n    .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8604d42a-14dd-4751-8dc6-3cfe759b7ecc&quot;,&quot;parentUUID&quot;:&quot;b4d81152-e05c-47df-bead-8228f167303e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;23d2b847-eaeb-46d5-8d9d-de9de0e8648c&quot;,&quot;66e75668-bebd-4568-b63b-4ac5ecac0767&quot;,&quot;8604d42a-14dd-4751-8dc6-3cfe759b7ecc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0a5958f9-cf92-406c-8071-6682824f4378&quot;,&quot;title&quot;:&quot;merge&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new TokenEffects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects merge should return a new TokenEffects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects1 = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar effects2 = new src_1.TokenEffects([\n    [src_1.Token.TABLET, new src_1.Modifier(-3)],\n    [src_1.Token.ELDER_THING, new src_1.Modifier(-4)]\n]);\nvar merged = effects1.merge(effects2);\nchai_1.expect(merged).to.not.equal(effects1);\nchai_1.expect(merged).to.not.equal(effects2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0e145d0-dc07-4e7b-8e5e-baff330feeab&quot;,&quot;parentUUID&quot;:&quot;0a5958f9-cf92-406c-8071-6682824f4378&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should merge effects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects merge should merge effects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects1 = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar effects2 = new src_1.TokenEffects([\n    [src_1.Token.CULTIST, new src_1.Modifier(-3)],\n    [src_1.Token.TABLET, new src_1.Modifier(-4)]\n]);\nvar merged = effects1.merge(effects2);\nchai_1.expect(merged.getEffect(src_1.Token.ELDER_SIGN).sameAs(new src_1.Modifier(1))).to.be\n    .true;\nchai_1.expect(merged.getEffect(src_1.Token.CULTIST).sameAs(new src_1.Modifier(-3))).to.be\n    .true;\nchai_1.expect(merged.getEffect(src_1.Token.TABLET).sameAs(new src_1.Modifier(-4))).to.be\n    .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6da431ae-c9d9-4f74-a2ee-df4f6e54b348&quot;,&quot;parentUUID&quot;:&quot;0a5958f9-cf92-406c-8071-6682824f4378&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e0e145d0-dc07-4e7b-8e5e-baff330feeab&quot;,&quot;6da431ae-c9d9-4f74-a2ee-df4f6e54b348&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;65b44e83-e176-4722-8f56-cba842908f16&quot;,&quot;title&quot;:&quot;isTokenAutoSuccess&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when token is autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isTokenAutoSuccess is true when token is autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Autosuccess()]]);\nchai_1.expect(effects.isTokenAutoSuccess(src_1.Token.ELDER_SIGN)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6810fa8c-5084-441b-b488-71700fe3d31f&quot;,&quot;parentUUID&quot;:&quot;65b44e83-e176-4722-8f56-cba842908f16&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when token is not autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isTokenAutoSuccess is false when token is not autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Modifier(1)]]);\nchai_1.expect(effects.isTokenAutoSuccess(src_1.Token.ELDER_SIGN)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39ce2dae-31dc-4598-b41e-3cdc83a77af6&quot;,&quot;parentUUID&quot;:&quot;65b44e83-e176-4722-8f56-cba842908f16&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6810fa8c-5084-441b-b488-71700fe3d31f&quot;,&quot;39ce2dae-31dc-4598-b41e-3cdc83a77af6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ee7e72c9-77cd-4fc9-b6f3-141104b96933&quot;,&quot;title&quot;:&quot;isTokenAutoFail&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when token is autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isTokenAutoFail is true when token is autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.AUTOFAIL, new src_1.Autofail()]]);\nchai_1.expect(effects.isTokenAutoFail(src_1.Token.AUTOFAIL)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4853e52a-413d-4229-82f1-0b3f662361fe&quot;,&quot;parentUUID&quot;:&quot;ee7e72c9-77cd-4fc9-b6f3-141104b96933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when token is not autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isTokenAutoFail is false when token is not autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Modifier(1)]]);\nchai_1.expect(effects.isTokenAutoFail(src_1.Token.ELDER_SIGN)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;baa671d7-aacc-4ed7-a857-4ccc3d6d1745&quot;,&quot;parentUUID&quot;:&quot;ee7e72c9-77cd-4fc9-b6f3-141104b96933&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4853e52a-413d-4229-82f1-0b3f662361fe&quot;,&quot;baa671d7-aacc-4ed7-a857-4ccc3d6d1745&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ac47bbe6-218b-4c28-a9a2-0926b3523bd8&quot;,&quot;title&quot;:&quot;getTokenModifier&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns the token modifier if the token is a modifier token&quot;,&quot;fullTitle&quot;:&quot;TokenEffects getTokenModifier returns the token modifier if the token is a modifier token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Modifier(2)]]);\nchai_1.expect(effects.getTokenModifier(src_1.Token.ELDER_SIGN)).to.equal(2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff93c59e-7dc8-4ab4-ac5d-65d9ed5613a5&quot;,&quot;parentUUID&quot;:&quot;ac47bbe6-218b-4c28-a9a2-0926b3523bd8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns an error if the token effect is not a modifier token&quot;,&quot;fullTitle&quot;:&quot;TokenEffects getTokenModifier returns an error if the token effect is not a modifier token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Autosuccess()]]);\nchai_1.expect(function () {\n    effects.getTokenModifier(src_1.Token.ELDER_SIGN);\n}).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e97a56f-43bc-483a-b51a-9119a5e0244f&quot;,&quot;parentUUID&quot;:&quot;ac47bbe6-218b-4c28-a9a2-0926b3523bd8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ff93c59e-7dc8-4ab4-ac5d-65d9ed5613a5&quot;,&quot;5e97a56f-43bc-483a-b51a-9119a5e0244f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6468264d-4da3-42d1-9c16-797499aa8e65&quot;,&quot;title&quot;:&quot;sortByBestOutcomeDesc&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Autosuccess comes first&quot;,&quot;fullTitle&quot;:&quot;TokenEffects sortByBestOutcomeDesc Autosuccess comes first&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Autosuccess()],\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)]\n]);\nvar tokens = [\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.ELDER_SIGN,\n    src_1.Token.PLUS_ONE\n];\nchai_1.expect(effects.sortByBestOutcomeDesc(tokens)[0]).to.equal(src_1.Token.ELDER_SIGN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1807bb43-3932-4a6c-a002-fe14bb7328ff&quot;,&quot;parentUUID&quot;:&quot;6468264d-4da3-42d1-9c16-797499aa8e65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Autofail comes last&quot;,&quot;fullTitle&quot;:&quot;TokenEffects sortByBestOutcomeDesc Autofail comes last&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.AUTOFAIL, new src_1.Autofail()]\n]);\nvar tokens = [\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.AUTOFAIL,\n    src_1.Token.PLUS_ONE\n];\nchai_1.expect(effects.sortByBestOutcomeDesc(tokens)[tokens.length - 1]).to.equal(src_1.Token.AUTOFAIL);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29c354f7-8336-4286-a0e5-3bbdf72db0e1&quot;,&quot;parentUUID&quot;:&quot;6468264d-4da3-42d1-9c16-797499aa8e65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Modifier tokens are sorted by their modifier value from highest to lowest&quot;,&quot;fullTitle&quot;:&quot;TokenEffects sortByBestOutcomeDesc Modifier tokens are sorted by their modifier value from highest to lowest&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.MINUS_FIVE, new src_1.Modifier(-5)]\n]);\nvar tokens = [\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_FIVE,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_TWO\n];\nvar sorted = [\n    src_1.Token.PLUS_ONE,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO,\n    src_1.Token.MINUS_FIVE\n];\nchai_1.expect(effects.sortByBestOutcomeDesc(tokens)).to.deep.equal(sorted);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d5cdd3e-4c2c-4a14-9c78-b31af9d56985&quot;,&quot;parentUUID&quot;:&quot;6468264d-4da3-42d1-9c16-797499aa8e65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1807bb43-3932-4a6c-a002-fe14bb7328ff&quot;,&quot;29c354f7-8336-4286-a0e5-3bbdf72db0e1&quot;,&quot;3d5cdd3e-4c2c-4a14-9c78-b31af9d56985&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;91b09f31-a274-4cdf-80d5-8358168ad98a&quot;,&quot;title&quot;:&quot;isSuccess&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sharedEffects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Autosuccess()],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.AUTOFAIL, new src_1.Autofail()]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c3359bc-0a75-4f39-98c7-90af8f826edd&quot;,&quot;parentUUID&quot;:&quot;91b09f31-a274-4cdf-80d5-8358168ad98a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a71d3f82-5f54-4a66-bafa-9b0d544f96f4&quot;,&quot;title&quot;:&quot;with a single token&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns true whatever the difficulty if the token is an autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with a single token returns true whatever the difficulty if the token is an autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN], 3)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN], -3)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN], -20)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b6cecf2-24e5-4f04-8618-487a8764e0a2&quot;,&quot;parentUUID&quot;:&quot;a71d3f82-5f54-4a66-bafa-9b0d544f96f4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false whatever the difficulty if the token is an autofail&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with a single token returns false whatever the difficulty if the token is an autofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.AUTOFAIL], 3)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.AUTOFAIL], -3)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.AUTOFAIL], -20)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bf1f15b-d898-4a7d-a931-02855e54367f&quot;,&quot;parentUUID&quot;:&quot;a71d3f82-5f54-4a66-bafa-9b0d544f96f4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if the sum of (skill - difficulty) and modifier value is greater than or equal to 0&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with a single token returns true if the sum of (skill - difficulty) and modifier value is greater than or equal to 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE], 3)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE], 1)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_TWO], 2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23d1fedf-eda3-4120-8c76-e7e6ab94fcdf&quot;,&quot;parentUUID&quot;:&quot;a71d3f82-5f54-4a66-bafa-9b0d544f96f4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if the sum of (skill - difficulty) and modifier value is lesser than 0&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with a single token returns false if the sum of (skill - difficulty) and modifier value is lesser than 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE], -3)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE], 0)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_TWO], 1)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5493dda3-45c4-49d2-aaac-b1f9b71a7129&quot;,&quot;parentUUID&quot;:&quot;a71d3f82-5f54-4a66-bafa-9b0d544f96f4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1b6cecf2-24e5-4f04-8618-487a8764e0a2&quot;,&quot;7bf1f15b-d898-4a7d-a931-02855e54367f&quot;,&quot;23d1fedf-eda3-4120-8c76-e7e6ab94fcdf&quot;,&quot;5493dda3-45c4-49d2-aaac-b1f9b71a7129&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;eb9840bc-4d67-428c-956c-f00668dd78da&quot;,&quot;title&quot;:&quot;with multiple tokens&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns true when 1 of the tokens is an autosuccess and there are no autofail&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns true when 1 of the tokens is an autosuccess and there are no autofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_TWO], -8))\n    .to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e44213c-8845-4714-889b-618c79d1da0c&quot;,&quot;parentUUID&quot;:&quot;eb9840bc-4d67-428c-956c-f00668dd78da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true when 1 of the tokens is an autofail&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns true when 1 of the tokens is an autofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.AUTOFAIL, src_1.Token.MINUS_TWO], 10))\n    .to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;637b29bd-d0c9-4c33-a3d3-4381bf9222ee&quot;,&quot;parentUUID&quot;:&quot;eb9840bc-4d67-428c-956c-f00668dd78da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false when there are both an autosuccess and an autofail among the tokens&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns false when there are both an autosuccess and an autofail among the tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_TWO, src_1.Token.AUTOFAIL], 10)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e65dd1b0-3c1d-498b-9167-f7acab5b9b64&quot;,&quot;parentUUID&quot;:&quot;eb9840bc-4d67-428c-956c-f00668dd78da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if the sum of (skill - difficulty) and all modifier values is lesser than 0&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns true if the sum of (skill - difficulty) and all modifier values is lesser than 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], 6)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO, src_1.Token.MINUS_ONE], 4)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_TWO, src_1.Token.MINUS_TWO, src_1.Token.MINUS_TWO], 6)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bde24e82-3e61-4509-a88c-89142dab031e&quot;,&quot;parentUUID&quot;:&quot;eb9840bc-4d67-428c-956c-f00668dd78da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if the sum of (skill - difficulty) and all modifier values is lesser than 0&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns false if the sum of (skill - difficulty) and all modifier values is lesser than 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], 0)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], 2)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], 3)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25b4e0f4-50a2-478e-b747-02af46da1e47&quot;,&quot;parentUUID&quot;:&quot;eb9840bc-4d67-428c-956c-f00668dd78da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9e44213c-8845-4714-889b-618c79d1da0c&quot;,&quot;637b29bd-d0c9-4c33-a3d3-4381bf9222ee&quot;,&quot;e65dd1b0-3c1d-498b-9167-f7acab5b9b64&quot;,&quot;bde24e82-3e61-4509-a88c-89142dab031e&quot;,&quot;25b4e0f4-50a2-478e-b747-02af46da1e47&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0c3c3925-1185-42a5-bb64-745cf0fe7dfb&quot;,&quot;title&quot;:&quot;separateRedrawTokens&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;separates redraw tokens from non-redraw tokens&quot;,&quot;fullTitle&quot;:&quot;TokenEffects separateRedrawTokens separates redraw tokens from non-redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.ZERO, new src_1.Modifier(0)],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)],\n    [src_1.Token.CURSE, new src_1.Modifier(-2, true)]\n]);\nvar _a = effects.separateRedrawTokens([\n    src_1.Token.ZERO,\n    src_1.Token.BLESS,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.CURSE,\n    src_1.Token.ZERO\n]), nonRedrawTokens = _a.nonRedrawTokens, redrawTokens = _a.redrawTokens;\nchai_1.expect(nonRedrawTokens).to.deep.equal([\n    src_1.Token.ZERO,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.ZERO\n]);\nchai_1.expect(redrawTokens).to.deep.equal([src_1.Token.BLESS, src_1.Token.CURSE]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0537a55d-b514-469e-a9f7-9350f83ae283&quot;,&quot;parentUUID&quot;:&quot;0c3c3925-1185-42a5-bb64-745cf0fe7dfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;separates redraw tokens from non-redraw tokens when there are no redraw tokens&quot;,&quot;fullTitle&quot;:&quot;TokenEffects separateRedrawTokens separates redraw tokens from non-redraw tokens when there are no redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.ZERO, new src_1.Modifier(0)],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)],\n    [src_1.Token.CURSE, new src_1.Modifier(-2, true)]\n]);\nvar _a = effects.separateRedrawTokens([\n    src_1.Token.ZERO,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.ZERO\n]), nonRedrawTokens = _a.nonRedrawTokens, redrawTokens = _a.redrawTokens;\nchai_1.expect(nonRedrawTokens).to.deep.equal([\n    src_1.Token.ZERO,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.ZERO\n]);\nchai_1.expect(redrawTokens).to.deep.equal([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fbc3153-7909-41af-8671-83a8ac384231&quot;,&quot;parentUUID&quot;:&quot;0c3c3925-1185-42a5-bb64-745cf0fe7dfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;separates redraw tokens from non-redraw tokens when there are no non-redraw tokens&quot;,&quot;fullTitle&quot;:&quot;TokenEffects separateRedrawTokens separates redraw tokens from non-redraw tokens when there are no non-redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.ZERO, new src_1.Modifier(0)],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)],\n    [src_1.Token.CURSE, new src_1.Modifier(-2, true)]\n]);\nvar _a = effects.separateRedrawTokens([\n    src_1.Token.BLESS,\n    src_1.Token.CURSE\n]), nonRedrawTokens = _a.nonRedrawTokens, redrawTokens = _a.redrawTokens;\nchai_1.expect(nonRedrawTokens).to.deep.equal([]);\nchai_1.expect(redrawTokens).to.deep.equal([src_1.Token.BLESS, src_1.Token.CURSE]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d48afb5-b7bc-4e39-a69d-3b854a626ed3&quot;,&quot;parentUUID&quot;:&quot;0c3c3925-1185-42a5-bb64-745cf0fe7dfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;leaves the original token array untouched&quot;,&quot;fullTitle&quot;:&quot;TokenEffects separateRedrawTokens leaves the original token array untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)]\n]);\nvar tokens = [src_1.Token.BLESS, src_1.Token.PLUS_ONE];\neffects.separateRedrawTokens(tokens);\nchai_1.expect(tokens).to.deep.equal([src_1.Token.BLESS, src_1.Token.PLUS_ONE]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1f1879e-7a89-4e8b-92e9-23821cb338df&quot;,&quot;parentUUID&quot;:&quot;0c3c3925-1185-42a5-bb64-745cf0fe7dfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0537a55d-b514-469e-a9f7-9350f83ae283&quot;,&quot;1fbc3153-7909-41af-8671-83a8ac384231&quot;,&quot;9d48afb5-b7bc-4e39-a69d-3b854a626ed3&quot;,&quot;a1f1879e-7a89-4e8b-92e9-23821cb338df&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;15de2f18-fa81-4547-b17f-e16489aaa576&quot;,&quot;d75821e6-054f-41ec-b323-2a7ccea7e0a4&quot;,&quot;a14d3dce-dca7-496f-a5ef-e50248f326fa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fae7dacd-7be7-4f65-8ab7-7aad829a0d27&quot;,&quot;title&quot;:&quot;utils&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;87fa9027-6d45-4d77-900b-87c4f5f212d0&quot;,&quot;title&quot;:&quot;removeFirst&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove the first occurrence&quot;,&quot;fullTitle&quot;:&quot;utils removeFirst should remove the first occurrence&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar removed = utils.removeFirst(arr, 2);\nchai_1.expect(removed).to.deep.equal([1, 3]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8380c289-b79d-4d36-a831-5e66b3946c57&quot;,&quot;parentUUID&quot;:&quot;87fa9027-6d45-4d77-900b-87c4f5f212d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not remove other occurrences&quot;,&quot;fullTitle&quot;:&quot;utils removeFirst should not remove other occurrences&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 2, 2, 3];\nvar removed = utils.removeFirst(arr, 2);\nchai_1.expect(removed).to.deep.equal([1, 2, 2, 3]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23b2bc07-9f4f-4484-a216-8bce5ee9ec7a&quot;,&quot;parentUUID&quot;:&quot;87fa9027-6d45-4d77-900b-87c4f5f212d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not modify the original array&quot;,&quot;fullTitle&quot;:&quot;utils removeFirst should not modify the original array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nutils.removeFirst(arr, 2);\nchai_1.expect(arr).to.deep.equal([1, 2, 3]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9647552e-3c7c-4da8-ad2e-48b99a511884&quot;,&quot;parentUUID&quot;:&quot;87fa9027-6d45-4d77-900b-87c4f5f212d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should do nothing if the array does not contain the element&quot;,&quot;fullTitle&quot;:&quot;utils removeFirst should do nothing if the array does not contain the element&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar removed = utils.removeFirst(arr, 4);\nchai_1.expect(arr).to.deep.equal([1, 2, 3]);\nchai_1.expect(removed).to.deep.equal([1, 2, 3]);\nchai_1.expect(arr).to.not.equal(removed);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99376649-49ad-4f4c-adba-48cff92d4f99&quot;,&quot;parentUUID&quot;:&quot;87fa9027-6d45-4d77-900b-87c4f5f212d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8380c289-b79d-4d36-a831-5e66b3946c57&quot;,&quot;23b2bc07-9f4f-4484-a216-8bce5ee9ec7a&quot;,&quot;9647552e-3c7c-4da8-ad2e-48b99a511884&quot;,&quot;99376649-49ad-4f4c-adba-48cff92d4f99&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;037ec1c1-e923-47b4-b660-522ba6ccc5f7&quot;,&quot;title&quot;:&quot;flatten&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;flattens an array&quot;,&quot;fullTitle&quot;:&quot;utils flatten flattens an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(utils.flatten([[], [1], [2]])).to.deep.equal([1, 2]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d2160ea-e33b-4d4b-8a03-d0d845d3b3f3&quot;,&quot;parentUUID&quot;:&quot;037ec1c1-e923-47b4-b660-522ba6ccc5f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8d2160ea-e33b-4d4b-8a03-d0d845d3b3f3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4494713f-b456-473f-beca-f6c4d039df71&quot;,&quot;title&quot;:&quot;combinations&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an empty array if K &gt; N&quot;,&quot;fullTitle&quot;:&quot;utils combinations should return an empty array if K &gt; N&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar comb = utils.combinations(4, arr);\nchai_1.expect(comb).to.deep.equals([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f25a1cfe-be9f-4e61-951c-53c4f2bfad5d&quot;,&quot;parentUUID&quot;:&quot;4494713f-b456-473f-beca-f6c4d039df71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return [[]] if K &lt;= 0&quot;,&quot;fullTitle&quot;:&quot;utils combinations should return [[]] if K &lt;= 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nchai_1.expect(utils.combinations(0, arr)).to.deep.equals([[]]);\nchai_1.expect(utils.combinations(-5, arr)).to.deep.equals([[]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a03c04c6-284b-4e86-b4bc-ea9ca2119d3c&quot;,&quot;parentUUID&quot;:&quot;4494713f-b456-473f-beca-f6c4d039df71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the combinations&quot;,&quot;fullTitle&quot;:&quot;utils combinations should return the combinations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar expected = [\n    [1, 2],\n    [1, 3],\n    [2, 3]\n];\nchai_1.expect(utils.combinations(2, arr)).to.deep.equals(expected);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c0d86f5-8f7f-476d-9b7e-d9e1c64994ef&quot;,&quot;parentUUID&quot;:&quot;4494713f-b456-473f-beca-f6c4d039df71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f25a1cfe-be9f-4e61-951c-53c4f2bfad5d&quot;,&quot;a03c04c6-284b-4e86-b4bc-ea9ca2119d3c&quot;,&quot;4c0d86f5-8f7f-476d-9b7e-d9e1c64994ef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cb38717e-27e3-4408-b17b-0f9d954b49d9&quot;,&quot;title&quot;:&quot;allCombinations&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return [[]] if provided an empty array of elements&quot;,&quot;fullTitle&quot;:&quot;utils allCombinations should return [[]] if provided an empty array of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var allComb = utils.allCombinations([]);\nchai_1.expect(allComb).to.deep.equals([[]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e09ab388-a1ab-4a97-85e7-fed91130a28c&quot;,&quot;parentUUID&quot;:&quot;cb38717e-27e3-4408-b17b-0f9d954b49d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return all combinations of provided elements including empty and full sets&quot;,&quot;fullTitle&quot;:&quot;utils allCombinations should return all combinations of provided elements including empty and full sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar expected = [[], [1], [2], [3], [1, 2], [1, 3], [2, 3], [1, 2, 3]];\nvar allComb = utils.allCombinations(arr);\nchai_1.expect(allComb).to.deep.equals(expected);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b6b000f-1db5-4c19-bfe9-df9efd10e41e&quot;,&quot;parentUUID&quot;:&quot;cb38717e-27e3-4408-b17b-0f9d954b49d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e09ab388-a1ab-4a97-85e7-fed91130a28c&quot;,&quot;4b6b000f-1db5-4c19-bfe9-df9efd10e41e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6426ec7a-ff2e-4daa-85e1-e0fd43fe5a86&quot;,&quot;title&quot;:&quot;cartesianProduct&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should compute cartesian product of 2 arrays&quot;,&quot;fullTitle&quot;:&quot;utils cartesianProduct should compute cartesian product of 2 arrays&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr1 = [1, 2];\nvar arr2 = [3, 4];\nvar expected = [\n    [1, 3],\n    [1, 4],\n    [2, 3],\n    [2, 4]\n];\nchai_1.expect(utils.cartesianProduct(arr1, arr2)).to.deep.equals(expected);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c22b63f-c40f-4e11-bd61-77aed72b3db0&quot;,&quot;parentUUID&quot;:&quot;6426ec7a-ff2e-4daa-85e1-e0fd43fe5a86&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5c22b63f-c40f-4e11-bd61-77aed72b3db0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fbd04e5a-5ebd-4c71-9637-bb7444afc850&quot;,&quot;title&quot;:&quot;factorial&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns 1 for 0!&quot;,&quot;fullTitle&quot;:&quot;utils factorial returns 1 for 0!&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(utils.factorial(0)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29a6c5ad-8dff-4ca0-a979-b19c01552b26&quot;,&quot;parentUUID&quot;:&quot;fbd04e5a-5ebd-4c71-9637-bb7444afc850&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns 6 for 3!&quot;,&quot;fullTitle&quot;:&quot;utils factorial returns 6 for 3!&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(utils.factorial(3)).to.equal(6);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d047cbf-c88f-4d8b-b99d-745246ed2e79&quot;,&quot;parentUUID&quot;:&quot;fbd04e5a-5ebd-4c71-9637-bb7444afc850&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;29a6c5ad-8dff-4ca0-a979-b19c01552b26&quot;,&quot;5d047cbf-c88f-4d8b-b99d-745246ed2e79&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.1.0&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;reports/tests&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;4.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;reports/tests&quot;,&quot;reportTitle&quot;:&quot;arkham-odds&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;reports/tests/assets&quot;,&quot;jsonFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/reports/tests/index.json&quot;,&quot;htmlFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/reports/tests/index.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>