<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:52,&quot;tests&quot;:135,&quot;passes&quot;:135,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-05-25T11:50:14.839Z&quot;,&quot;end&quot;:&quot;2020-05-25T11:50:14.903Z&quot;,&quot;duration&quot;:64,&quot;testsRegistered&quot;:135,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;96b1d639-eb9e-4a2b-a41a-ea16514cb69c&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;94c5ad4f-071f-48e6-89b3-7d82847a72c9&quot;,&quot;title&quot;:&quot;Bag&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/bag/Bag.spec.ts&quot;,&quot;file&quot;:&quot;/spec/bag/Bag.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not be affected by changes to the passed array of tokens&quot;,&quot;fullTitle&quot;:&quot;Bag should not be affected by changes to the passed array of tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var someTokens = [tokens_1.Token.ZERO, tokens_1.Token.MINUS_ONE];\nvar bag = new bag_1.Bag(someTokens);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ZERO, tokens_1.Token.MINUS_ONE]);\nsomeTokens.push(tokens_1.Token.AUTOFAIL);\nchai_1.expect(someTokens).to.deep.equal([\n    tokens_1.Token.ZERO,\n    tokens_1.Token.MINUS_ONE,\n    tokens_1.Token.AUTOFAIL\n]);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ZERO, tokens_1.Token.MINUS_ONE]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6471e14-71a6-4841-8a94-3c8f5f52da6b&quot;,&quot;parentUUID&quot;:&quot;94c5ad4f-071f-48e6-89b3-7d82847a72c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;733460f5-9827-4f20-a3e5-9c7dc43d413b&quot;,&quot;title&quot;:&quot;getTokens&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/bag/Bag.spec.ts&quot;,&quot;file&quot;:&quot;/spec/bag/Bag.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;modifications to the returned array should not affect the Bag&quot;,&quot;fullTitle&quot;:&quot;Bag getTokens modifications to the returned array should not affect the Bag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);\nvar tokens = bag.getTokens();\ntokens.push(tokens_1.Token.TABLET);\nchai_1.expect(tokens).to.deep.equal([\n    tokens_1.Token.ELDER_SIGN,\n    tokens_1.Token.AUTOFAIL,\n    tokens_1.Token.TABLET\n]);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36881c79-9455-449d-bbf4-07a3dd31c337&quot;,&quot;parentUUID&quot;:&quot;733460f5-9827-4f20-a3e5-9c7dc43d413b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;36881c79-9455-449d-bbf4-07a3dd31c337&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d5a5c36b-c103-46a9-90f4-40aaddd2543a&quot;,&quot;title&quot;:&quot;addTokens&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/bag/Bag.spec.ts&quot;,&quot;file&quot;:&quot;/spec/bag/Bag.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new Bag&quot;,&quot;fullTitle&quot;:&quot;Bag addTokens should return a new Bag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN]);\nvar added = bag.addTokens([tokens_1.Token.AUTOFAIL]);\nchai_1.expect(added).not.to.equal(bag);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;507d0172-a68a-43ae-ad52-8535f3f1b66d&quot;,&quot;parentUUID&quot;:&quot;d5a5c36b-c103-46a9-90f4-40aaddd2543a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add the tokens&quot;,&quot;fullTitle&quot;:&quot;Bag addTokens should add the tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN]);\nvar added = bag.addTokens([tokens_1.Token.AUTOFAIL, tokens_1.Token.TABLET]);\nchai_1.expect(added.getTokens()).to.deep.equal([\n    tokens_1.Token.ELDER_SIGN,\n    tokens_1.Token.AUTOFAIL,\n    tokens_1.Token.TABLET\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc723fd3-9487-4afd-98d4-3149f3f9859a&quot;,&quot;parentUUID&quot;:&quot;d5a5c36b-c103-46a9-90f4-40aaddd2543a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leave the original Bag untouched&quot;,&quot;fullTitle&quot;:&quot;Bag addTokens should leave the original Bag untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN]);\nbag.addTokens([tokens_1.Token.AUTOFAIL]);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ELDER_SIGN]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91bb1946-9f8c-41b3-b83a-7840fd586b8c&quot;,&quot;parentUUID&quot;:&quot;d5a5c36b-c103-46a9-90f4-40aaddd2543a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;507d0172-a68a-43ae-ad52-8535f3f1b66d&quot;,&quot;fc723fd3-9487-4afd-98d4-3149f3f9859a&quot;,&quot;91bb1946-9f8c-41b3-b83a-7840fd586b8c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e2dd70c9-d228-4705-9ad7-b1fda5f52012&quot;,&quot;title&quot;:&quot;removeToken&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/bag/Bag.spec.ts&quot;,&quot;file&quot;:&quot;/spec/bag/Bag.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new Bag&quot;,&quot;fullTitle&quot;:&quot;Bag removeToken should return a new Bag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);\nvar removed = bag.removeToken(tokens_1.Token.AUTOFAIL);\nchai_1.expect(removed).not.to.equal(bag);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e42b4af-b929-4db7-989a-38502639350a&quot;,&quot;parentUUID&quot;:&quot;e2dd70c9-d228-4705-9ad7-b1fda5f52012&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove the token&quot;,&quot;fullTitle&quot;:&quot;Bag removeToken should remove the token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);\nvar removed = bag.removeToken(tokens_1.Token.AUTOFAIL);\nchai_1.expect(removed.getTokens()).to.deep.equal([tokens_1.Token.ELDER_SIGN]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e180a27b-a6ea-45d6-b7ea-70a35532dc56&quot;,&quot;parentUUID&quot;:&quot;e2dd70c9-d228-4705-9ad7-b1fda5f52012&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should the original Bag untouched&quot;,&quot;fullTitle&quot;:&quot;Bag removeToken should the original Bag untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new bag_1.Bag([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);\nbag.removeToken(tokens_1.Token.AUTOFAIL);\nchai_1.expect(bag.getTokens()).to.deep.equal([tokens_1.Token.ELDER_SIGN, tokens_1.Token.AUTOFAIL]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42a8d895-c398-4a0a-8bc4-3013bde0bd4e&quot;,&quot;parentUUID&quot;:&quot;e2dd70c9-d228-4705-9ad7-b1fda5f52012&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4e42b4af-b929-4db7-989a-38502639350a&quot;,&quot;e180a27b-a6ea-45d6-b7ea-70a35532dc56&quot;,&quot;42a8d895-c398-4a0a-8bc4-3013bde0bd4e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;f6471e14-71a6-4841-8a94-3c8f5f52da6b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a3a3a359-5776-4a49-9e83-7a0a697c492b&quot;,&quot;title&quot;:&quot;cards&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;cards \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.ZERO, new src_1.Modifier(0)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.MINUS_FOUR, new src_1.Modifier(-4)],\n    [src_1.Token.AUTOFAIL, new src_1.Autofail()],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)],\n    [src_1.Token.CURSE, new src_1.Modifier(-2, true)]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;774da517-efdb-4b44-9290-f00650e02c73&quot;,&quot;parentUUID&quot;:&quot;a3a3a359-5776-4a49-9e83-7a0a697c492b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;94fb9604-6932-4a33-adb8-f8ffe8717eb1&quot;,&quot;title&quot;:&quot;success&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards success returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.success(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89de98e3-5752-414e-a7a7-95e2ed9d5e62&quot;,&quot;parentUUID&quot;:&quot;94fb9604-6932-4a33-adb8-f8ffe8717eb1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returned function determine success resolving all pulled tokens&quot;,&quot;fullTitle&quot;:&quot;cards success returned function determine success resolving all pulled tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.success(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be\n    .false;\nchai_1.expect(src_1.success(3)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be\n    .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;852ed0a7-11cc-4aed-957a-7044446a9d15&quot;,&quot;parentUUID&quot;:&quot;94fb9604-6932-4a33-adb8-f8ffe8717eb1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;89de98e3-5752-414e-a7a7-95e2ed9d5e62&quot;,&quot;852ed0a7-11cc-4aed-957a-7044446a9d15&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c3498f42-6ee2-4028-9b35-453b6d22a8b7&quot;,&quot;title&quot;:&quot;successChoosingBest&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards successChoosingBest returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.successChoosingBest(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb08a4e3-474e-42c8-b167-b067bf816ae2&quot;,&quot;parentUUID&quot;:&quot;c3498f42-6ee2-4028-9b35-453b6d22a8b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty when applying the best token&quot;,&quot;fullTitle&quot;:&quot;cards successChoosingBest returns true if greater than difficulty when applying the best token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.successChoosingBest(1)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;feaf19e3-8191-429c-a34d-bfe8e963f77a&quot;,&quot;parentUUID&quot;:&quot;c3498f42-6ee2-4028-9b35-453b6d22a8b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty when applying the best token&quot;,&quot;fullTitle&quot;:&quot;cards successChoosingBest returns false if lesser than difficulty when applying the best token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.successChoosingBest(0)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdfc02a8-5e79-42ca-a089-4359661be255&quot;,&quot;parentUUID&quot;:&quot;c3498f42-6ee2-4028-9b35-453b6d22a8b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should assume that redraw tokens where pulled&quot;,&quot;fullTitle&quot;:&quot;cards successChoosingBest should assume that redraw tokens where pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.successChoosingBest(0)([src_1.Token.AUTOFAIL, src_1.Token.MINUS_FOUR, src_1.Token.BLESS], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4ce8705-bba1-4b5a-bad4-a9d5cd6ef99d&quot;,&quot;parentUUID&quot;:&quot;c3498f42-6ee2-4028-9b35-453b6d22a8b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bb08a4e3-474e-42c8-b167-b067bf816ae2&quot;,&quot;feaf19e3-8191-429c-a34d-bfe8e963f77a&quot;,&quot;cdfc02a8-5e79-42ca-a089-4359661be255&quot;,&quot;c4ce8705-bba1-4b5a-bad4-a9d5cd6ef99d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cd9ccce0-14b1-4fb7-8abe-841b5bf24d21&quot;,&quot;title&quot;:&quot;oliveMcBride&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBride returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.oliveMcBride(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;949f1477-efec-44f1-bcd3-6ead12b9aeae&quot;,&quot;parentUUID&quot;:&quot;cd9ccce0-14b1-4fb7-8abe-841b5bf24d21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if higher than difficulty with the 2 best tokens&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBride returns true if higher than difficulty with the 2 best tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBride(1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4538295-fc6b-4496-8854-2019e4180e9f&quot;,&quot;parentUUID&quot;:&quot;cd9ccce0-14b1-4fb7-8abe-841b5bf24d21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty with the 2 best tokens&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBride returns false if lesser than difficulty with the 2 best tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBride(0)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e2bab54-d00e-48ab-97e3-e0287e001b77&quot;,&quot;parentUUID&quot;:&quot;cd9ccce0-14b1-4fb7-8abe-841b5bf24d21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should assume that redraw tokens where pulled&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBride should assume that redraw tokens where pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBride(-2)([src_1.Token.AUTOFAIL, src_1.Token.MINUS_FOUR, src_1.Token.BLESS, src_1.Token.ZERO], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;991eb70f-118f-4fb3-bba1-3d13e33b1c37&quot;,&quot;parentUUID&quot;:&quot;cd9ccce0-14b1-4fb7-8abe-841b5bf24d21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;949f1477-efec-44f1-bcd3-6ead12b9aeae&quot;,&quot;f4538295-fc6b-4496-8854-2019e4180e9f&quot;,&quot;2e2bab54-d00e-48ab-97e3-e0287e001b77&quot;,&quot;991eb70f-118f-4fb3-bba1-3d13e33b1c37&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;894feae9-1ef9-4c90-9305-b8d8a8b7c134&quot;,&quot;title&quot;:&quot;oliveMcBrideWithSkull&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.oliveMcBrideWithSkull(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78721874-5b05-46d2-b625-5ea6ec6344ae&quot;,&quot;parentUUID&quot;:&quot;894feae9-1ef9-4c90-9305-b8d8a8b7c134&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if there is no Skull token in the tokens pulled&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull returns false if there is no Skull token in the tokens pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideWithSkull(0)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;858fd46b-e7c7-45f6-9798-b86702209a93&quot;,&quot;parentUUID&quot;:&quot;894feae9-1ef9-4c90-9305-b8d8a8b7c134&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not modify the combination&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull should not modify the combination&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var myComb = [src_1.Token.SKULL, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO];\nsrc_1.oliveMcBrideWithSkull(2)(myComb, effects.merge(new src_1.TokenEffects([[src_1.Token.SKULL, new src_1.Modifier(-1)]])));\nchai_1.expect(myComb).to.deep.equal([\n    src_1.Token.SKULL,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48dd05fa-49b0-48d9-945f-4dc24af2b415&quot;,&quot;parentUUID&quot;:&quot;894feae9-1ef9-4c90-9305-b8d8a8b7c134&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if there is a Skull token in the tokens pulled and if adding best of remaining tokens is still higher than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull returns true if there is a Skull token in the tokens pulled and if adding best of remaining tokens is still higher than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideWithSkull(2)([src_1.Token.SKULL, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects.merge(new src_1.TokenEffects([[src_1.Token.SKULL, new src_1.Modifier(-1)]])))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4dd6d4d8-a551-45ea-9ed9-f0dc5ad11f50&quot;,&quot;parentUUID&quot;:&quot;894feae9-1ef9-4c90-9305-b8d8a8b7c134&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if there is a Skull token in the tokens pulled and if adding best of remaining tokens is lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull returns false if there is a Skull token in the tokens pulled and if adding best of remaining tokens is lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideWithSkull(1)([src_1.Token.SKULL, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], effects.merge(new src_1.TokenEffects([[src_1.Token.SKULL, new src_1.Modifier(-1)]])))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb674992-c0a0-4a09-82ad-4e35590eaf8a&quot;,&quot;parentUUID&quot;:&quot;894feae9-1ef9-4c90-9305-b8d8a8b7c134&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should assume that redraw tokens where pulled&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideWithSkull should assume that redraw tokens where pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideWithSkull(3)([src_1.Token.AUTOFAIL, src_1.Token.SKULL, src_1.Token.BLESS, src_1.Token.MINUS_TWO], effects.merge(new src_1.TokenEffects([[src_1.Token.SKULL, new src_1.Modifier(-4)]])))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1ed5621-fdcf-4a9c-9130-2d8b6ee4c84a&quot;,&quot;parentUUID&quot;:&quot;894feae9-1ef9-4c90-9305-b8d8a8b7c134&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;78721874-5b05-46d2-b625-5ea6ec6344ae&quot;,&quot;858fd46b-e7c7-45f6-9798-b86702209a93&quot;,&quot;48dd05fa-49b0-48d9-945f-4dc24af2b415&quot;,&quot;4dd6d4d8-a551-45ea-9ed9-f0dc5ad11f50&quot;,&quot;bb674992-c0a0-4a09-82ad-4e35590eaf8a&quot;,&quot;c1ed5621-fdcf-4a9c-9130-2d8b6ee4c84a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;11535287-ecb4-4e38-902e-a6d3cc28ab5a&quot;,&quot;title&quot;:&quot;recallTheFuture&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.recallTheFuture(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bf7b4db-6bca-4d9c-80ae-55503975a292&quot;,&quot;parentUUID&quot;:&quot;11535287-ecb4-4e38-902e-a6d3cc28ab5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns true if greater than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(0)([src_1.Token.ZERO], effects, new src_1.Bag([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE]))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ea41702-7a38-4d8b-a203-6471499081b6&quot;,&quot;parentUUID&quot;:&quot;11535287-ecb4-4e38-902e-a6d3cc28ab5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if lesser than difficulty but drew the token which has the most chances to be turned into success using the +2 bonus&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns true if lesser than difficulty but drew the token which has the most chances to be turned into success using the +2 bonus&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-1)([src_1.Token.MINUS_ONE], effects, new src_1.Bag([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE]))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bbc9dbd-0b01-420c-860c-51038d55aa49&quot;,&quot;parentUUID&quot;:&quot;11535287-ecb4-4e38-902e-a6d3cc28ab5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty and did not drew the token which has the most chances to be turned into success using the +2 bonus&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns false if lesser than difficulty and did not drew the token which has the most chances to be turned into success using the +2 bonus&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-1)([src_1.Token.ZERO], effects, new src_1.Bag([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE]))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbf84d4d-51f5-4f9a-b226-6c7980ed051b&quot;,&quot;parentUUID&quot;:&quot;11535287-ecb4-4e38-902e-a6d3cc28ab5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if still lesser than difficulty applying the +2 bonus&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture returns false if still lesser than difficulty applying the +2 bonus&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-2)([src_1.Token.MINUS_ONE], effects, new src_1.Bag([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE]))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d055006-3fa1-4aa3-8bfe-99c4bef3e1aa&quot;,&quot;parentUUID&quot;:&quot;11535287-ecb4-4e38-902e-a6d3cc28ab5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can handle the case where several tokens where drawn&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture can handle the case where several tokens where drawn&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE], effects, new src_1.Bag([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO\n]))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03b0d7e4-533e-4191-a695-5198056b855c&quot;,&quot;parentUUID&quot;:&quot;11535287-ecb4-4e38-902e-a6d3cc28ab5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can handle redraw tokens&quot;,&quot;fullTitle&quot;:&quot;cards recallTheFuture can handle redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.recallTheFuture(-1)([src_1.Token.MINUS_ONE, src_1.Token.CURSE], effects, new src_1.Bag([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO,\n    src_1.Token.CURSE\n]))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;484736a5-619d-4d3d-8e26-d6c0765e98c8&quot;,&quot;parentUUID&quot;:&quot;11535287-ecb4-4e38-902e-a6d3cc28ab5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3bf7b4db-6bca-4d9c-80ae-55503975a292&quot;,&quot;4ea41702-7a38-4d8b-a203-6471499081b6&quot;,&quot;8bbc9dbd-0b01-420c-860c-51038d55aa49&quot;,&quot;dbf84d4d-51f5-4f9a-b226-6c7980ed051b&quot;,&quot;6d055006-3fa1-4aa3-8bfe-99c4bef3e1aa&quot;,&quot;03b0d7e4-533e-4191-a695-5198056b855c&quot;,&quot;484736a5-619d-4d3d-8e26-d6c0765e98c8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;56c68539-74f9-4252-b04b-36a50ff3a3a6&quot;,&quot;title&quot;:&quot;darkProphecy&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.darkProphecy(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe77f859-9219-413e-bdc1-48bfcd665970&quot;,&quot;parentUUID&quot;:&quot;56c68539-74f9-4252-b04b-36a50ff3a3a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;return true if greater than difficulty using the \&quot;best\&quot; bad token pulled&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy return true if greater than difficulty using the \&quot;best\&quot; bad token pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(2)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.CULTIST,\n    src_1.Token.ELDER_THING\n], effects.merge(new src_1.TokenEffects([\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)],\n    [src_1.Token.ELDER_THING, new src_1.Modifier(-4)]\n])))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96323067-209c-4546-8dfc-a69ce470a18c&quot;,&quot;parentUUID&quot;:&quot;56c68539-74f9-4252-b04b-36a50ff3a3a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;return false if lesser than difficulty using the \&quot;best\&quot; bad token pulled&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy return false if lesser than difficulty using the \&quot;best\&quot; bad token pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(1)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.CULTIST,\n    src_1.Token.ELDER_THING\n], effects.merge(new src_1.TokenEffects([\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)],\n    [src_1.Token.ELDER_THING, new src_1.Modifier(-4)]\n])))).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8fad0c6-9010-405e-95c7-a2a17c4cb1fd&quot;,&quot;parentUUID&quot;:&quot;56c68539-74f9-4252-b04b-36a50ff3a3a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;return true if greater than difficulty using best token when no bad tokens were pulled&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy return true if greater than difficulty using best token when no bad tokens were pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(0)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_TWO\n], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e5d6d80-2227-4ad7-8614-c08caeaa0de9&quot;,&quot;parentUUID&quot;:&quot;56c68539-74f9-4252-b04b-36a50ff3a3a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;return false if lesser than difficulty using best token when no bad tokens were pulled&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy return false if lesser than difficulty using best token when no bad tokens were pulled&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(-1)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_TWO\n], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ef122d1-f3bb-48a4-9e4b-7225a1043623&quot;,&quot;parentUUID&quot;:&quot;56c68539-74f9-4252-b04b-36a50ff3a3a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens (assuming they were pulled)&quot;,&quot;fullTitle&quot;:&quot;cards darkProphecy takes into account redraw tokens (assuming they were pulled)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.darkProphecy(0)([\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.ZERO,\n    src_1.Token.MINUS_TWO,\n    src_1.Token.CURSE\n], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c862a9db-46ee-4552-a13a-1c85f1f0c131&quot;,&quot;parentUUID&quot;:&quot;56c68539-74f9-4252-b04b-36a50ff3a3a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fe77f859-9219-413e-bdc1-48bfcd665970&quot;,&quot;96323067-209c-4546-8dfc-a69ce470a18c&quot;,&quot;e8fad0c6-9010-405e-95c7-a2a17c4cb1fd&quot;,&quot;3e5d6d80-2227-4ad7-8614-c08caeaa0de9&quot;,&quot;6ef122d1-f3bb-48a4-9e4b-7225a1043623&quot;,&quot;c862a9db-46ee-4552-a13a-1c85f1f0c131&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;78cc1e0b-a60d-44dc-8f97-8f94be48249c&quot;,&quot;title&quot;:&quot;winchesterDoing1Damage&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing1Damage returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.winchesterDoing1Damage(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52898a9c-d674-4681-843b-50a9183778fb&quot;,&quot;parentUUID&quot;:&quot;78cc1e0b-a60d-44dc-8f97-8f94be48249c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing1Damage returns true if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing1Damage(1)([src_1.Token.MINUS_ONE], effects)).to.be.true;\nchai_1.expect(src_1.winchesterDoing1Damage(2)([src_1.Token.MINUS_TWO], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3aa3caef-b2b4-400c-8324-079a81bda4fc&quot;,&quot;parentUUID&quot;:&quot;78cc1e0b-a60d-44dc-8f97-8f94be48249c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing1Damage returns false if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing1Damage(0)([src_1.Token.ELDER_SIGN], effects)).to.be\n    .false;\nchai_1.expect(src_1.winchesterDoing1Damage(0)([src_1.Token.ZERO], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing1Damage(-1)([src_1.Token.PLUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88abe62e-70be-4ea1-8229-750bcc6d2798&quot;,&quot;parentUUID&quot;:&quot;78cc1e0b-a60d-44dc-8f97-8f94be48249c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing1Damage returns false if lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing1Damage(-2)([src_1.Token.ELDER_SIGN], effects)).to.be\n    .false;\nchai_1.expect(src_1.winchesterDoing1Damage(-1)([src_1.Token.ZERO], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing1Damage(-2)([src_1.Token.PLUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing1Damage(0)([src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing1Damage(1)([src_1.Token.MINUS_TWO], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd5e1629-7c9c-4857-a25d-ef9a0636aa84&quot;,&quot;parentUUID&quot;:&quot;78cc1e0b-a60d-44dc-8f97-8f94be48249c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;52898a9c-d674-4681-843b-50a9183778fb&quot;,&quot;3aa3caef-b2b4-400c-8324-079a81bda4fc&quot;,&quot;88abe62e-70be-4ea1-8229-750bcc6d2798&quot;,&quot;dd5e1629-7c9c-4857-a25d-ef9a0636aa84&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a980ebc2-2416-4e9d-8a2c-80413d3d7f04&quot;,&quot;title&quot;:&quot;winchesterDoing3Damage&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing3Damage returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.winchesterDoing3Damage(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd78e951-c6d5-46ae-b901-752abcdf863e&quot;,&quot;parentUUID&quot;:&quot;a980ebc2-2416-4e9d-8a2c-80413d3d7f04&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing3Damage returns true if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing3Damage(0)([src_1.Token.ELDER_SIGN], effects)).to.be.true;\nchai_1.expect(src_1.winchesterDoing3Damage(0)([src_1.Token.ZERO], effects)).to.be.true;\nchai_1.expect(src_1.winchesterDoing3Damage(-1)([src_1.Token.PLUS_ONE], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea8ab902-779e-41f2-bd54-20a82d5c4888&quot;,&quot;parentUUID&quot;:&quot;a980ebc2-2416-4e9d-8a2c-80413d3d7f04&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing3Damage returns false if lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing3Damage(-2)([src_1.Token.ELDER_SIGN], effects)).to.be\n    .false;\nchai_1.expect(src_1.winchesterDoing3Damage(-1)([src_1.Token.ZERO], effects)).to.be.false;\nchai_1.expect(src_1.winchesterDoing3Damage(-2)([src_1.Token.PLUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b833abe4-7eb8-45c6-a4a8-ed5e1795e731&quot;,&quot;parentUUID&quot;:&quot;a980ebc2-2416-4e9d-8a2c-80413d3d7f04&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;fullTitle&quot;:&quot;cards winchesterDoing3Damage returns false if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.winchesterDoing3Damage(1)([src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3321f901-fd92-43aa-9a45-937d12157d26&quot;,&quot;parentUUID&quot;:&quot;a980ebc2-2416-4e9d-8a2c-80413d3d7f04&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fd78e951-c6d5-46ae-b901-752abcdf863e&quot;,&quot;ea8ab902-779e-41f2-bd54-20a82d5c4888&quot;,&quot;b833abe4-7eb8-45c6-a4a8-ed5e1795e731&quot;,&quot;3321f901-fd92-43aa-9a45-937d12157d26&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;28a62d8f-967b-415f-85cc-d4f45a3a2cac&quot;,&quot;title&quot;:&quot;oliveMcBrideAndWinchesterDoing1Damage&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.oliveMcBrideAndWinchesterDoing1Damage(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2641c16-4855-4fc7-aea4-430429fc62a6&quot;,&quot;parentUUID&quot;:&quot;28a62d8f-967b-415f-85cc-d4f45a3a2cac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage returns true if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(2)([src_1.Token.MINUS_TWO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5dd5517e-af19-4496-b191-9c9b77f0caaa&quot;,&quot;parentUUID&quot;:&quot;28a62d8f-967b-415f-85cc-d4f45a3a2cac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage returns false if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(0)([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(0)([src_1.Token.PLUS_ONE, , src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51148dd9-f38e-45bb-a346-49dfd4ca8ee4&quot;,&quot;parentUUID&quot;:&quot;28a62d8f-967b-415f-85cc-d4f45a3a2cac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage returns false if lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(-1)([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(1)([src_1.Token.MINUS_TWO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c06fbe55-e4ac-42e2-86d0-ece4fa50ecea&quot;,&quot;parentUUID&quot;:&quot;28a62d8f-967b-415f-85cc-d4f45a3a2cac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing1Damage takes into account redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing1Damage(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO, src_1.Token.CURSE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;872e8bf4-6f48-4b23-b1c4-09a261c77e3e&quot;,&quot;parentUUID&quot;:&quot;28a62d8f-967b-415f-85cc-d4f45a3a2cac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f2641c16-4855-4fc7-aea4-430429fc62a6&quot;,&quot;5dd5517e-af19-4496-b191-9c9b77f0caaa&quot;,&quot;51148dd9-f38e-45bb-a346-49dfd4ca8ee4&quot;,&quot;c06fbe55-e4ac-42e2-86d0-ece4fa50ecea&quot;,&quot;872e8bf4-6f48-4b23-b1c4-09a261c77e3e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a266bb9a-4e5d-4157-b5b0-79274cd95c42&quot;,&quot;title&quot;:&quot;oliveMcBrideAndWinchesterDoing3Damage&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.oliveMcBrideAndWinchesterDoing3Damage(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9327084-f5b9-4529-ab87-8b5779c8ff08&quot;,&quot;parentUUID&quot;:&quot;a266bb9a-4e5d-4157-b5b0-79274cd95c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage returns true if greater than difficulty and pulled an Elder Sign, a +1 or a 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(0)([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(0)([src_1.Token.PLUS_ONE, , src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06840780-d4e4-419b-84fe-1b6feb9c212d&quot;,&quot;parentUUID&quot;:&quot;a266bb9a-4e5d-4157-b5b0-79274cd95c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage returns false if lesser than difficulty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(-1)([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(0)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;\nchai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(-1)([src_1.Token.PLUS_ONE, , src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72b1ad50-f260-49bd-ab1e-8e2f32d62a90&quot;,&quot;parentUUID&quot;:&quot;a266bb9a-4e5d-4157-b5b0-79274cd95c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage returns false if greater than difficulty and pulled no Elder Sign, +1 or 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ec78f84-3d5e-463f-a8ae-1cd0db828184&quot;,&quot;parentUUID&quot;:&quot;a266bb9a-4e5d-4157-b5b0-79274cd95c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens&quot;,&quot;fullTitle&quot;:&quot;cards oliveMcBrideAndWinchesterDoing3Damage takes into account redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.oliveMcBrideAndWinchesterDoing3Damage(1)([src_1.Token.ZERO, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO, src_1.Token.CURSE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9af34491-8e2f-454d-8427-2c5d7c756774&quot;,&quot;parentUUID&quot;:&quot;a266bb9a-4e5d-4157-b5b0-79274cd95c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c9327084-f5b9-4529-ab87-8b5779c8ff08&quot;,&quot;06840780-d4e4-419b-84fe-1b6feb9c212d&quot;,&quot;72b1ad50-f260-49bd-ab1e-8e2f32d62a90&quot;,&quot;6ec78f84-3d5e-463f-a8ae-1cd0db828184&quot;,&quot;9af34491-8e2f-454d-8427-2c5d7c756774&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;58d26584-2117-4248-bd80-7a2da7a26d25&quot;,&quot;title&quot;:&quot;jacqueline&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/cards.spec.ts&quot;,&quot;file&quot;:&quot;/spec/cards.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns a function&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns a function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var returnValue = src_1.jacqueline(0);\nchai_1.expect(returnValue).to.be.instanceof(Function);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4de9cc33-687b-440c-931d-dfd21af8f04a&quot;,&quot;parentUUID&quot;:&quot;58d26584-2117-4248-bd80-7a2da7a26d25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty when cancelling 2 non-tentacle tokens&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns true if greater than difficulty when cancelling 2 non-tentacle tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(1)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a373906-c8e0-4a0e-8182-31c4973040e3&quot;,&quot;parentUUID&quot;:&quot;58d26584-2117-4248-bd80-7a2da7a26d25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if greater than difficulty when cancelling tentacle&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns true if greater than difficulty when cancelling tentacle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL], effects)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88aabe51-0429-4d85-974a-f9762c3cfd5e&quot;,&quot;parentUUID&quot;:&quot;58d26584-2117-4248-bd80-7a2da7a26d25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty when cancelling 2 non-tentacle tokens&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns false if lesser than difficulty when cancelling 2 non-tentacle tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(0)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8ea931c-f9a4-4078-be24-37b69219a040&quot;,&quot;parentUUID&quot;:&quot;58d26584-2117-4248-bd80-7a2da7a26d25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if lesser than difficulty when cancelling tentacle&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline returns false if lesser than difficulty when cancelling tentacle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(1)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a66c5ae6-4fcd-48a9-8fe8-93786a2b51b7&quot;,&quot;parentUUID&quot;:&quot;58d26584-2117-4248-bd80-7a2da7a26d25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens when ignoring 2 tokens&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline takes into account redraw tokens when ignoring 2 tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO, src_1.Token.CURSE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d38ddbe4-0c9d-43b6-bc7a-c5161bccd214&quot;,&quot;parentUUID&quot;:&quot;58d26584-2117-4248-bd80-7a2da7a26d25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account redraw tokens when cancelling tentacle&quot;,&quot;fullTitle&quot;:&quot;cards jacqueline takes into account redraw tokens when cancelling tentacle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(src_1.jacqueline(2)([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.AUTOFAIL, src_1.Token.CURSE], effects)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87d61e71-d43e-413b-aa21-2e221820606b&quot;,&quot;parentUUID&quot;:&quot;58d26584-2117-4248-bd80-7a2da7a26d25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4de9cc33-687b-440c-931d-dfd21af8f04a&quot;,&quot;4a373906-c8e0-4a0e-8182-31c4973040e3&quot;,&quot;88aabe51-0429-4d85-974a-f9762c3cfd5e&quot;,&quot;a8ea931c-f9a4-4078-be24-37b69219a040&quot;,&quot;a66c5ae6-4fcd-48a9-8fe8-93786a2b51b7&quot;,&quot;d38ddbe4-0c9d-43b6-bc7a-c5161bccd214&quot;,&quot;87d61e71-d43e-413b-aa21-2e221820606b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;220fe7fc-3762-4d34-845a-d969c21e8e27&quot;,&quot;title&quot;:&quot;exports&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/exports.spec.ts&quot;,&quot;file&quot;:&quot;/spec/exports.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;exports the `odds` function&quot;,&quot;fullTitle&quot;:&quot;exports exports the `odds` function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(ArkhamOdds.odds).to.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57f805b8-c410-43ec-a979-7708670ecaa6&quot;,&quot;parentUUID&quot;:&quot;220fe7fc-3762-4d34-845a-d969c21e8e27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;57f805b8-c410-43ec-a979-7708670ecaa6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0b476603-7ba5-4350-84da-3be17658f4c2&quot;,&quot;title&quot;:&quot;Odds functions&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/index.spec.ts&quot;,&quot;file&quot;:&quot;/spec/index.spec.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Odds functions \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-1, true)]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d13cbc70-57b0-48c5-b434-2bcc6df38627&quot;,&quot;parentUUID&quot;:&quot;0b476603-7ba5-4350-84da-3be17658f4c2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8c5d2f9b-c38e-44be-80b5-7be9b680d060&quot;,&quot;title&quot;:&quot;odds&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/index.spec.ts&quot;,&quot;file&quot;:&quot;/spec/index.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns 0.5 when pulling 1 token if half the tokens results in a success&quot;,&quot;fullTitle&quot;:&quot;Odds functions odds returns 0.5 when pulling 1 token if half the tokens results in a success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE]);\nvar oddsOfSuccess = src_1.odds(1, bag, effects, src_1.success(0));\nchai_1.expect(oddsOfSuccess).to.equal(0.5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c41c089-9cb3-4891-a5f8-599a5c6085a5&quot;,&quot;parentUUID&quot;:&quot;8c5d2f9b-c38e-44be-80b5-7be9b680d060&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can compute odds even when there are no successful combinations&quot;,&quot;fullTitle&quot;:&quot;Odds functions odds can compute odds even when there are no successful combinations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE]);\nvar oddsOfSuccess = src_1.odds(1, bag, effects, src_1.success(-4));\nchai_1.expect(oddsOfSuccess).to.equal(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35e9ec22-ccb6-48aa-9664-5d93b12e08d0&quot;,&quot;parentUUID&quot;:&quot;8c5d2f9b-c38e-44be-80b5-7be9b680d060&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account tokens with a redraw effect&quot;,&quot;fullTitle&quot;:&quot;Odds functions odds takes into account tokens with a redraw effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.CULTIST]);\nvar oddsOfSuccess = src_1.odds(1, bag, effects, src_1.success(-1));\n/* Possible draws are :\n * - +1 with a probability of 1/3\n * - -1 with a probability of 1/3\n * - Cultist and +1 with a probability of 1/6 (1/3 x 1/2)\n * - Cultist and -1 with a probability of 1/6 (1/3 x 1/2)\n * If testing at -1, only +1 result in a success.\n */\nchai_1.expect(oddsOfSuccess).to.be.closeTo(1 / 3, PRECISION);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74027d7a-7031-429c-bbf3-890a0090f2b7&quot;,&quot;parentUUID&quot;:&quot;8c5d2f9b-c38e-44be-80b5-7be9b680d060&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;takes into account tokens with a redraw effect when pulling multiple tokens&quot;,&quot;fullTitle&quot;:&quot;Odds functions odds takes into account tokens with a redraw effect when pulling multiple tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO,\n    src_1.Token.CULTIST\n]);\n/* Possible draws are in the table below\n *\n * | 1st pull | 2nd pull | 3rd pull | Result | Probability |\n * | +1       | -1       |          | +0     | 1/12        |\n * | +1       | -2       |          | -1     | 1/12        |\n * | +1       | Cultist  | -1       | -1     | 1/24        |\n * | +1       | Cultist  | -2       | -2     | 1/24        |\n * | -1       | +1       |          | +0     | 1/12        |\n * | -1       | -2       |          | -3     | 1/12        |\n * | -1       | Cultist  | +1       | -1     | 1/24        |\n * | -1       | Cultist  | -2       | -4     | 1/24        |\n * | -2       | +1       |          | -1     | 1/12        |\n * | -2       | -1       |          | -3     | 1/12        |\n * | -2       | Cultist  | +1       | -2     | 1/24        |\n * | -2       | Cultist  | -1       | -4     | 1/24        |\n * | Cultist  | +1       | -1       | -1     | 1/24        |\n * | Cultist  | +1       | -2       | -2     | 1/24        |\n * | Cultist  | -1       | +1       | -1     | 1/24        |\n * | Cultist  | -1       | -2       | -4     | 1/24        |\n * | Cultist  | -2       | +1       | -2     | 1/24        |\n * | Cultist  | -2       | -1       | -4     | 1/24        |\n *\n * Odds of success depending on difficulty is then :\n *\n * | Result | Probability |\n * | -4     | 4/24        |\n * | -3     | 4/24        |\n * | -2     | 4/24        |\n * | -1     | 8/24        |\n * | 0      | 4/24        |\n */\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(0))).to.be.closeTo(4 / 24, PRECISION, \&quot;when equal\&quot;);\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(1))).to.be.closeTo(12 / 24, // 4 / 24 + 8 / 24\nPRECISION, \&quot;when over by 1\&quot;);\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(2))).to.be.closeTo(16 / 24, // 4 / 24 + 8 / 24 + 4 / 24\nPRECISION, \&quot;when over by 2\&quot;);\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(3))).to.closeTo(20 / 24, // 4 / 24 + 8 / 24 + 4 / 24 + 4 / 24\nPRECISION, \&quot;when over by 3\&quot;);\nchai_1.expect(src_1.odds(2, bag, effects, src_1.success(4))).to.be.closeTo(1, PRECISION, \&quot;when over by 4\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a5bb5b5-f05f-4a64-ab54-ac54eac735a2&quot;,&quot;parentUUID&quot;:&quot;8c5d2f9b-c38e-44be-80b5-7be9b680d060&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5c41c089-9cb3-4891-a5f8-599a5c6085a5&quot;,&quot;35e9ec22-ccb6-48aa-9664-5d93b12e08d0&quot;,&quot;74027d7a-7031-429c-bbf3-890a0090f2b7&quot;,&quot;3a5bb5b5-f05f-4a64-ab54-ac54eac735a2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b4e458d0-bedb-4d61-9977-a4c977bc48e9&quot;,&quot;title&quot;:&quot;oddsWithRedraw&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/index.spec.ts&quot;,&quot;file&quot;:&quot;/spec/index.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns 0.5 when pulling 1 token if half the tokens results in a success&quot;,&quot;fullTitle&quot;:&quot;Odds functions oddsWithRedraw returns 0.5 when pulling 1 token if half the tokens results in a success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE]);\nvar oddsOfSuccess = src_1.oddsWithRedraw(1, bag, effects, src_1.success(0));\nchai_1.expect(oddsOfSuccess).to.equal(0.5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93982c3c-8a43-4bc2-9156-9ce7e78fe564&quot;,&quot;parentUUID&quot;:&quot;b4e458d0-bedb-4d61-9977-a4c977bc48e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns 0.75 when pulling 2 tokens (putting back first token before second draw) if half the tokens results in a success&quot;,&quot;fullTitle&quot;:&quot;Odds functions oddsWithRedraw returns 0.75 when pulling 2 tokens (putting back first token before second draw) if half the tokens results in a success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bag = new src_1.Bag([src_1.Token.PLUS_ONE, src_1.Token.MINUS_ONE]);\nvar oddsOfSuccess = src_1.oddsWithRedraw(2, bag, effects, src_1.successChoosingBest(0));\nchai_1.expect(oddsOfSuccess).to.equal(0.75);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc16d804-9476-4be7-9294-addd66a66d17&quot;,&quot;parentUUID&quot;:&quot;b4e458d0-bedb-4d61-9977-a4c977bc48e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;93982c3c-8a43-4bc2-9156-9ce7e78fe564&quot;,&quot;fc16d804-9476-4be7-9294-addd66a66d17&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ca68760f-1ff5-434a-878a-7a9afba1efbe&quot;,&quot;title&quot;:&quot;Precise calculations with fraction&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/precise_calculations.spec.ts&quot;,&quot;file&quot;:&quot;/spec/precise_calculations.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;fractions with same numerator and denominator are equal&quot;,&quot;fullTitle&quot;:&quot;Precise calculations with fraction fractions with same numerator and denominator are equal&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var frac1 = new Fraction_1.Fraction(1, 3);\nvar frac2 = new Fraction_1.Fraction(1, 3);\nchai_1.expect(frac1.sameAs(frac2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d62da9fc-fc8c-42bb-8bad-3986d31117fe&quot;,&quot;parentUUID&quot;:&quot;ca68760f-1ff5-434a-878a-7a9afba1efbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;fractions with same numerator and different denominator are not equal&quot;,&quot;fullTitle&quot;:&quot;Precise calculations with fraction fractions with same numerator and different denominator are not equal&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var frac1 = new Fraction_1.Fraction(1, 3);\nvar frac2 = new Fraction_1.Fraction(1, 4);\nchai_1.expect(frac1.sameAs(frac2)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc442afa-ee1a-469b-9659-ba6f920bbc3b&quot;,&quot;parentUUID&quot;:&quot;ca68760f-1ff5-434a-878a-7a9afba1efbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;fractions reducing to the same fraction are equal&quot;,&quot;fullTitle&quot;:&quot;Precise calculations with fraction fractions reducing to the same fraction are equal&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var frac1 = new Fraction_1.Fraction(1, 2);\nvar frac2 = new Fraction_1.Fraction(2, 4);\nchai_1.expect(frac1.sameAs(frac2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08f18894-6d10-4931-a267-77af5be9e6d5&quot;,&quot;parentUUID&quot;:&quot;ca68760f-1ff5-434a-878a-7a9afba1efbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can add fractions&quot;,&quot;fullTitle&quot;:&quot;Precise calculations with fraction can add fractions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var frac1 = new Fraction_1.Fraction(1, 3);\nvar frac2 = new Fraction_1.Fraction(1, 4);\nvar expected = new Fraction_1.Fraction(7, 12);\nchai_1.expect(frac1.add(frac2).sameAs(expected)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49fe08c8-8413-42a9-baa2-35c685326f67&quot;,&quot;parentUUID&quot;:&quot;ca68760f-1ff5-434a-878a-7a9afba1efbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can compute to float&quot;,&quot;fullTitle&quot;:&quot;Precise calculations with fraction can compute to float&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var frac = new Fraction_1.Fraction(1, 2);\nchai_1.expect(frac.valueOf()).to.equal(0.5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc0a4569-dc41-421c-97d3-6c8e279d5797&quot;,&quot;parentUUID&quot;:&quot;ca68760f-1ff5-434a-878a-7a9afba1efbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d62da9fc-fc8c-42bb-8bad-3986d31117fe&quot;,&quot;fc442afa-ee1a-469b-9659-ba6f920bbc3b&quot;,&quot;08f18894-6d10-4931-a267-77af5be9e6d5&quot;,&quot;49fe08c8-8413-42a9-baa2-35c685326f67&quot;,&quot;cc0a4569-dc41-421c-97d3-6c8e279d5797&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;580652fb-756b-460d-baad-7f2a291e034b&quot;,&quot;title&quot;:&quot;Autofail&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autofail.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autofail.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fcc5677f-ac48-4251-9eb5-4e0690b6c6f8&quot;,&quot;title&quot;:&quot;getOutcome&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autofail.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autofail.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;outcome is of type AUTOFAIL&quot;,&quot;fullTitle&quot;:&quot;Autofail getOutcome outcome is of type AUTOFAIL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Autofail().getOutcome()).to.equal(src_1.TokenEffectType.AUTOFAIL);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f0e942b-eb4a-45c2-8401-feba6b25bfc1&quot;,&quot;parentUUID&quot;:&quot;fcc5677f-ac48-4251-9eb5-4e0690b6c6f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9f0e942b-eb4a-45c2-8401-feba6b25bfc1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;785593cc-c525-4bb9-b40b-4eac9a9c4cc5&quot;,&quot;title&quot;:&quot;isRedraw&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autofail.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autofail.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is not a redraw token&quot;,&quot;fullTitle&quot;:&quot;Autofail isRedraw is not a redraw token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Autofail().isRedraw()).to.equal(false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7fa2447-3093-42c0-95e8-03ddfea0799c&quot;,&quot;parentUUID&quot;:&quot;785593cc-c525-4bb9-b40b-4eac9a9c4cc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e7fa2447-3093-42c0-95e8-03ddfea0799c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2961b108-0d92-4013-92bc-d8339d3b726c&quot;,&quot;title&quot;:&quot;sameAs&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autofail.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autofail.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when compared to another Auofail&quot;,&quot;fullTitle&quot;:&quot;Autofail sameAs is true when compared to another Auofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Autofail(), new src_1.Autofail()], fail1 = _a[0], fail2 = _a[1];\nchai_1.expect(fail1.sameAs(fail2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;664e4874-d015-4b3b-9485-6df3381729da&quot;,&quot;parentUUID&quot;:&quot;2961b108-0d92-4013-92bc-d8339d3b726c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when compared to another type of effect&quot;,&quot;fullTitle&quot;:&quot;Autofail sameAs is false when compared to another type of effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var fail = new src_1.Autofail();\nchai_1.expect(fail.sameAs(new src_1.Modifier(-1))).to.be.false;\nchai_1.expect(fail.sameAs(new src_1.Autosuccess())).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27dc2cfb-5558-4582-aec0-e98b19c4498e&quot;,&quot;parentUUID&quot;:&quot;2961b108-0d92-4013-92bc-d8339d3b726c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;664e4874-d015-4b3b-9485-6df3381729da&quot;,&quot;27dc2cfb-5558-4582-aec0-e98b19c4498e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;95eae857-b83b-41e6-8805-c23e0ab3587b&quot;,&quot;title&quot;:&quot;Autofail&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autosuccess.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autosuccess.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;35c0df1d-06d6-4912-aa5e-9f364fad99e1&quot;,&quot;title&quot;:&quot;getOutcome&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autosuccess.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autosuccess.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;outcome is of type AUTOSUCCESS&quot;,&quot;fullTitle&quot;:&quot;Autofail getOutcome outcome is of type AUTOSUCCESS&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Autosuccess().getOutcome()).to.equal(src_1.TokenEffectType.AUTOSUCCESS);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f51848c9-602d-4a5e-b643-9a2318d8e843&quot;,&quot;parentUUID&quot;:&quot;35c0df1d-06d6-4912-aa5e-9f364fad99e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f51848c9-602d-4a5e-b643-9a2318d8e843&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b48cb32b-20e0-4ac0-96d9-fdf14acd47ef&quot;,&quot;title&quot;:&quot;isRedraw&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autosuccess.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autosuccess.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is not a redraw token&quot;,&quot;fullTitle&quot;:&quot;Autofail isRedraw is not a redraw token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Autosuccess().isRedraw()).to.equal(false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c0ccc12-1643-497a-956a-686e2a99bde1&quot;,&quot;parentUUID&quot;:&quot;b48cb32b-20e0-4ac0-96d9-fdf14acd47ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3c0ccc12-1643-497a-956a-686e2a99bde1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7f86d029-eebb-4a7a-bbb4-ee3997246184&quot;,&quot;title&quot;:&quot;sameAs&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Autosuccess.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Autosuccess.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when compared to another Auofail&quot;,&quot;fullTitle&quot;:&quot;Autofail sameAs is true when compared to another Auofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Autosuccess(), new src_1.Autosuccess()], succ1 = _a[0], succ2 = _a[1];\nchai_1.expect(succ1.sameAs(succ2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb76127d-d064-4d6f-8cc6-da42a8ae3935&quot;,&quot;parentUUID&quot;:&quot;7f86d029-eebb-4a7a-bbb4-ee3997246184&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when compared to another type of effect&quot;,&quot;fullTitle&quot;:&quot;Autofail sameAs is false when compared to another type of effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var succ = new src_1.Autosuccess();\nchai_1.expect(succ.sameAs(new src_1.Modifier(-1))).to.be.false;\nchai_1.expect(succ.sameAs(new src_1.Autofail())).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1020a4c2-6026-4a44-a1c4-1685a6095d84&quot;,&quot;parentUUID&quot;:&quot;7f86d029-eebb-4a7a-bbb4-ee3997246184&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bb76127d-d064-4d6f-8cc6-da42a8ae3935&quot;,&quot;1020a4c2-6026-4a44-a1c4-1685a6095d84&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6c3cffdc-fc3b-4493-90a8-b295627dd15f&quot;,&quot;title&quot;:&quot;Modifier&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Modifier.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Modifier.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a333bcd0-06d8-4500-8154-d4af6077af79&quot;,&quot;title&quot;:&quot;getOutcome&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Modifier.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Modifier.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;outcome is of type MODIFIER&quot;,&quot;fullTitle&quot;:&quot;Modifier getOutcome outcome is of type MODIFIER&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Modifier(0).getOutcome()).to.equal(src_1.TokenEffectType.MODIFIER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47e7e765-3116-4c54-8125-7d03c6944969&quot;,&quot;parentUUID&quot;:&quot;a333bcd0-06d8-4500-8154-d4af6077af79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;47e7e765-3116-4c54-8125-7d03c6944969&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;203b1edd-07ea-4497-b5dd-b29961fac0e0&quot;,&quot;title&quot;:&quot;isRedraw&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Modifier.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Modifier.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns true if it is a redraw token&quot;,&quot;fullTitle&quot;:&quot;Modifier isRedraw returns true if it is a redraw token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Modifier(0, true).isRedraw()).to.equal(true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1dfbdcc4-47ea-45d7-97a2-b5ad7adc3504&quot;,&quot;parentUUID&quot;:&quot;203b1edd-07ea-4497-b5dd-b29961fac0e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if it is not a redraw token&quot;,&quot;fullTitle&quot;:&quot;Modifier isRedraw returns false if it is not a redraw token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(new src_1.Modifier(0).isRedraw()).to.equal(false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30291da7-8018-4477-b5c8-0bbbc8a87fa8&quot;,&quot;parentUUID&quot;:&quot;203b1edd-07ea-4497-b5dd-b29961fac0e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1dfbdcc4-47ea-45d7-97a2-b5ad7adc3504&quot;,&quot;30291da7-8018-4477-b5c8-0bbbc8a87fa8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f2b68d6c-bfba-4296-9e06-ebaf9b759958&quot;,&quot;title&quot;:&quot;sameAs&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/Modifier.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/Modifier.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when representing a modifier with same value and redraw effect&quot;,&quot;fullTitle&quot;:&quot;Modifier sameAs is true when representing a modifier with same value and redraw effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Modifier(1), new src_1.Modifier(1)], mod1 = _a[0], mod2 = _a[1];\nchai_1.expect(mod1.sameAs(mod2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de439da2-c53d-4fdd-8bc4-1bf62b44b0b7&quot;,&quot;parentUUID&quot;:&quot;f2b68d6c-bfba-4296-9e06-ebaf9b759958&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when representing a modifier with different value&quot;,&quot;fullTitle&quot;:&quot;Modifier sameAs is false when representing a modifier with different value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Modifier(1), new src_1.Modifier(2)], mod1 = _a[0], mod2 = _a[1];\nchai_1.expect(mod1.sameAs(mod2)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a0a115f-4174-45ef-9f67-74c05f67dc44&quot;,&quot;parentUUID&quot;:&quot;f2b68d6c-bfba-4296-9e06-ebaf9b759958&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when representing a modifier with same value but different redraw effect&quot;,&quot;fullTitle&quot;:&quot;Modifier sameAs is false when representing a modifier with same value but different redraw effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var _a = [new src_1.Modifier(1), new src_1.Modifier(1, true)], mod1 = _a[0], mod2 = _a[1];\nchai_1.expect(mod1.sameAs(mod2)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65f47a6f-4ca2-42ce-8bab-6b5a394681e4&quot;,&quot;parentUUID&quot;:&quot;f2b68d6c-bfba-4296-9e06-ebaf9b759958&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when compared to another type of effect&quot;,&quot;fullTitle&quot;:&quot;Modifier sameAs is false when compared to another type of effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var mod1 = new src_1.Modifier(1);\nchai_1.expect(mod1.sameAs(new src_1.Autofail())).to.be.false;\nchai_1.expect(mod1.sameAs(new src_1.Autosuccess())).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5cb7be39-e74d-4aef-8d61-4df686309f61&quot;,&quot;parentUUID&quot;:&quot;f2b68d6c-bfba-4296-9e06-ebaf9b759958&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;de439da2-c53d-4fdd-8bc4-1bf62b44b0b7&quot;,&quot;6a0a115f-4174-45ef-9f67-74c05f67dc44&quot;,&quot;65f47a6f-4ca2-42ce-8bab-6b5a394681e4&quot;,&quot;5cb7be39-e74d-4aef-8d61-4df686309f61&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;449aa271-ba04-49a1-8f39-1c7f62a04d79&quot;,&quot;title&quot;:&quot;TokenEffects&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;can be created from mapping&quot;,&quot;fullTitle&quot;:&quot;TokenEffects can be created from mapping&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nchai_1.expect(effects.getEffect(src_1.Token.ELDER_SIGN)).to.exist;\nchai_1.expect(effects.getEffect(src_1.Token.AUTOFAIL)).to.not.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd9c6771-50d8-43dc-a0ee-ce22dbe10504&quot;,&quot;parentUUID&quot;:&quot;449aa271-ba04-49a1-8f39-1c7f62a04d79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is not affected by changes to provided mapping&quot;,&quot;fullTitle&quot;:&quot;TokenEffects is not affected by changes to provided mapping&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var mapping = [\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n];\nvar effects = new src_1.TokenEffects(mapping);\nchai_1.expect(effects.getEffect(src_1.Token.AUTOFAIL)).to.not.exist;\nmapping.push([src_1.Token.AUTOFAIL, new src_1.Autofail()]);\nchai_1.expect(effects.getEffect(src_1.Token.AUTOFAIL)).to.not.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d98214cc-240f-4903-8cad-b251018e4b2a&quot;,&quot;parentUUID&quot;:&quot;449aa271-ba04-49a1-8f39-1c7f62a04d79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;can be created empty&quot;,&quot;fullTitle&quot;:&quot;TokenEffects can be created empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects();\nchai_1.expect(effects.getEffect(src_1.Token.ELDER_SIGN)).to.not.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a053b3a8-08dd-4d46-bb2e-00e53fb10f0d&quot;,&quot;parentUUID&quot;:&quot;449aa271-ba04-49a1-8f39-1c7f62a04d79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d3652b1a-7377-4a86-8800-b93c3d3efc90&quot;,&quot;title&quot;:&quot;setEffect&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new TokenEffects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffect should return a new TokenEffects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar modifiedEffects = effects.setEffect(src_1.Token.CULTIST, new src_1.Autofail());\nchai_1.expect(modifiedEffects).to.not.equal(effects);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3e42c52-0c98-47bf-b827-631a1f73d219&quot;,&quot;parentUUID&quot;:&quot;d3652b1a-7377-4a86-8800-b93c3d3efc90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should set the new effect&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffect should set the new effect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar modifiedEffects = effects.setEffect(src_1.Token.CULTIST, new src_1.Autofail());\nchai_1.expect(modifiedEffects.getEffect(src_1.Token.CULTIST).sameAs(new src_1.Autofail())).to\n    .be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68f8deaf-0dc4-4411-a92b-92097f896505&quot;,&quot;parentUUID&quot;:&quot;d3652b1a-7377-4a86-8800-b93c3d3efc90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leave the original effects untouched&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffect should leave the original effects untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\neffects.setEffect(src_1.Token.CULTIST, new src_1.Autofail());\nchai_1.expect(effects.getEffect(src_1.Token.CULTIST).sameAs(new src_1.Modifier(-2))).to.be\n    .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34fe7e7e-3edd-490c-831f-f50a234c3932&quot;,&quot;parentUUID&quot;:&quot;d3652b1a-7377-4a86-8800-b93c3d3efc90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b3e42c52-0c98-47bf-b827-631a1f73d219&quot;,&quot;68f8deaf-0dc4-4411-a92b-92097f896505&quot;,&quot;34fe7e7e-3edd-490c-831f-f50a234c3932&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8e6da54f-d44c-466f-8a07-e28fbf2a6da9&quot;,&quot;title&quot;:&quot;setEffects&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new TokenEffects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffects should return a new TokenEffects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar modifiedEffects = effects.setEffects([\n    [src_1.Token.AUTOFAIL, new src_1.Autofail()]\n]);\nchai_1.expect(modifiedEffects).to.not.equal(effects);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5675881-a786-4b96-a329-9d1380e8176d&quot;,&quot;parentUUID&quot;:&quot;8e6da54f-d44c-466f-8a07-e28fbf2a6da9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should set the new effects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffects should set the new effects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar modifiedEffects = effects.setEffects([\n    [src_1.Token.TABLET, new src_1.Modifier(-3)],\n    [src_1.Token.ELDER_THING, new src_1.Modifier(-4)]\n]);\nchai_1.expect(modifiedEffects.getEffect(src_1.Token.TABLET).sameAs(new src_1.Modifier(-3)))\n    .to.be.true;\nchai_1.expect(modifiedEffects.getEffect(src_1.Token.ELDER_THING).sameAs(new src_1.Modifier(-4))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14cf1b23-990d-45fe-847d-5da7ea7f0257&quot;,&quot;parentUUID&quot;:&quot;8e6da54f-d44c-466f-8a07-e28fbf2a6da9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leave the original effects untouched&quot;,&quot;fullTitle&quot;:&quot;TokenEffects setEffects should leave the original effects untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\neffects.setEffects([\n    [src_1.Token.CULTIST, new src_1.Modifier(-3)],\n    [src_1.Token.TABLET, new src_1.Modifier(-4)]\n]);\nchai_1.expect(effects.getEffect(src_1.Token.CULTIST).sameAs(new src_1.Modifier(-2))).to.be\n    .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8599427f-1f03-4fbc-8d02-a1c6029e90c3&quot;,&quot;parentUUID&quot;:&quot;8e6da54f-d44c-466f-8a07-e28fbf2a6da9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e5675881-a786-4b96-a329-9d1380e8176d&quot;,&quot;14cf1b23-990d-45fe-847d-5da7ea7f0257&quot;,&quot;8599427f-1f03-4fbc-8d02-a1c6029e90c3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c92a9abf-616b-4777-92a1-04af7ef3d92b&quot;,&quot;title&quot;:&quot;merge&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a new TokenEffects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects merge should return a new TokenEffects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects1 = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar effects2 = new src_1.TokenEffects([\n    [src_1.Token.TABLET, new src_1.Modifier(-3)],\n    [src_1.Token.ELDER_THING, new src_1.Modifier(-4)]\n]);\nvar merged = effects1.merge(effects2);\nchai_1.expect(merged).to.not.equal(effects1);\nchai_1.expect(merged).to.not.equal(effects2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96a66aaa-be01-4a0a-8b7a-1afe60523388&quot;,&quot;parentUUID&quot;:&quot;c92a9abf-616b-4777-92a1-04af7ef3d92b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should merge effects&quot;,&quot;fullTitle&quot;:&quot;TokenEffects merge should merge effects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects1 = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Modifier(1)],\n    [src_1.Token.CULTIST, new src_1.Modifier(-2)]\n]);\nvar effects2 = new src_1.TokenEffects([\n    [src_1.Token.CULTIST, new src_1.Modifier(-3)],\n    [src_1.Token.TABLET, new src_1.Modifier(-4)]\n]);\nvar merged = effects1.merge(effects2);\nchai_1.expect(merged.getEffect(src_1.Token.ELDER_SIGN).sameAs(new src_1.Modifier(1))).to.be\n    .true;\nchai_1.expect(merged.getEffect(src_1.Token.CULTIST).sameAs(new src_1.Modifier(-3))).to.be\n    .true;\nchai_1.expect(merged.getEffect(src_1.Token.TABLET).sameAs(new src_1.Modifier(-4))).to.be\n    .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84dc9f55-8aaa-44f4-a4c3-9346aab00f03&quot;,&quot;parentUUID&quot;:&quot;c92a9abf-616b-4777-92a1-04af7ef3d92b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;96a66aaa-be01-4a0a-8b7a-1afe60523388&quot;,&quot;84dc9f55-8aaa-44f4-a4c3-9346aab00f03&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3d367069-fd52-4905-9d99-cdc19a1a3ffb&quot;,&quot;title&quot;:&quot;isTokenAutoSuccess&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when token is autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isTokenAutoSuccess is true when token is autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Autosuccess()]]);\nchai_1.expect(effects.isTokenAutoSuccess(src_1.Token.ELDER_SIGN)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd11c134-0eb0-460e-aa27-ec74ba1cfc73&quot;,&quot;parentUUID&quot;:&quot;3d367069-fd52-4905-9d99-cdc19a1a3ffb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when token is not autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isTokenAutoSuccess is false when token is not autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Modifier(1)]]);\nchai_1.expect(effects.isTokenAutoSuccess(src_1.Token.ELDER_SIGN)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a53a4084-330a-40d2-b627-38901f08ad0c&quot;,&quot;parentUUID&quot;:&quot;3d367069-fd52-4905-9d99-cdc19a1a3ffb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bd11c134-0eb0-460e-aa27-ec74ba1cfc73&quot;,&quot;a53a4084-330a-40d2-b627-38901f08ad0c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fe697dee-0252-4873-82e8-f59f4421ebbf&quot;,&quot;title&quot;:&quot;isTokenAutoFail&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is true when token is autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isTokenAutoFail is true when token is autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.AUTOFAIL, new src_1.Autofail()]]);\nchai_1.expect(effects.isTokenAutoFail(src_1.Token.AUTOFAIL)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e228c82-5b1b-4ded-af77-ed50b86d2415&quot;,&quot;parentUUID&quot;:&quot;fe697dee-0252-4873-82e8-f59f4421ebbf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;is false when token is not autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isTokenAutoFail is false when token is not autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Modifier(1)]]);\nchai_1.expect(effects.isTokenAutoFail(src_1.Token.ELDER_SIGN)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6b2ae12-fb98-40bd-b094-76a181c926f9&quot;,&quot;parentUUID&quot;:&quot;fe697dee-0252-4873-82e8-f59f4421ebbf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8e228c82-5b1b-4ded-af77-ed50b86d2415&quot;,&quot;f6b2ae12-fb98-40bd-b094-76a181c926f9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;382a94b8-ad0f-4046-9735-a073a7573bb8&quot;,&quot;title&quot;:&quot;getTokenModifier&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns the token modifier if the token is a modifier token&quot;,&quot;fullTitle&quot;:&quot;TokenEffects getTokenModifier returns the token modifier if the token is a modifier token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Modifier(2)]]);\nchai_1.expect(effects.getTokenModifier(src_1.Token.ELDER_SIGN)).to.equal(2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de58b68b-ead7-455d-9ef9-13be8758f9ee&quot;,&quot;parentUUID&quot;:&quot;382a94b8-ad0f-4046-9735-a073a7573bb8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns an error if the token effect is not a modifier token&quot;,&quot;fullTitle&quot;:&quot;TokenEffects getTokenModifier returns an error if the token effect is not a modifier token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([[src_1.Token.ELDER_SIGN, new src_1.Autosuccess()]]);\nchai_1.expect(function () {\n    effects.getTokenModifier(src_1.Token.ELDER_SIGN);\n}).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffd5d428-6454-4f01-9201-7ac60b45bdd6&quot;,&quot;parentUUID&quot;:&quot;382a94b8-ad0f-4046-9735-a073a7573bb8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;de58b68b-ead7-455d-9ef9-13be8758f9ee&quot;,&quot;ffd5d428-6454-4f01-9201-7ac60b45bdd6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ca2feccf-a12d-495c-a847-c8aa9b597172&quot;,&quot;title&quot;:&quot;sortByBestOutcomeDesc&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Autosuccess comes first&quot;,&quot;fullTitle&quot;:&quot;TokenEffects sortByBestOutcomeDesc Autosuccess comes first&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Autosuccess()],\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)]\n]);\nvar tokens = [\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.ELDER_SIGN,\n    src_1.Token.PLUS_ONE\n];\nchai_1.expect(effects.sortByBestOutcomeDesc(tokens)[0]).to.equal(src_1.Token.ELDER_SIGN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc2c2382-7b8a-42c8-8765-7678ec5aaa0d&quot;,&quot;parentUUID&quot;:&quot;ca2feccf-a12d-495c-a847-c8aa9b597172&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Autofail comes last&quot;,&quot;fullTitle&quot;:&quot;TokenEffects sortByBestOutcomeDesc Autofail comes last&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.AUTOFAIL, new src_1.Autofail()]\n]);\nvar tokens = [\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.AUTOFAIL,\n    src_1.Token.PLUS_ONE\n];\nchai_1.expect(effects.sortByBestOutcomeDesc(tokens)[tokens.length - 1]).to.equal(src_1.Token.AUTOFAIL);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1bcc0879-63c8-4404-a1cc-ea2761f02c17&quot;,&quot;parentUUID&quot;:&quot;ca2feccf-a12d-495c-a847-c8aa9b597172&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Modifier tokens are sorted by their modifier value from highest to lowest&quot;,&quot;fullTitle&quot;:&quot;TokenEffects sortByBestOutcomeDesc Modifier tokens are sorted by their modifier value from highest to lowest&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.MINUS_FIVE, new src_1.Modifier(-5)]\n]);\nvar tokens = [\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_FIVE,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_TWO\n];\nvar sorted = [\n    src_1.Token.PLUS_ONE,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.MINUS_ONE,\n    src_1.Token.MINUS_TWO,\n    src_1.Token.MINUS_FIVE\n];\nchai_1.expect(effects.sortByBestOutcomeDesc(tokens)).to.deep.equal(sorted);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29e2535c-7cfb-4275-b041-470a8318b441&quot;,&quot;parentUUID&quot;:&quot;ca2feccf-a12d-495c-a847-c8aa9b597172&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fc2c2382-7b8a-42c8-8765-7678ec5aaa0d&quot;,&quot;1bcc0879-63c8-4404-a1cc-ea2761f02c17&quot;,&quot;29e2535c-7cfb-4275-b041-470a8318b441&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0494f422-fab4-4a00-ba48-2c20091a689f&quot;,&quot;title&quot;:&quot;isSuccess&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sharedEffects = new src_1.TokenEffects([\n    [src_1.Token.ELDER_SIGN, new src_1.Autosuccess()],\n    [src_1.Token.MINUS_ONE, new src_1.Modifier(-1)],\n    [src_1.Token.MINUS_TWO, new src_1.Modifier(-2)],\n    [src_1.Token.AUTOFAIL, new src_1.Autofail()]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9d23e8f-c0b6-43ed-b447-6ef189a77c9b&quot;,&quot;parentUUID&quot;:&quot;0494f422-fab4-4a00-ba48-2c20091a689f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d3841b05-bc9d-4b4e-af10-40835d2dc4ec&quot;,&quot;title&quot;:&quot;with a single token&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns true whatever the difficulty if the token is an autosuccess&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with a single token returns true whatever the difficulty if the token is an autosuccess&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN], 3)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN], -3)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN], -20)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f8318d6-5f77-4ef2-a6ce-1666290f2acc&quot;,&quot;parentUUID&quot;:&quot;d3841b05-bc9d-4b4e-af10-40835d2dc4ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false whatever the difficulty if the token is an autofail&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with a single token returns false whatever the difficulty if the token is an autofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.AUTOFAIL], 3)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.AUTOFAIL], -3)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.AUTOFAIL], -20)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a844a43d-fd06-4a4e-844a-1e219f4af106&quot;,&quot;parentUUID&quot;:&quot;d3841b05-bc9d-4b4e-af10-40835d2dc4ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if the sum of (skill - difficulty) and modifier value is greater than or equal to 0&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with a single token returns true if the sum of (skill - difficulty) and modifier value is greater than or equal to 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE], 3)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE], 1)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_TWO], 2)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0809b3bb-0474-477f-94ed-497a2772c237&quot;,&quot;parentUUID&quot;:&quot;d3841b05-bc9d-4b4e-af10-40835d2dc4ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if the sum of (skill - difficulty) and modifier value is lesser than 0&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with a single token returns false if the sum of (skill - difficulty) and modifier value is lesser than 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE], -3)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE], 0)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_TWO], 1)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08b7ae2a-5a04-4e85-977a-9552df01973b&quot;,&quot;parentUUID&quot;:&quot;d3841b05-bc9d-4b4e-af10-40835d2dc4ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5f8318d6-5f77-4ef2-a6ce-1666290f2acc&quot;,&quot;a844a43d-fd06-4a4e-844a-1e219f4af106&quot;,&quot;0809b3bb-0474-477f-94ed-497a2772c237&quot;,&quot;08b7ae2a-5a04-4e85-977a-9552df01973b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f2610936-abf9-4b5f-9da6-d44fec291d26&quot;,&quot;title&quot;:&quot;with multiple tokens&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns true when 1 of the tokens is an autosuccess and there are no autofail&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns true when 1 of the tokens is an autosuccess and there are no autofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_TWO], -8))\n    .to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e182f2cd-c328-43b9-8c38-d2fed88b3b89&quot;,&quot;parentUUID&quot;:&quot;f2610936-abf9-4b5f-9da6-d44fec291d26&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true when 1 of the tokens is an autofail&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns true when 1 of the tokens is an autofail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.AUTOFAIL, src_1.Token.MINUS_TWO], 10))\n    .to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17c1d228-e749-4724-8050-744ed0971aef&quot;,&quot;parentUUID&quot;:&quot;f2610936-abf9-4b5f-9da6-d44fec291d26&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false when there are both an autosuccess and an autofail among the tokens&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns false when there are both an autosuccess and an autofail among the tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.ELDER_SIGN, src_1.Token.MINUS_TWO, src_1.Token.AUTOFAIL], 10)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3387a21-f02e-4acc-8bde-096c2933b023&quot;,&quot;parentUUID&quot;:&quot;f2610936-abf9-4b5f-9da6-d44fec291d26&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns true if the sum of (skill - difficulty) and all modifier values is lesser than 0&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns true if the sum of (skill - difficulty) and all modifier values is lesser than 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], 6)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO, src_1.Token.MINUS_ONE], 4)).to.be.true;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_TWO, src_1.Token.MINUS_TWO, src_1.Token.MINUS_TWO], 6)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdf1d7b2-1747-46f8-a0a2-f103552442ca&quot;,&quot;parentUUID&quot;:&quot;f2610936-abf9-4b5f-9da6-d44fec291d26&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns false if the sum of (skill - difficulty) and all modifier values is lesser than 0&quot;,&quot;fullTitle&quot;:&quot;TokenEffects isSuccess with multiple tokens returns false if the sum of (skill - difficulty) and all modifier values is lesser than 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], 0)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE], 2)).to.be.false;\nchai_1.expect(sharedEffects.isSuccess([src_1.Token.MINUS_ONE, src_1.Token.MINUS_ONE, src_1.Token.MINUS_TWO], 3)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;634984ae-cdf6-49bc-a6d1-15f18e046f69&quot;,&quot;parentUUID&quot;:&quot;f2610936-abf9-4b5f-9da6-d44fec291d26&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e182f2cd-c328-43b9-8c38-d2fed88b3b89&quot;,&quot;17c1d228-e749-4724-8050-744ed0971aef&quot;,&quot;f3387a21-f02e-4acc-8bde-096c2933b023&quot;,&quot;cdf1d7b2-1747-46f8-a0a2-f103552442ca&quot;,&quot;634984ae-cdf6-49bc-a6d1-15f18e046f69&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ee5e7a01-bfd5-471d-b5e7-7bb823b70f47&quot;,&quot;title&quot;:&quot;separateRedrawTokens&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/tokens/TokenEffects.spec.ts&quot;,&quot;file&quot;:&quot;/spec/tokens/TokenEffects.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;separates redraw tokens from non-redraw tokens&quot;,&quot;fullTitle&quot;:&quot;TokenEffects separateRedrawTokens separates redraw tokens from non-redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.ZERO, new src_1.Modifier(0)],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)],\n    [src_1.Token.CURSE, new src_1.Modifier(-2, true)]\n]);\nvar _a = effects.separateRedrawTokens([\n    src_1.Token.ZERO,\n    src_1.Token.BLESS,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.CURSE,\n    src_1.Token.ZERO\n]), nonRedrawTokens = _a.nonRedrawTokens, redrawTokens = _a.redrawTokens;\nchai_1.expect(nonRedrawTokens).to.deep.equal([\n    src_1.Token.ZERO,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.ZERO\n]);\nchai_1.expect(redrawTokens).to.deep.equal([src_1.Token.BLESS, src_1.Token.CURSE]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0039a99-46fd-4a23-adfc-8ebebabd8a63&quot;,&quot;parentUUID&quot;:&quot;ee5e7a01-bfd5-471d-b5e7-7bb823b70f47&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;separates redraw tokens from non-redraw tokens when there are no redraw tokens&quot;,&quot;fullTitle&quot;:&quot;TokenEffects separateRedrawTokens separates redraw tokens from non-redraw tokens when there are no redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.ZERO, new src_1.Modifier(0)],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)],\n    [src_1.Token.CURSE, new src_1.Modifier(-2, true)]\n]);\nvar _a = effects.separateRedrawTokens([\n    src_1.Token.ZERO,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.ZERO\n]), nonRedrawTokens = _a.nonRedrawTokens, redrawTokens = _a.redrawTokens;\nchai_1.expect(nonRedrawTokens).to.deep.equal([\n    src_1.Token.ZERO,\n    src_1.Token.PLUS_ONE,\n    src_1.Token.ZERO\n]);\nchai_1.expect(redrawTokens).to.deep.equal([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b59310c3-22ad-43b4-a362-411b0b9c6774&quot;,&quot;parentUUID&quot;:&quot;ee5e7a01-bfd5-471d-b5e7-7bb823b70f47&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;separates redraw tokens from non-redraw tokens when there are no non-redraw tokens&quot;,&quot;fullTitle&quot;:&quot;TokenEffects separateRedrawTokens separates redraw tokens from non-redraw tokens when there are no non-redraw tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.ZERO, new src_1.Modifier(0)],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)],\n    [src_1.Token.CURSE, new src_1.Modifier(-2, true)]\n]);\nvar _a = effects.separateRedrawTokens([\n    src_1.Token.BLESS,\n    src_1.Token.CURSE\n]), nonRedrawTokens = _a.nonRedrawTokens, redrawTokens = _a.redrawTokens;\nchai_1.expect(nonRedrawTokens).to.deep.equal([]);\nchai_1.expect(redrawTokens).to.deep.equal([src_1.Token.BLESS, src_1.Token.CURSE]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50948180-cd59-4469-96fc-a8ba79f0938c&quot;,&quot;parentUUID&quot;:&quot;ee5e7a01-bfd5-471d-b5e7-7bb823b70f47&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;leaves the original token array untouched&quot;,&quot;fullTitle&quot;:&quot;TokenEffects separateRedrawTokens leaves the original token array untouched&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var effects = new src_1.TokenEffects([\n    [src_1.Token.PLUS_ONE, new src_1.Modifier(1)],\n    [src_1.Token.BLESS, new src_1.Modifier(2, true)]\n]);\nvar tokens = [src_1.Token.BLESS, src_1.Token.PLUS_ONE];\neffects.separateRedrawTokens(tokens);\nchai_1.expect(tokens).to.deep.equal([src_1.Token.BLESS, src_1.Token.PLUS_ONE]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb46ce19-3f4f-404a-9655-0bb308bf6bea&quot;,&quot;parentUUID&quot;:&quot;ee5e7a01-bfd5-471d-b5e7-7bb823b70f47&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a0039a99-46fd-4a23-adfc-8ebebabd8a63&quot;,&quot;b59310c3-22ad-43b4-a362-411b0b9c6774&quot;,&quot;50948180-cd59-4469-96fc-a8ba79f0938c&quot;,&quot;cb46ce19-3f4f-404a-9655-0bb308bf6bea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;fd9c6771-50d8-43dc-a0ee-ce22dbe10504&quot;,&quot;d98214cc-240f-4903-8cad-b251018e4b2a&quot;,&quot;a053b3a8-08dd-4d46-bb2e-00e53fb10f0d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fc12ca30-4709-4490-95a2-f10f0a58c191&quot;,&quot;title&quot;:&quot;utils&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f443744e-39f2-4bc1-a751-eebe35ee87ff&quot;,&quot;title&quot;:&quot;removeFirst&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove the first occurrence&quot;,&quot;fullTitle&quot;:&quot;utils removeFirst should remove the first occurrence&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar removed = utils.removeFirst(arr, 2);\nchai_1.expect(removed).to.deep.equal([1, 3]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bba60fe-82bd-4ef4-a8a5-26a7aff0ed7e&quot;,&quot;parentUUID&quot;:&quot;f443744e-39f2-4bc1-a751-eebe35ee87ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not remove other occurrences&quot;,&quot;fullTitle&quot;:&quot;utils removeFirst should not remove other occurrences&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 2, 2, 3];\nvar removed = utils.removeFirst(arr, 2);\nchai_1.expect(removed).to.deep.equal([1, 2, 2, 3]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69920b5b-7f2d-4c4a-a79c-964edd932a82&quot;,&quot;parentUUID&quot;:&quot;f443744e-39f2-4bc1-a751-eebe35ee87ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not modify the original array&quot;,&quot;fullTitle&quot;:&quot;utils removeFirst should not modify the original array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nutils.removeFirst(arr, 2);\nchai_1.expect(arr).to.deep.equal([1, 2, 3]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a1b12f1-dbf6-4ced-9263-8db49099e5ca&quot;,&quot;parentUUID&quot;:&quot;f443744e-39f2-4bc1-a751-eebe35ee87ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should do nothing if the array does not contain the element&quot;,&quot;fullTitle&quot;:&quot;utils removeFirst should do nothing if the array does not contain the element&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar removed = utils.removeFirst(arr, 4);\nchai_1.expect(arr).to.deep.equal([1, 2, 3]);\nchai_1.expect(removed).to.deep.equal([1, 2, 3]);\nchai_1.expect(arr).to.not.equal(removed);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06bee01f-4d8c-4c3d-be35-70620785212d&quot;,&quot;parentUUID&quot;:&quot;f443744e-39f2-4bc1-a751-eebe35ee87ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9bba60fe-82bd-4ef4-a8a5-26a7aff0ed7e&quot;,&quot;69920b5b-7f2d-4c4a-a79c-964edd932a82&quot;,&quot;9a1b12f1-dbf6-4ced-9263-8db49099e5ca&quot;,&quot;06bee01f-4d8c-4c3d-be35-70620785212d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4332bc6f-cd02-47e7-beae-a3dc6f0d1e2d&quot;,&quot;title&quot;:&quot;flatten&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;flattens an array&quot;,&quot;fullTitle&quot;:&quot;utils flatten flattens an array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(utils.flatten([[], [1], [2]])).to.deep.equal([1, 2]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a02ca1e-5bc3-430c-8dc7-6fd8f3843afd&quot;,&quot;parentUUID&quot;:&quot;4332bc6f-cd02-47e7-beae-a3dc6f0d1e2d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9a02ca1e-5bc3-430c-8dc7-6fd8f3843afd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;091e24b0-3e9a-4280-8b73-dddf206a5f21&quot;,&quot;title&quot;:&quot;combinations&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an empty array if K &gt; N&quot;,&quot;fullTitle&quot;:&quot;utils combinations should return an empty array if K &gt; N&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar comb = utils.combinations(4, arr);\nchai_1.expect(comb).to.deep.equals([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;992cd426-184f-4c89-9df2-1c8b910278f0&quot;,&quot;parentUUID&quot;:&quot;091e24b0-3e9a-4280-8b73-dddf206a5f21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return [[]] if K &lt;= 0&quot;,&quot;fullTitle&quot;:&quot;utils combinations should return [[]] if K &lt;= 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nchai_1.expect(utils.combinations(0, arr)).to.deep.equals([[]]);\nchai_1.expect(utils.combinations(-5, arr)).to.deep.equals([[]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21a0d7e6-e8dd-4e9b-a10d-d5f6be0bb4f5&quot;,&quot;parentUUID&quot;:&quot;091e24b0-3e9a-4280-8b73-dddf206a5f21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the combinations&quot;,&quot;fullTitle&quot;:&quot;utils combinations should return the combinations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar expected = [\n    [1, 2],\n    [1, 3],\n    [2, 3]\n];\nchai_1.expect(utils.combinations(2, arr)).to.deep.equals(expected);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15dea41c-4f97-4bc9-95ab-cff0ff0f9a84&quot;,&quot;parentUUID&quot;:&quot;091e24b0-3e9a-4280-8b73-dddf206a5f21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;992cd426-184f-4c89-9df2-1c8b910278f0&quot;,&quot;21a0d7e6-e8dd-4e9b-a10d-d5f6be0bb4f5&quot;,&quot;15dea41c-4f97-4bc9-95ab-cff0ff0f9a84&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cba93ef8-5f74-423c-8a75-64374bb7e86d&quot;,&quot;title&quot;:&quot;allCombinations&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return [[]] if provided an empty array of elements&quot;,&quot;fullTitle&quot;:&quot;utils allCombinations should return [[]] if provided an empty array of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var allComb = utils.allCombinations([]);\nchai_1.expect(allComb).to.deep.equals([[]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47237ae5-4236-40b3-b53e-e013105e215e&quot;,&quot;parentUUID&quot;:&quot;cba93ef8-5f74-423c-8a75-64374bb7e86d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return all combinations of provided elements including empty and full sets&quot;,&quot;fullTitle&quot;:&quot;utils allCombinations should return all combinations of provided elements including empty and full sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr = [1, 2, 3];\nvar expected = [[], [1], [2], [3], [1, 2], [1, 3], [2, 3], [1, 2, 3]];\nvar allComb = utils.allCombinations(arr);\nchai_1.expect(allComb).to.deep.equals(expected);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;926f0843-ce48-48ae-a2e2-4a2e8ed35093&quot;,&quot;parentUUID&quot;:&quot;cba93ef8-5f74-423c-8a75-64374bb7e86d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;47237ae5-4236-40b3-b53e-e013105e215e&quot;,&quot;926f0843-ce48-48ae-a2e2-4a2e8ed35093&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;34679d79-78f7-4cf0-b1e8-08803c10c20e&quot;,&quot;title&quot;:&quot;cartesianProduct&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should compute cartesian product of 2 arrays&quot;,&quot;fullTitle&quot;:&quot;utils cartesianProduct should compute cartesian product of 2 arrays&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var arr1 = [1, 2];\nvar arr2 = [3, 4];\nvar expected = [\n    [1, 3],\n    [1, 4],\n    [2, 3],\n    [2, 4]\n];\nchai_1.expect(utils.cartesianProduct(arr1, arr2)).to.deep.equals(expected);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83c1cf2f-a796-4d79-8977-87020b41bb6f&quot;,&quot;parentUUID&quot;:&quot;34679d79-78f7-4cf0-b1e8-08803c10c20e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;83c1cf2f-a796-4d79-8977-87020b41bb6f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1f4695ed-4cc1-4d61-9287-afa4739634c2&quot;,&quot;title&quot;:&quot;factorial&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/spec/utils.spec.ts&quot;,&quot;file&quot;:&quot;/spec/utils.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns 1 for 0!&quot;,&quot;fullTitle&quot;:&quot;utils factorial returns 1 for 0!&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(utils.factorial(0)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11ece415-c3a1-47a3-985f-37f8d5695726&quot;,&quot;parentUUID&quot;:&quot;1f4695ed-4cc1-4d61-9287-afa4739634c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns 6 for 3!&quot;,&quot;fullTitle&quot;:&quot;utils factorial returns 6 for 3!&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(utils.factorial(3)).to.equal(6);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b721e135-7e02-4ef5-9325-8b0788d0af6b&quot;,&quot;parentUUID&quot;:&quot;1f4695ed-4cc1-4d61-9287-afa4739634c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;11ece415-c3a1-47a3-985f-37f8d5695726&quot;,&quot;b721e135-7e02-4ef5-9325-8b0788d0af6b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.1.0&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;reports/tests&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;4.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;reports/tests&quot;,&quot;reportTitle&quot;:&quot;arkham-odds&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;reports/tests/assets&quot;,&quot;jsonFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/reports/tests/index.json&quot;,&quot;htmlFile&quot;:&quot;/home/runner/work/arkham-odds/arkham-odds/reports/tests/index.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>